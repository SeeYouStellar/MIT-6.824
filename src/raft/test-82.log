=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 0 vote for server 2
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
client write log 8735269643407607722 (index 1) to leader 2
flag 18142 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 48469 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
flag 22753 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 67214 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
flag 70606 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 3058 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
flag 77791 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 62903 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
flag 25883 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 68386 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
flag 90313 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 25048 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
flag 24853 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 89569 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8735269643407607722 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1452326944020977405 (index 2) to leader 2
flag 47159 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 90001 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8735269643407607722 1 1} {1452326944020977405 1 2}]
------------------------------------------------------
flag 46864 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 58796 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8735269643407607722 1 1} {1452326944020977405 1 2}]
------------------------------------------------------
client write log 6526898689589806957 (index 3) to leader 2
client write log 5223523254365345843 (index 4) to leader 2
client write log 1943308370165578411 (index 5) to leader 2
client write log 4864919094548128246 (index 6) to leader 2
client write log 4903626312128802174 (index 7) to leader 2
client write log 1102969197624270941 (index 8) to leader 2
client write log 8034040705532788412 (index 9) to leader 2
flag 68312 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 1675 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {8735269643407607722 1 1} {1452326944020977405 1 2} {6526898689589806957 1 3} {5223523254365345843 1 4} {1943308370165578411 1 5} {4864919094548128246 1 6} {4903626312128802174 1 7} {1102969197624270941 1 8} {8034040705532788412 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 1528 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3315398629023488536 (index 10) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 52514 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 44690 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 58683 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
term 3 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 16542 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 32605 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 37479 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 41696 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 4855 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 74399 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 7423 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 28715 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 16313 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 8605 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 70538 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 52641 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 3819 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 67759 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 43739 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 69442 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 47962 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 97248 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 53659 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 70506 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 98196 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 80689 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 49995 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 22762 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 6847 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 79539 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 27536 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 5633 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 12364 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 77199 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 23195 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 65966 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
flag 48574 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 53495 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3315398629023488536 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3315398629023488536 (index 11) to leader 2
flag 70348 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 62509 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
flag 8647 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 20212 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
flag 21734 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 1725 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
flag 21062 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 51584 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
flag 85720 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 9886 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
flag 59711 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 89429 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 53086 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 21775 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 93469 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 20815 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 41614 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 71669 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 69674 term 4 leader 0 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 87842 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11}]
------------------------------------------------------
client write log 9080623018213248259 (index 12) to leader 0
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 45392 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 30916 term 4 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 35575 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11} {9080623018213248259 4 12}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 88849 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 69297 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 1678 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11} {9080623018213248259 4 12}]
------------------------------------------------------
client write log 2676214416324557082 (index 13) to leader 0
client write log 4336177304260552753 (index 14) to leader 0
client write log 7809549261438827119 (index 15) to leader 0
client write log 2752986405989464145 (index 16) to leader 0
client write log 8149321440938297868 (index 17) to leader 0
client write log 1740763677317811062 (index 18) to leader 0
client write log 2738685653926425974 (index 19) to leader 0
client write log 852504438299972261 (index 20) to leader 0
client write log 8851586365438588220 (index 21) to leader 0
client write log 68820018355272861 (index 22) to leader 0
client write log 7351687206587996170 (index 23) to leader 0
client write log 8423453581731941839 (index 24) to leader 0
client write log 3222399825532480036 (index 25) to leader 0
client write log 6349980357357615363 (index 26) to leader 0
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 53368 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 78946 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 46127 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 1 9} {3315398629023488536 1 10} {3315398629023488536 3 11} {9080623018213248259 4 12} {2676214416324557082 4 13} {4336177304260552753 4 14} {7809549261438827119 4 15} {2752986405989464145 4 16} {8149321440938297868 4 17} {1740763677317811062 4 18} {2738685653926425974 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
flag 15945 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 22802 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 93004 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4009748776459148921 (index 12) to leader 2
flag 73768 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 38956 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83988 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 96808 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 28695 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 19702 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 9910 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 602 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 24208 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 59861 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 60395 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8443 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 9720 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 71167 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 3093 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 25978 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 89327 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74662 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 45744 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 27->26
------------------------------------------------------
flag 64283 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 26
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 26 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 58369 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 70296 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 75669 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 46509 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 44465 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 21802 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 38846 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 3065 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 5152 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 4852 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 10579 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 68397 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 32747 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 47370 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15475 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 21075 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 27->26
------------------------------------------------------
flag 78954 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 26
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 26 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
flag 8326 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 22311 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26}]
------------------------------------------------------
client write log 4009748776459148921 (index 27) to leader 0
flag 11628 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 99887 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
flag 75487 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 1613 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 28->27
------------------------------------------------------
flag 87805 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 27
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 27 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27465 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 96283 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
flag 13267 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 29597 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
flag 27117 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 61809 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2483282042418219430 (index 28) to leader 0
flag 88521 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 97092 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27} {2483282042418219430 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39862 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 53574 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27} {2483282042418219430 4 28}]
------------------------------------------------------
client write log 9014840682297684110 (index 29) to leader 0
client write log 5595879538122154321 (index 30) to leader 0
client write log 4042054525059586794 (index 31) to leader 0
client write log 1514566083727962205 (index 32) to leader 0
client write log 8766861796239330606 (index 33) to leader 0
client write log 996854076818514702 (index 34) to leader 0
client write log 3898280328556375098 (index 35) to leader 0
client write log 7715970083209638224 (index 36) to leader 0
client write log 8044004849938508835 (index 37) to leader 0
client write log 3965046253239590694 (index 38) to leader 0
client write log 9210528382400838989 (index 39) to leader 0
client write log 8812786030587657843 (index 40) to leader 0
client write log 478473244710938623 (index 41) to leader 0
flag 95407 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 70623 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 19} {852504438299972261 4 20} {8851586365438588220 4 21} {68820018355272861 4 22} {7351687206587996170 4 23} {8423453581731941839 4 24} {3222399825532480036 4 25} {6349980357357615363 4 26} {4009748776459148921 4 27} {2483282042418219430 4 28} {9014840682297684110 4 29} {5595879538122154321 4 30} {4042054525059586794 4 31} {1514566083727962205 4 32} {8766861796239330606 4 33} {996854076818514702 4 34} {3898280328556375098 4 35} {7715970083209638224 4 36} {8044004849938508835 4 37} {3965046253239590694 4 38} {9210528382400838989 4 39} {8812786030587657843 4 40} {478473244710938623 4 41}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=41
-------------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 9679 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=41
-------------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8202484306107714608 (index 42) to leader 0
term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 55442 term 4 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 4 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 94688 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 51817 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 43->42
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 79335 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
flag 51315 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 11468 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
flag 76 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 70524 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
flag 15838 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 23149 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
flag 17047 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 83214 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
flag 79920 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 19485 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
flag 58118 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 89912 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
flag 84027 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 8335 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73587 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 83425 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
flag 25695 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 91309 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68349 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 52897 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
flag 70624 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 60673 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24249 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 38307 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16879 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 20790 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38987 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 51701 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65794 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 14490 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
flag 69988 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 84972 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97848 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 84304 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42}]
------------------------------------------------------
client write log 8202484306107714608 (index 43) to leader 0
flag 90533 term 6 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 26640 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
flag 58787 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 81471 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
flag 95492 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 18732 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
flag 98358 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 87706 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
flag 40263 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 87467 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
flag 15822 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 50705 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4115526485580534974 (index 44) to leader 0
flag 48207 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 50916 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43} {4115526485580534974 6 44}]
------------------------------------------------------
flag 65732 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 12688 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43} {4115526485580534974 6 44}]
------------------------------------------------------
client write log 2245830362326465425 (index 45) to leader 0
client write log 9112244072872395721 (index 46) to leader 0
client write log 8803449677455448170 (index 47) to leader 0
client write log 3283994184844476215 (index 48) to leader 0
client write log 2063637032075159599 (index 49) to leader 0
client write log 1942472456699227736 (index 50) to leader 0
client write log 7661293677450570373 (index 51) to leader 0
client write log 248515811274061452 (index 52) to leader 0
client write log 6532632851889060723 (index 53) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94253 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 50774 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 39} {8812786030587657843 4 40} {478473244710938623 4 41} {8202484306107714608 4 42} {8202484306107714608 6 43} {4115526485580534974 6 44} {2245830362326465425 6 45} {9112244072872395721 6 46} {8803449677455448170 6 47} {3283994184844476215 6 48} {2063637032075159599 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 46581 term 6 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
!!!!!!connect server 1
client write log 658568873355197294 (index 54) to leader 0
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 96804 term 6 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 6 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:53 
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 1
term 8 server 0 become leader
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 0 get outdate rpc reply from server 2
flag 58350 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 24447 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 55->54
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 75148 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47677 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 99517 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 16417 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 23398 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 75038 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 48777 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 41917 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 76939 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 51990 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 71153 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 41926 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 6383 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 21690 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 70869 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
flag 15887 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 37754 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 64463 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 56044 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 71480 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 11562 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 16679 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 53527 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75162 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 34315 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 2246 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 22408 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 14172 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 83080 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 90631 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 51570 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6202 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 24810 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
flag 28050 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 648 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54}]
------------------------------------------------------
client write log 658568873355197294 (index 55) to leader 0
flag 57403 term 8 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
flag 13422 term 8 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 8 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
flag 36352 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 29938 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
flag 1986 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 21735 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
flag 51487 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 70522 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
flag 49401 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 88857 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
flag 46342 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 11807 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
flag 57422 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 31914 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90145 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 70400 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 98338 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 37610 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 17238 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 71890 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 69055 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 80535 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55}]
------------------------------------------------------
client write log 6262343677925699207 (index 56) to leader 2
flag 14817 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 20279 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 56->55
------------------------------------------------------
flag 46783 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 24162 term 9 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56}]
------------------------------------------------------
flag 80098 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 55
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 45755 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 961 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56}]
------------------------------------------------------
client write log 5058922798224979403 (index 57) to leader 2
flag 43842 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 55
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 36629 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 74627 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52774 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 55
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 17389 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 50461 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57}]
------------------------------------------------------
flag 40830 term 8 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
!!!!!!connect server 0
client write log 6255051719243412549 (index 58) to leader 2
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 55
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78176 term 9 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 64735 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14226 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 16309 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
flag 70603 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 59586 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
flag 996 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 14878 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
flag 23915 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 81324 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
flag 10946 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 99660 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
flag 51425 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 9399 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1534949906449400297 (index 59) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76352 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 54669 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {1942472456699227736 6 50} {7661293677450570373 6 51} {248515811274061452 6 52} {6532632851889060723 6 53} {658568873355197294 6 54} {658568873355197294 8 55} {6262343677925699207 9 56} {5058922798224979403 9 57} {6255051719243412549 9 58} {1534949906449400297 9 59}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 25387 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 549977211902225234 (index 60) to leader 2
client write log 6549573565142225541 (index 61) to leader 2
client write log 7491151450056528683 (index 62) to leader 2
client write log 1614472205139688418 (index 63) to leader 2
client write log 7610483946112183686 (index 64) to leader 2
client write log 6031840969840037392 (index 65) to leader 2
client write log 7636081315215491648 (index 66) to leader 2
client write log 9059608225506574695 (index 67) to leader 2
client write log 5772916609336070630 (index 68) to leader 2
client write log 805842549760225814 (index 69) to leader 2
client write log 4656011536392665342 (index 70) to leader 2
term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 97905 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {549977211902225234 9 60} {6549573565142225541 9 61} {7491151450056528683 9 62} {1614472205139688418 9 63} {7610483946112183686 9 64} {6031840969840037392 9 65} {7636081315215491648 9 66} {9059608225506574695 9 67} {5772916609336070630 9 68} {805842549760225814 9 69} {4656011536392665342 9 70}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 16952 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {4656011536392665342 9 70}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4521478071653651566 (index 71) to leader 2
term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 6885 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get outdate rpc reply from server 0
flag 42043 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 94249 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 72->71
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 77998 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
flag 77371 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 87943 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
flag 36298 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 44758 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
flag 96770 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 48186 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55874 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 43259 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
flag 88552 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 34651 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
flag 71978 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 51770 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55026 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 47765 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
!!!!!!diconnect server 0
client write log 544937591501580801 (index 72) to leader 2
flag 38307 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 48653 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71} {544937591501580801 11 72}]
------------------------------------------------------
flag 42033 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 54790 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71} {544937591501580801 11 72}]
------------------------------------------------------
client write log 6249136874495883661 (index 73) to leader 2
client write log 4393903637355342346 (index 74) to leader 2
client write log 2656306545957407246 (index 75) to leader 2
client write log 7119255276802720860 (index 76) to leader 2
client write log 2935659476061954909 (index 77) to leader 2
client write log 6588012768770230768 (index 78) to leader 2
client write log 137891929433194701 (index 79) to leader 2
client write log 3163932959422274038 (index 80) to leader 2
client write log 137433328468068152 (index 81) to leader 2
flag 89291 term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 71186 term 11 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 69} {4656011536392665342 9 70} {4521478071653651566 9 71} {544937591501580801 11 72} {6249136874495883661 11 73} {4393903637355342346 11 74} {2656306545957407246 11 75} {7119255276802720860 11 76} {2935659476061954909 11 77} {6588012768770230768 11 78} {137891929433194701 11 79} {3163932959422274038 11 80} {137433328468068152 11 81}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 42779 term 11 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 11 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 0
client write log 599717423695744666 (index 82) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 58490 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 95608 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 83->82
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 83->82
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 31194 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12268 term 13 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 25772 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34614 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 99143 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
flag 53691 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 19410 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
flag 8170 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 76889 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
flag 9912 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 16462 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
flag 66608 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 95129 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14825 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 90808 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40562 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 63939 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
flag 80460 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 66073 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
flag 65015 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 19524 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
flag 58579 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 22683 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 0 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 0
flag 89097 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 17507 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44129 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 78356 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
flag 39755 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 19367 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47953 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 53580 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43138 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 23487 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
flag 75952 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 17781 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
flag 46163 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 4071 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82}]
------------------------------------------------------
client write log 599717423695744666 (index 83) to leader 2
flag 35934 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 2257 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
flag 90284 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 87815 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
flag 16910 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 11719 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
flag 75764 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 67198 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
flag 74956 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 9667 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
flag 58239 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 43027 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42586 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 26155 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 1170 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 37506 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84852 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 47128 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 54082 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 39624 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 0
term 14 server 1 become leader
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
flag 45261 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 90555 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83}]
------------------------------------------------------
flag 41442 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
client write log 2576605286506838826 (index 84) to leader 1
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17945 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 18445 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84}]
------------------------------------------------------
flag 94980 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 93731 term 14 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 25264 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84}]
------------------------------------------------------
flag 40972 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
client write log 4673276193941516104 (index 85) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54744 term 14 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 25304 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85}]
------------------------------------------------------
flag 54548 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 31784 term 14 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 97590 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85}]
------------------------------------------------------
flag 62455 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
!!!!!!connect server 2
client write log 3696728429466870978 (index 86) to leader 1
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15497 term 14 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 38164 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
flag 86032 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 82733 term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
flag 54366 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 67894 term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
flag 52469 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 37783 term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93103 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 95977 term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12651 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 39995 term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66508 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 34944 term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8093144735100324143 (index 87) to leader 1
flag 9326 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 11912 term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86} {8093144735100324143 14 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12066 term 14 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 98175 term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86} {8093144735100324143 14 87}]
------------------------------------------------------
client write log 3044497740052769309 (index 88) to leader 1
client write log 3673345488413291132 (index 89) to leader 1
client write log 7513309007060418485 (index 90) to leader 1
client write log 4660643388687650008 (index 91) to leader 1
client write log 3743692250677765950 (index 92) to leader 1
client write log 2291373895615361823 (index 93) to leader 1
client write log 2618190657319144704 (index 94) to leader 1
client write log 3772037255710735654 (index 95) to leader 1
client write log 3698323154359363562 (index 96) to leader 1
client write log 5437513311159528982 (index 97) to leader 1
client write log 1404528629462400250 (index 98) to leader 1
flag 28694 term 14 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 60500 term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 79} {3163932959422274038 11 80} {137433328468068152 11 81} {599717423695744666 11 82} {599717423695744666 13 83} {2576605286506838826 14 84} {4673276193941516104 14 85} {3696728429466870978 14 86} {8093144735100324143 14 87} {3044497740052769309 14 88} {3673345488413291132 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=98
-------------------------------------------------------------
flag 63989 term 14 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=98
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 87->86
------------------------------------------------------
!!!!!!connect server 2
client write log 4262453656475102013 (index 99) to leader 1
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 0 not vote for server 2, 日志不够新
term 16 server 2 vote for server 1
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 73668 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 22024 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 100->99
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 100->99
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38904 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99596 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 14279 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 11139 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 50254 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 91756 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 6993 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 30129 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 72678 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63670 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 34603 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37789 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 6383 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 47256 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 77312 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 99097 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 40700 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 29558 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 92945 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 99428 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 24464 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15802 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 80888 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 40240 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 1883 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 90565 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 66379 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 56485 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 6299 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76032 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 4203 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 28130 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 63719 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
flag 80450 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 3401 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25111 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 97708 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99}]
------------------------------------------------------
client write log 4262453656475102013 (index 100) to leader 1
flag 79401 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 77264 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
update nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 89} {7513309007060418485 14 90} {4660643388687650008 14 91} {3743692250677765950 14 92} {2291373895615361823 14 93} {2618190657319144704 14 94} {3772037255710735654 14 95} {3698323154359363562 14 96} {5437513311159528982 14 97} {1404528629462400250 14 98} {4262453656475102013 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18072 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 12803 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 26878 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 14183 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
flag 4966 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 18026 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
flag 67528 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 59636 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
flag 4885 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 97953 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24893 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 36980 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4262453656475102013 16 100}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7776599401608665593 (index 101) to leader 1
flag 46905 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 10645 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101}]
------------------------------------------------------
flag 67069 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 8901 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101}]
------------------------------------------------------
client write log 3269010108098587800 (index 102) to leader 1
client write log 8047943970326144193 (index 103) to leader 1
client write log 9149026330851832682 (index 104) to leader 1
client write log 3479706566969228849 (index 105) to leader 1
client write log 894901935570749145 (index 106) to leader 1
client write log 2419259536443746123 (index 107) to leader 1
client write log 1836367729366512965 (index 108) to leader 1
flag 77177 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 33058 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108}]
------------------------------------------------------
flag 10093 term 16 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 16 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 53187 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1805889983868441922 (index 109) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 41309 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 64156 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 110->109
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 110->109
------------------------------------------------------
flag 32448 term 18 leader 1 nextIndex[0]: 109  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 6630 term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71911 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 93315 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 95034 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 43708 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 70786 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 75179 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48373 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 97027 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 8082 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 53202 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 26431 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 24992 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57576 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 7633 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53402 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 80876 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 88342 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 20339 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 53296 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 47169 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 87128 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 81040 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 59276 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 39737 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 47133 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 27149 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26635 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 553 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 24286 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 62896 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 88131 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 76734 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
flag 76956 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 99387 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84894 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 37947 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109}]
------------------------------------------------------
client write log 1805889983868441922 (index 110) to leader 1
flag 82301 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 42938 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 99} {4262453656475102013 16 100} {7776599401608665593 16 101} {3269010108098587800 16 102} {8047943970326144193 16 103} {9149026330851832682 16 104} {3479706566969228849 16 105} {894901935570749145 16 106} {2419259536443746123 16 107} {1836367729366512965 16 108} {1805889983868441922 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
flag 55406 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 29911 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
term 18 Server2 start snapshot! index=109
term 18 Server0 start snapshot! index=109
term 18 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54146 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 35951 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18250 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 63678 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
flag 84199 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 27609 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
flag 35827 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 65839 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79784 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 92703 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 59861 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 66594 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 26584 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 22482 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
flag 48534 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 87284 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 50516 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 40705 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {1805889983868441922 18 110}]
------------------------------------------------------
client write log 5104965056685185912 (index 111) to leader 0
flag 99024 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 54013 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 29965 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 33519 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111}]
------------------------------------------------------
flag 51416 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 5251 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 24983 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 9085 term 19 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111}]
------------------------------------------------------
client write log 5419535648690721289 (index 112) to leader 0
flag 65533 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 80616 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 49226 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 39687 term 19 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
flag 2258 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 84198 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 14072 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 84606 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5306891830294377244 (index 111) to leader 1
flag 4472 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 55608 term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93151 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 12408 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 113->112
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 112
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 52101 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 111 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 12572 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 60361 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
flag 46941 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 96089 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
flag 35582 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 56873 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
flag 37545 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 93032 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51696 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 8211 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 113->112
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 112
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 53499 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 112 args.LastIncludedIndex 109
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 110->109
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 109
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 8195 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 112 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10231 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 32877 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88094 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 74918 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
flag 17386 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 53028 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 not vote for server 0, 日志不够新
term 19 server 0 get outdate rpc reply from server 1
flag 91366 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 98224 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
flag 74730 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 31816 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
flag 26520 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 92349 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16308 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 53519 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7722 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 5118 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51298 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 1069 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
flag 59174 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 52769 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
flag 1683 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 24396 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112}]
------------------------------------------------------
client write log 5306891830294377244 (index 113) to leader 0
flag 23080 term 19 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 45138 term 19 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 19 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
flag 90489 term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 37482 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
flag 65872 term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 89658 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
flag 48317 term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 39109 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
flag 86221 term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 92970 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
flag 5248 term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 5556 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
flag 98521 term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 42191 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4531153716411154976 (index 114) to leader 0
flag 39255 term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 68626 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113} {4531153716411154976 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63070 term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 67010 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113} {4531153716411154976 19 114}]
------------------------------------------------------
client write log 6384777297066522547 (index 115) to leader 0
client write log 8613960160634046827 (index 116) to leader 0
client write log 6187015194588287783 (index 117) to leader 0
client write log 2927397041467120335 (index 118) to leader 0
client write log 3227898821534859548 (index 119) to leader 0
client write log 3352035200901414320 (index 120) to leader 0
client write log 3855780270834463811 (index 121) to leader 0
client write log 36859924078887389 (index 122) to leader 0
client write log 2527225047649956245 (index 123) to leader 0
flag 91701 term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 80011 term 19 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 109} {1805889983868441922 18 110} {5104965056685185912 19 111} {5419535648690721289 19 112} {5306891830294377244 19 113} {4531153716411154976 19 114} {6384777297066522547 19 115} {8613960160634046827 19 116} {6187015194588287783 19 117} {2927397041467120335 19 118} {3227898821534859548 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 39020 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=123
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8790682931888098880 (index 124) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 93113 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 8765 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 125->124
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 125->124
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 13286 term 21 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34001 term 21 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 14484 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37398 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 12153 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 67809 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 76508 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 94348 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 2497 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 10220 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 99793 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 22276 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 64169 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
flag 2890 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 53446 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16909 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 38806 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 22799 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 26312 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 97021 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 11303 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 1324 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 69928 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 61053 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 96764 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 53616 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 2511 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 92293 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 94395 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83017 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 75922 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 24544 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 93911 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 68804 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 56313 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
flag 72579 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 83616 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124}]
------------------------------------------------------
client write log 8790682931888098880 (index 125) to leader 0
flag 98537 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 78052 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91817 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 90191 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77661 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 43361 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
flag 1918 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 89958 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
flag 45463 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 88035 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
flag 53800 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 4337 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22166 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 79804 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4255235269186135616 (index 126) to leader 0
flag 60504 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 38197 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125} {4255235269186135616 21 126}]
------------------------------------------------------
flag 13864 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 67188 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125} {4255235269186135616 21 126}]
------------------------------------------------------
client write log 4354337795037048815 (index 127) to leader 0
client write log 8723286056825500920 (index 128) to leader 0
client write log 8529108928374463565 (index 129) to leader 0
client write log 5331615537713575315 (index 130) to leader 0
client write log 2241532724119324165 (index 131) to leader 0
client write log 3448830533797855145 (index 132) to leader 0
client write log 7431512392678951117 (index 133) to leader 0
client write log 8949302175353721775 (index 134) to leader 0
client write log 7563680043078117719 (index 135) to leader 0
client write log 4398020286537274119 (index 136) to leader 0
client write log 405618750131500509 (index 137) to leader 0
client write log 6633490894441581418 (index 138) to leader 0
client write log 6852602820504410230 (index 139) to leader 0
client write log 3134413040817006648 (index 140) to leader 0
client write log 6115742148445789685 (index 141) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10796 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 89687 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 119} {3352035200901414320 19 120} {3855780270834463811 19 121} {36859924078887389 19 122} {2527225047649956245 19 123} {8790682931888098880 19 124} {8790682931888098880 21 125} {4255235269186135616 21 126} {4354337795037048815 21 127} {8723286056825500920 21 128} {8529108928374463565 21 129} {5331615537713575315 21 130} {2241532724119324165 21 131} {3448830533797855145 21 132} {7431512392678951117 21 133} {8949302175353721775 21 134} {7563680043078117719 21 135} {4398020286537274119 21 136} {405618750131500509 21 137} {6633490894441581418 21 138} {6852602820504410230 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 95210 term 21 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7558022957765360799 (index 142) to leader 0
term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 88177 term 21 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get outdate rpc reply from server 1
flag 90135 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 85614 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 143->142
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 37969 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
flag 86231 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 60610 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 66701 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 98125 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
flag 92917 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 34694 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
flag 3993 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 9062 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
flag 67935 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 95767 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
flag 29613 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 26548 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
flag 62388 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 25970 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 86486 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 97466 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 56113 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 3833 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
flag 69493 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 92648 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 668 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 82728 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142}]
------------------------------------------------------
client write log 4356840187296791189 (index 143) to leader 1
flag 90964 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 27896 term 24 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
flag 10344 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 30961 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142} {4356840187296791189 24 143}]
------------------------------------------------------
flag 68230 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 5812 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 65136 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 80231 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142} {4356840187296791189 24 143}]
------------------------------------------------------
client write log 4163971938488408708 (index 144) to leader 1
client write log 216569422238491224 (index 145) to leader 1
client write log 5811802854931628461 (index 146) to leader 1
client write log 7933989340397917919 (index 147) to leader 1
client write log 8194245883830507684 (index 148) to leader 1
client write log 1920164455318757232 (index 149) to leader 1
client write log 4097271688005339440 (index 150) to leader 1
client write log 8497920431833713654 (index 151) to leader 1
client write log 6200633217994452155 (index 152) to leader 1
client write log 755060000367284922 (index 153) to leader 1
client write log 1894330309700517047 (index 154) to leader 1
client write log 8755192885404727672 (index 155) to leader 1
client write log 4017984546470652481 (index 156) to leader 1
client write log 8137357971289510044 (index 157) to leader 1
client write log 7458431080510748154 (index 158) to leader 1
flag 25684 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
flag 39563 term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 24674 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 4659 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 139} {3134413040817006648 21 140} {6115742148445789685 21 141} {7558022957765360799 21 142} {4356840187296791189 24 143} {4163971938488408708 24 144} {216569422238491224 24 145} {5811802854931628461 24 146} {7933989340397917919 24 147} {8194245883830507684 24 148} {1920164455318757232 24 149} {4097271688005339440 24 150} {8497920431833713654 24 151} {6200633217994452155 24 152} {755060000367284922 24 153} {1894330309700517047 24 154} {8755192885404727672 24 155} {4017984546470652481 24 156} {8137357971289510044 24 157} {7458431080510748154 24 158}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 143->142
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 30439 term 24 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 25995 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 142
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {4097271688005339440 24 150} {8497920431833713654 24 151} {6200633217994452155 24 152} {755060000367284922 24 153} {1894330309700517047 24 154} {8755192885404727672 24 155} {4017984546470652481 24 156} {8137357971289510044 24 157} {7458431080510748154 24 158}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5157441439330994383 (index 159) to leader 1
flag 6320 term 23 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 142
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 73476 term 24 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 24 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 149} {4097271688005339440 24 150} {8497920431833713654 24 151} {6200633217994452155 24 152} {755060000367284922 24 153} {1894330309700517047 24 154} {8755192885404727672 24 155} {4017984546470652481 24 156} {8137357971289510044 24 157} {7458431080510748154 24 158} {5157441439330994383 24 159}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 2718 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 61398 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 58107 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 32946 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 16992 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 69664 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 27969 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 79960 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 54605 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 26498 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 78155 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2238121753293227619 (index 160) to leader 1
flag 54225 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 94595 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {2238121753293227619 24 160}]
------------------------------------------------------
flag 68473 term 24 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 70456 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {2238121753293227619 24 160}]
------------------------------------------------------
client write log 8676783112884836151 (index 161) to leader 1
client write log 3713194950309734777 (index 162) to leader 1
client write log 4938910958311009239 (index 163) to leader 1
client write log 8571420814690278285 (index 164) to leader 1
client write log 4794857511959521211 (index 165) to leader 1
client write log 7434407251548245616 (index 166) to leader 1
client write log 8328418480140417470 (index 167) to leader 1
client write log 5473461715327142496 (index 168) to leader 1
flag 51529 term 24 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 80302 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168}]
------------------------------------------------------
flag 54724 term 24 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 87152 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5258220235985489974 (index 169) to leader 1
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 82514 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 99232 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 170->169
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 170->169
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17843 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 35898 term 26 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24683 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 80354 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 23130 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 24190 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21756 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 16734 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26497 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 96707 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 91624 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 43433 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 96261 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 89363 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57433 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 24747 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 53706 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 3152 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 23354 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 32068 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 5202 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 16113 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 90745 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 34190 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 56910 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 31425 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 78653 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 40720 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 61202 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 72982 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91747 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 99872 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65104 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 51483 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 79078 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 13583 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
flag 55208 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 49815 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169}]
------------------------------------------------------
client write log 5258220235985489974 (index 170) to leader 1
flag 16332 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 73847 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 159} {2238121753293227619 24 160} {8676783112884836151 24 161} {3713194950309734777 24 162} {4938910958311009239 24 163} {8571420814690278285 24 164} {4794857511959521211 24 165} {7434407251548245616 24 166} {8328418480140417470 24 167} {5473461715327142496 24 168} {5258220235985489974 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38472 term 26 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 7439 term 26 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
term 26 Server0 start snapshot! index=169
term 26 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 53976 term 26 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 32632 term 26 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
flag 32893 term 26 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 92062 term 26 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69853 term 26 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 49548 term 26 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28703 term 26 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 39145 term 26 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
flag 94730 term 26 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 47337 term 26 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {5258220235985489974 26 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3065781324268643931 (index 171) to leader 1
flag 82343 term 26 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 9044 term 26 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5258220235985489974 26 170} {3065781324268643931 26 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42672 term 26 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 26 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 62601 term 26 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {5258220235985489974 26 170} {3065781324268643931 26 171}]
------------------------------------------------------
client write log 230312350282086814 (index 172) to leader 1
client write log 6177497789604287163 (index 173) to leader 1
client write log 5023518436845054990 (index 174) to leader 1
client write log 8103601063055401677 (index 175) to leader 1
client write log 1196168779389404121 (index 176) to leader 1
client write log 8899616871307704737 (index 177) to leader 1
client write log 883126942489002919 (index 178) to leader 1
client write log 6799035799726159525 (index 179) to leader 1
client write log 1988863076650497514 (index 180) to leader 1
term 26 server 0 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 0
flag 55981 term 26 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 26 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 76030 term 26 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 24 169} {5258220235985489974 26 170} {3065781324268643931 26 171} {230312350282086814 26 172} {6177497789604287163 26 173} {5023518436845054990 26 174} {8103601063055401677 26 175} {1196168779389404121 26 176} {8899616871307704737 26 177} {883126942489002919 26 178} {6799035799726159525 26 179} {1988863076650497514 26 180}]
------------------------------------------------------
term 26 Server1 start snapshot! index=179
term 26 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=180
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 171->170
------------------------------------------------------
flag 47739 term 26 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 26 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 170
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180}]
------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3816023727634328588 (index 181) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9796 term 26 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 26 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 170
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 0 vote for server 1
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 0
flag 27921 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 22938 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 182->181
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 35713 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 171  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 26 rf.commitIndex 179 rf.lastApplied 179
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69164 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 8628 term 28 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 28 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 46746 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 29962 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 47493 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 41333 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 54689 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 32258 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 19372 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 47353 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22916 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 16319 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 70093 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 80671 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89394 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 46665 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 1 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 1
flag 94274 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 45159 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 33848 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 408 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 40256 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 17999 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 68376 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 26424 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
flag 39403 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 16955 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65632 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 74040 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 77029 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 24219 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
flag 22983 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 60716 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49193 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 65826 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3816023727634328588 (index 182) to leader 1
flag 19026 term 28 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
flag 94886 term 28 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65830 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 81559 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8623 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 60950 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
flag 43721 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 51820 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
flag 3298 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 76721 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
flag 8826 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 63320 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
flag 48430 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 753 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 5573 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 85294 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 84679 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 63142 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 67148 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 95851 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 29 server 2 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
flag 69598 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 45695 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 82590 term 29 leader 0 nextIndex[1]: 183  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 18722 term 29 leader 0 nextIndex[2]: 183  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182}]
------------------------------------------------------
client write log 5266715165160471158 (index 183) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46013 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 61937 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 98232 term 29 leader 0 nextIndex[1]: 183  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 73479 term 29 leader 0 nextIndex[2]: 183  matchIndex[2]: 182
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183}]
------------------------------------------------------
flag 88476 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 12420 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 69561 term 29 leader 0 nextIndex[1]: 183  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 183 
------------------------------------------------------
flag 5250 term 29 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183}]
------------------------------------------------------
client write log 4838923119993954308 (index 184) to leader 0
flag 45274 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 59249 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 34222 term 29 leader 0 nextIndex[1]: 183  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 183 
------------------------------------------------------
flag 69409 term 29 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
flag 91434 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 55584 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
flag 91104 term 29 leader 0 nextIndex[1]: 183  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 31657 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7331111956942025194 (index 183) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 183->182
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 182
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 24929 term 28 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84920 term 29 leader 0 nextIndex[1]: 183  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 15902 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
flag 36396 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 966 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94833 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 79186 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5686 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 97895 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44767 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 78112 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30213 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 30899 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
flag 83945 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 62125 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38957 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 96754 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56573 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 32614 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
flag 24611 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 69948 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
flag 93732 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 47118 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
flag 83495 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 19010 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60120 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 73671 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67849 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 16532 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 not vote for server 0, 日志不够新
term 29 server 0 get outdate rpc reply from server 1
flag 49587 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 79774 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
flag 44588 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 99114 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
flag 55374 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 33419 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
flag 10389 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 75070 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 185->184
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 184
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 80556 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 184 args.LastIncludedIndex 179
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 55265 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 25735 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184}]
------------------------------------------------------
client write log 7331111956942025194 (index 185) to leader 0
flag 90846 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 54686 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72815 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 44570 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
flag 89373 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 91950 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
flag 29025 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 2288 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
flag 29712 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 54449 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
flag 14102 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 80689 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185}]
------------------------------------------------------
flag 2768 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 76664 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6702129791501546912 (index 186) to leader 0
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185} {6702129791501546912 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42008 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 2522 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185} {6702129791501546912 29 186}]
------------------------------------------------------
flag 59023 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 17368 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185} {6702129791501546912 29 186}]
------------------------------------------------------
client write log 3222436201633122528 (index 187) to leader 0
client write log 3021538818418376734 (index 188) to leader 0
client write log 5547254730528305091 (index 189) to leader 0
client write log 4963553045777279864 (index 190) to leader 0
client write log 5509824092523819939 (index 191) to leader 0
client write log 1763330380616571391 (index 192) to leader 0
client write log 6357172866621688820 (index 193) to leader 0
client write log 1657647704623473493 (index 194) to leader 0
flag 3055 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 68175 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 26 179} {1988863076650497514 26 180} {3816023727634328588 26 181} {3816023727634328588 28 182} {5266715165160471158 29 183} {4838923119993954308 29 184} {7331111956942025194 29 185} {6702129791501546912 29 186} {3222436201633122528 29 187} {3021538818418376734 29 188} {5547254730528305091 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 72059 term 29 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194}]
------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4290666919704766732 (index 195) to leader 0
term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 87509 term 29 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 29 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 1
flag 28213 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 58141 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 196->195
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 63876 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59271 term 31 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 24387 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8092 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 28862 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
flag 50842 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 49357 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
flag 72048 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 48182 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
flag 19352 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 40814 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
flag 36801 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 82715 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
flag 69378 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 28714 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3873598311106296304 (index 196) to leader 0
flag 16195 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
flag 27825 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195} {3873598311106296304 31 196}]
------------------------------------------------------
flag 64288 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 58737 term 31 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 31 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 196 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195} {3873598311106296304 31 196}]
------------------------------------------------------
client write log 5042085080335456794 (index 197) to leader 0
client write log 4508468637714697550 (index 198) to leader 0
client write log 760536759690225233 (index 199) to leader 0
client write log 1223509124889844169 (index 200) to leader 0
client write log 2464415411504016549 (index 201) to leader 0
client write log 1691435407173079231 (index 202) to leader 0
client write log 468119481120226939 (index 203) to leader 0
client write log 9035006807636437298 (index 204) to leader 0
client write log 9204737478604527317 (index 205) to leader 0
client write log 1436091919557887158 (index 206) to leader 0
client write log 5542685568446538341 (index 207) to leader 0
client write log 160971040837813421 (index 208) to leader 0
client write log 8345279341330924213 (index 209) to leader 0
client write log 7202691529349972114 (index 210) to leader 0
client write log 3801724047482143889 (index 211) to leader 0
flag 5158 term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 29 leaderCommit: 196 
------------------------------------------------------
flag 52880 term 31 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 31 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 196 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 189} {4963553045777279864 29 190} {5509824092523819939 29 191} {1763330380616571391 29 192} {6357172866621688820 29 193} {1657647704623473493 29 194} {4290666919704766732 29 195} {3873598311106296304 31 196} {5042085080335456794 31 197} {4508468637714697550 31 198} {760536759690225233 31 199} {1223509124889844169 31 200} {2464415411504016549 31 201} {1691435407173079231 31 202} {468119481120226939 31 203} {9035006807636437298 31 204} {9204737478604527317 31 205} {1436091919557887158 31 206} {5542685568446538341 31 207} {160971040837813421 31 208} {8345279341330924213 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=211
-------------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 34833 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211}]
------------------------------------------------------
term 31 Server2 start snapshot! index=199
term 31 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=211
-------------------------------------------------------------
term 31 Server2 start snapshot! index=209
term 31 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3011567355219162359 (index 212) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get outdate rpc reply from server 1
flag 50479 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 60695 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 213->212
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 213->212
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 196  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 40791 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 13033 term 33 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 33 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 21557 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13703 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 955 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 88482 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 44491 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 83491 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 60869 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 39194 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 24547 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 16896 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 49501 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 20014 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 90818 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 87041 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 28284 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 23000 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 6663 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 68189 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 82462 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 73782 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 9853 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64175 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 79139 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 47572 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 82094 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70499 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 19757 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 92788 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 79776 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30638 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 81753 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 99098 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 76753 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
flag 89986 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 7908 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212}]
------------------------------------------------------
client write log 3011567355219162359 (index 213) to leader 0
flag 10655 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 7375 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
flag 76732 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 61807 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
flag 43399 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 70546 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
flag 14461 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 6391 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76343 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 27859 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
flag 23877 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 39163 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 46345 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 6721 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 53359 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 67864 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 66189 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 72465 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 58002 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 27982 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
flag 57232 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 19832 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213}]
------------------------------------------------------
client write log 7035345674940677487 (index 214) to leader 1
flag 29191 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 81305 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 33811 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 43537 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213} {7035345674940677487 34 214}]
------------------------------------------------------
flag 82807 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 6501 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 44021 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 21727 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213} {7035345674940677487 34 214}]
------------------------------------------------------
client write log 8181297392933835104 (index 215) to leader 1
client write log 3601762649310612610 (index 216) to leader 1
client write log 6636425845854003256 (index 217) to leader 1
client write log 5530804870076980594 (index 218) to leader 1
client write log 6545560748938664956 (index 219) to leader 1
client write log 8604235478389142826 (index 220) to leader 1
client write log 8877408345776323110 (index 221) to leader 1
flag 58960 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 93469 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 214->213
------------------------------------------------------
flag 95880 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 6218 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 209} {7202691529349972114 31 210} {3801724047482143889 31 211} {3011567355219162359 31 212} {3011567355219162359 33 213} {7035345674940677487 34 214} {8181297392933835104 34 215} {3601762649310612610 34 216} {6636425845854003256 34 217} {5530804870076980594 34 218} {6545560748938664956 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221}]
------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=221
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 213
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 4302 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 37019 term 34 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 34 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=221
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8110310385613092215 (index 222) to leader 1
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 213
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 88224 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 74641 term 34 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 34 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
term 34 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 47973 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 33584 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
flag 73676 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 54969 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
flag 15945 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 22748 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
flag 39381 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 98519 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
flag 81909 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 53438 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20705 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 14732 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52086 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 23285 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3389383924823086606 (index 223) to leader 1
flag 10410 term 34 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 32959 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222} {3389383924823086606 34 223}]
------------------------------------------------------
flag 76359 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
flag 32146 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222} {3389383924823086606 34 223}]
------------------------------------------------------
client write log 2700135323789347439 (index 224) to leader 1
client write log 4523799526352133614 (index 225) to leader 1
client write log 7427340830861575414 (index 226) to leader 1
client write log 6858192542789047890 (index 227) to leader 1
client write log 272104190076209419 (index 228) to leader 1
client write log 1850894858696167967 (index 229) to leader 1
client write log 5195263428299401374 (index 230) to leader 1
client write log 8492725271255439195 (index 231) to leader 1
client write log 6289707383659252273 (index 232) to leader 1
client write log 3918365339280354782 (index 233) to leader 1
client write log 8460795926138024629 (index 234) to leader 1
client write log 7105061240905317643 (index 235) to leader 1
client write log 5644899569490209507 (index 236) to leader 1
flag 9044 term 34 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
flag 31116 term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 219} {8604235478389142826 34 220} {8877408345776323110 34 221} {8110310385613092215 34 222} {3389383924823086606 34 223} {2700135323789347439 34 224} {4523799526352133614 34 225} {7427340830861575414 34 226} {6858192542789047890 34 227} {272104190076209419 34 228} {1850894858696167967 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=236
-------------------------------------------------------------
flag 51879 term 34 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236}]
------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=236
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8387958440627727838 (index 237) to leader 1
flag 91812 term 34 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 34 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 35 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 85510 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 65881 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 238->237
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90995 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13983 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 77775 term 36 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 74677 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 93333 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 11132 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 12895 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67819 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 68385 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65849 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 99433 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 28798 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 68681 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 93390 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 12679 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87265 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 18856 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 23854 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 96546 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42651 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 99828 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 25409 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 61634 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 98608 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 33601 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 80136 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 70097 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 82914 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 26574 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90342 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 93499 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
flag 76971 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 18188 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8387958440627727838 (index 238) to leader 1
flag 10042 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 56425 term 36 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
flag 93696 term 36 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
flag 76831 term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75868 term 36 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
flag 23088 term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
flag 65041 term 36 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
flag 50812 term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 20322 term 36 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
flag 30594 term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55421 term 36 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
flag 46883 term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
flag 77827 term 36 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
flag 14349 term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 1805934592490200316 (index 239) to leader 1
flag 41978 term 36 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
flag 16496 term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 34 229} {5195263428299401374 34 230} {8492725271255439195 34 231} {6289707383659252273 34 232} {3918365339280354782 34 233} {8460795926138024629 34 234} {7105061240905317643 34 235} {5644899569490209507 34 236} {8387958440627727838 34 237} {8387958440627727838 36 238} {1805934592490200316 36 239}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 19861 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
client write log 1336901513402171796 (index 240) to leader 1
client write log 3834154707381408705 (index 241) to leader 1
client write log 5959979876919105277 (index 242) to leader 1
client write log 6061958831957414424 (index 243) to leader 1
client write log 5507161983280930168 (index 244) to leader 1
client write log 7036756704945963368 (index 245) to leader 1
client write log 5296510589057039202 (index 246) to leader 1
client write log 2133920317599306655 (index 247) to leader 1
client write log 3245874590465755148 (index 248) to leader 1
client write log 848541929078991543 (index 249) to leader 1
client write log 2576490175871726872 (index 250) to leader 1
flag 28700 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 36 239} {1336901513402171796 36 240} {3834154707381408705 36 241} {5959979876919105277 36 242} {6061958831957414424 36 243} {5507161983280930168 36 244} {7036756704945963368 36 245} {5296510589057039202 36 246} {2133920317599306655 36 247} {3245874590465755148 36 248} {848541929078991543 36 249} {2576490175871726872 36 250}]
------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
flag 70438 term 36 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 36 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250}]
------------------------------------------------------
term 36 Server0 start snapshot! index=249
term 36 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7773119485201295576 (index 251) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46382 term 36 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 36 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 239  matchIndex[2]: 238
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 37 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 0
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 65866 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 58751 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 252->251
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 2310 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 239  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
flag 76735 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 92810 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 92025 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 28652 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 70977 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 91286 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 75894 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 4084 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 26591 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 75843 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89742 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 79528 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42108 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 45758 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 64518 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 9679 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 30161 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 72162 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11814 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 3332 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 41778 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 19997 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45805 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 58824 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 62989 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 42459 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 69282 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 97013 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84138 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 28394 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
flag 23586 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 25519 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251}]
------------------------------------------------------
client write log 7773119485201295576 (index 252) to leader 1
flag 21644 term 38 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 76741 term 38 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 38 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 90209 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 97488 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
flag 28265 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 53483 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28516 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 39638 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79940 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 48440 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
flag 94012 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 17118 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 65372 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 96791 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 81448 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 81327 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37282 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 53977 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 0 become leader
------------------------------------------------------
client write log 7953092750749679208 (index 253) to leader 0
flag 82519 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 42761 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 91693 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 12756 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253}]
------------------------------------------------------
flag 31914 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 6436 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 29664 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 61410 term 39 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253}]
------------------------------------------------------
client write log 942709182425040955 (index 254) to leader 0
flag 2580 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 46885 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 45309 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 18676 term 39 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 253->252
------------------------------------------------------
flag 80780 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 45824 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 1307 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5932494701332178196 (index 253) to leader 1
flag 72246 term 38 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 49027 term 38 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 38 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 89259 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 InstallSnapshot fail
rf.commitIndex 252 args.LastIncludedIndex 249
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 250->249
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 249
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 42605 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
term 39 server 1 InstallSnapshot fail
rf.commitIndex 252 args.LastIncludedIndex 249
------------------------------------------------------
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 80224 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 21159 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 69013 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 53419 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 11709 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 47718 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66279 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 47389 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 90293 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 88228 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 12253 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 97338 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 39213 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 70403 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 55517 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 39476 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 20975 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 18962 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 40182 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 92702 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 15757 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 11297 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 36049 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 32689 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11691 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 69391 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 49738 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 82916 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60584 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 39250 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 87705 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 48940 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
flag 56930 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 56939 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254}]
------------------------------------------------------
client write log 5932494701332178196 (index 255) to leader 0
flag 59817 term 39 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
flag 66063 term 39 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 39 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
flag 14112 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 54111 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
flag 62750 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 54057 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
flag 60495 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 56244 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
flag 70619 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 30335 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
flag 19262 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 59974 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
flag 75457 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 36248 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 6308123708364860312 (index 256) to leader 0
flag 36095 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 26288 term 39 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255} {6308123708364860312 39 256}]
------------------------------------------------------
flag 70198 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 80044 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255} {6308123708364860312 39 256}]
------------------------------------------------------
client write log 4045961277524554525 (index 257) to leader 0
client write log 9010053925568905365 (index 258) to leader 0
client write log 8951023359856316175 (index 259) to leader 0
client write log 5501764170696875368 (index 260) to leader 0
client write log 5802481979917084193 (index 261) to leader 0
client write log 47262698764574900 (index 262) to leader 0
client write log 253837399268419350 (index 263) to leader 0
client write log 265333761580302348 (index 264) to leader 0
client write log 4220625695594119689 (index 265) to leader 0
client write log 4945581587956629100 (index 266) to leader 0
client write log 756283998467927096 (index 267) to leader 0
client write log 25214213054185148 (index 268) to leader 0
client write log 1156680905473171804 (index 269) to leader 0
client write log 6719445533597661132 (index 270) to leader 0
client write log 4582491957407041392 (index 271) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51748 term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 48890 term 39 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 39 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 36 249} {2576490175871726872 36 250} {7773119485201295576 36 251} {7773119485201295576 38 252} {7953092750749679208 39 253} {942709182425040955 39 254} {5932494701332178196 39 255} {6308123708364860312 39 256} {4045961277524554525 39 257} {9010053925568905365 39 258} {8951023359856316175 39 259} {5501764170696875368 39 260} {5802481979917084193 39 261} {47262698764574900 39 262} {253837399268419350 39 263} {265333761580302348 39 264} {4220625695594119689 39 265} {4945581587956629100 39 266} {756283998467927096 39 267} {25214213054185148 39 268} {1156680905473171804 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271}]
------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=271
-------------------------------------------------------------
term 39 Server0 start snapshot! index=269
term 39 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=271
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 12112 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271}]
------------------------------------------------------
term 39 Server2 start snapshot! index=259
term 39 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=271
-------------------------------------------------------------
term 39 Server2 start snapshot! index=269
term 39 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=271
-------------------------------------------------------------
!!!!!!connect server 1
client write log 669342498811681772 (index 272) to leader 0
term 39 server 2 not vote for server 1, 日志不够新
term 39 server 0 not vote for server 1, 日志不够新
term 41 server 2 vote for server 0
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 0 get outdate rpc reply from server 1
flag 46982 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 58590 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 273->272
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 273->272
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 0 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 0
term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
flag 26519 term 41 leader 0 nextIndex[2]: 272  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 39 rf.commitIndex 269 rf.lastApplied 269
flag 44857 term 41 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 41 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 3059 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 99665 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 81959 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99170 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 37245 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 80065 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 60807 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 23821 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 46271 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 81819 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 14553 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 43499 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 58523 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 16222 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 80689 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38205 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 22932 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 84384 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 48431 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 60980 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 56123 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 77361 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 2836 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 96644 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 48990 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 39205 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 96870 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
flag 68716 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 77632 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56933 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 50930 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90326 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 64532 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
term 41 server 1 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 1
flag 11688 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 41822 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272}]
------------------------------------------------------
client write log 669342498811681772 (index 273) to leader 0
flag 40522 term 41 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
flag 98077 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 39 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
flag 29503 term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 80541 term 41 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1722 term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 49952 term 41 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8636 term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 29989 term 41 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
flag 27090 term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 15931 term 41 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
flag 87970 term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 74880 term 41 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94867 term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 84881 term 41 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8723612827406253261 (index 274) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34626 term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 35842 term 41 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273} {8723612827406253261 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20304 term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 274 
------------------------------------------------------
flag 72808 term 41 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 41 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273} {8723612827406253261 41 274}]
------------------------------------------------------
client write log 2557144472891164717 (index 275) to leader 0
client write log 356122348829207817 (index 276) to leader 0
client write log 971224042256635058 (index 277) to leader 0
client write log 2447460607321183579 (index 278) to leader 0
client write log 6232188646285093457 (index 279) to leader 0
client write log 1120987801494475432 (index 280) to leader 0
client write log 6299989705452804596 (index 281) to leader 0
client write log 6403943210518153606 (index 282) to leader 0
client write log 3866728769340845912 (index 283) to leader 0
client write log 1066926797976349875 (index 284) to leader 0
client write log 8563550168067828007 (index 285) to leader 0
client write log 9107976538016074337 (index 286) to leader 0
client write log 404237084071635427 (index 287) to leader 0
client write log 7204253048108348852 (index 288) to leader 0
client write log 4755108611948125370 (index 289) to leader 0
flag 95532 term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 274 
------------------------------------------------------
flag 22049 term 41 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 41 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 39 269} {6719445533597661132 39 270} {4582491957407041392 39 271} {669342498811681772 39 272} {669342498811681772 41 273} {8723612827406253261 41 274} {2557144472891164717 41 275} {356122348829207817 41 276} {971224042256635058 41 277} {2447460607321183579 41 278} {6232188646285093457 41 279} {1120987801494475432 41 280} {6299989705452804596 41 281} {6403943210518153606 41 282} {3866728769340845912 41 283} {1066926797976349875 41 284} {8563550168067828007 41 285} {9107976538016074337 41 286} {404237084071635427 41 287} {7204253048108348852 41 288} {4755108611948125370 41 289}]
------------------------------------------------------
term 41 Server0 start snapshot! index=279
term 41 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=289
-------------------------------------------------------------
term 41 Server0 start snapshot! index=289
term 41 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 69954 term 41 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 41 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 289 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 41 289}]
------------------------------------------------------
term 41 Server2 start snapshot! index=279
term 41 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=289
-------------------------------------------------------------
term 41 Server2 start snapshot! index=289
term 41 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 1183708472474858642 (index 290) to leader 0
term 41 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 20666 term 41 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 41 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 289 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 61454 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 47767 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 291->290
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 30432 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 41 rf.commitIndex 289 rf.lastApplied 289
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
flag 10397 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 39206 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
flag 22470 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 59721 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
flag 15531 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 44358 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
flag 89270 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 29590 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
flag 52805 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 85670 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
flag 6064 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 97047 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
flag 16681 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 41632 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {1183708472474858642 41 290}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 23718 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 37930 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
flag 96875 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 15877 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 86817 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 6345 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 71756 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 48554 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
client write log 1729763953174784325 (index 291) to leader 1
flag 66681 term 44 leader 1 nextIndex[0]: 291  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 48337 term 44 leader 1 nextIndex[2]: 291  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {1183708472474858642 41 290} {1729763953174784325 44 291}]
------------------------------------------------------
flag 69680 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 36 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77965 term 44 leader 1 nextIndex[0]: 291  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 95669 term 44 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 44 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {1183708472474858642 41 290} {1729763953174784325 44 291}]
------------------------------------------------------
flag 5401 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 53885 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
client write log 8332742843883439816 (index 292) to leader 1
client write log 7107118895133836572 (index 293) to leader 1
client write log 279137782410725108 (index 294) to leader 1
client write log 7381198632997028911 (index 295) to leader 1
client write log 30839104880895037 (index 296) to leader 1
client write log 6310230312950364725 (index 297) to leader 1
client write log 7999365343271838638 (index 298) to leader 1
client write log 7278248995897292429 (index 299) to leader 1
client write log 3431808027516069897 (index 300) to leader 1
client write log 527745641454058127 (index 301) to leader 1
client write log 5386240543700232179 (index 302) to leader 1
client write log 8234991500068011303 (index 303) to leader 1
client write log 7556835279870307146 (index 304) to leader 1
client write log 2529886310264767975 (index 305) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 291->290
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 2344 term 44 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 44 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 41 289} {1183708472474858642 41 290} {1729763953174784325 44 291} {8332742843883439816 44 292} {7107118895133836572 44 293} {279137782410725108 44 294} {7381198632997028911 44 295} {30839104880895037 44 296} {6310230312950364725 44 297} {7999365343271838638 44 298} {7278248995897292429 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305}]
------------------------------------------------------
term 44 Server1 start snapshot! index=299
term 44 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
flag 5892 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 47006 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 31947 term 44 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305}]
------------------------------------------------------
term 44 Server2 start snapshot! index=299
term 44 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
flag 99105 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
flag 81596 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
!!!!!!connect server 0
client write log 5026711509221995043 (index 306) to leader 1
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 39441 term 44 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 44 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 44 leaderCommit: 305 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 44 rf.commitIndex 299 rf.lastApplied 299
term 44 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
flag 53698 term 44 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 44 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
flag 14086 term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35682 term 44 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
flag 77923 term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
flag 95837 term 44 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
flag 24709 term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
flag 83994 term 44 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
flag 62466 term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
flag 79308 term 44 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
flag 61273 term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
flag 569 term 44 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
flag 26663 term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 995266690705436347 (index 307) to leader 1
flag 6004 term 44 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
flag 32796 term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 306 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306} {995266690705436347 44 307}]
------------------------------------------------------
flag 8373 term 44 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 44 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 44 leaderCommit: 307 
------------------------------------------------------
flag 47910 term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 307 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306} {995266690705436347 44 307}]
------------------------------------------------------
client write log 7589753595180507823 (index 308) to leader 1
client write log 521128176220526390 (index 309) to leader 1
client write log 889951904616100139 (index 310) to leader 1
client write log 2646329619888807127 (index 311) to leader 1
client write log 8773100659033427147 (index 312) to leader 1
client write log 3873941984215176037 (index 313) to leader 1
client write log 3215328721768552186 (index 314) to leader 1
client write log 1391452449212940879 (index 315) to leader 1
client write log 4509458556405594456 (index 316) to leader 1
flag 30542 term 44 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 44 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 44 leaderCommit: 307 
------------------------------------------------------
flag 60394 term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 44 leaderCommit: 307 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 44 299} {3431808027516069897 44 300} {527745641454058127 44 301} {5386240543700232179 44 302} {8234991500068011303 44 303} {7556835279870307146 44 304} {2529886310264767975 44 305} {5026711509221995043 44 306} {995266690705436347 44 307} {7589753595180507823 44 308} {521128176220526390 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316}]
------------------------------------------------------
term 44 Server1 start snapshot! index=309
term 44 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=316
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19850 term 44 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 44 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316}]
------------------------------------------------------
term 44 Server0 start snapshot! index=309
term 44 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=316
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5111891149274873238 (index 317) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 not vote for server 2, 日志不够新
term 44 server 0 not vote for server 2, 日志不够新
term 46 server 2 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
term 46 server 0 vote for server 1
term 46 server 1 get outdate rpc reply from server 0
flag 5977 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 68407 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 318->317
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 318->317
------------------------------------------------------
flag 93642 term 46 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 307  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 44 rf.commitIndex 309 rf.lastApplied 309
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77471 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 57593 term 46 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69358 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 84776 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64690 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 10475 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72539 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 53074 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 0
flag 82149 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 89066 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74811 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 73512 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
flag 99041 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 96688 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
flag 71197 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 74211 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
flag 41849 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 30336 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
flag 52337 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 1410 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71282 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 16890 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
flag 77376 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 60547 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17762 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 67447 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
flag 16883 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 24103 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
flag 50822 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 16364 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
flag 40360 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 36739 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
flag 18569 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 17483 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317}]
------------------------------------------------------
client write log 5111891149274873238 (index 318) to leader 1
flag 38016 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 87930 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
flag 64176 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 35796 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 0 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 0
flag 75587 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 83466 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
flag 26950 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 99012 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
flag 67261 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 49510 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75054 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 77256 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
flag 1338 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 51402 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8422974720092245487 (index 319) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67505 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 97234 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 44 309} {889951904616100139 44 310} {2646329619888807127 44 311} {8773100659033427147 44 312} {3873941984215176037 44 313} {3215328721768552186 44 314} {1391452449212940879 44 315} {4509458556405594456 44 316} {5111891149274873238 44 317} {5111891149274873238 46 318} {8422974720092245487 46 319}]
------------------------------------------------------
term 46 Server1 start snapshot! index=319
term 46 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43411 term 46 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 46 319}]
------------------------------------------------------
client write log 8232611422883282436 (index 320) to leader 1
client write log 4971442900601120549 (index 321) to leader 1
client write log 2186726912393429989 (index 322) to leader 1
client write log 868902828948405789 (index 323) to leader 1
client write log 2901935631684269503 (index 324) to leader 1
term 46 Server0 start snapshot! index=319
term 46 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
client write log 6848559856335477327 (index 325) to leader 1
client write log 4497993350875949558 (index 326) to leader 1
client write log 1991952029448831976 (index 327) to leader 1
client write log 4552609494751486995 (index 328) to leader 1
client write log 478517440521888584 (index 329) to leader 1
client write log 921136294996833720 (index 330) to leader 1
client write log 4648827014662352206 (index 331) to leader 1
client write log 928787092423572818 (index 332) to leader 1
client write log 3730073521682293791 (index 333) to leader 1
flag 26438 term 46 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 319 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 46 319} {8232611422883282436 46 320} {4971442900601120549 46 321} {2186726912393429989 46 322} {868902828948405789 46 323} {2901935631684269503 46 324} {6848559856335477327 46 325} {4497993350875949558 46 326} {1991952029448831976 46 327} {4552609494751486995 46 328} {478517440521888584 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333}]
------------------------------------------------------
term 46 Server1 start snapshot! index=329
term 46 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=333
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96388 term 46 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 46 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333}]
------------------------------------------------------
term 46 Server0 start snapshot! index=329
term 46 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=333
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6344613290289644105 (index 334) to leader 1
term 46 server 0 not vote for server 2, 日志不够新
term 46 server 1 not vote for server 2, 日志不够新
term 48 server 2 vote for server 1
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
term 48 server 1 get outdate rpc reply from server 0
flag 78483 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 5026 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 335->334
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 335->334
------------------------------------------------------
flag 81801 term 48 leader 1 nextIndex[0]: 334  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 319  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 46 rf.commitIndex 329 rf.lastApplied 329
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74952 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 16618 term 48 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 48 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 16235 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 72467 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36900 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 49420 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88911 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 33647 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76539 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 10710 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 23767 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 74316 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68474 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 35694 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 16262 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 81390 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 14810 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 60596 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68628 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 12046 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 33830 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 14510 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 32748 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 8441 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88377 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 54915 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 13325 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 95699 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 38102 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 87732 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 45944 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 64162 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 30378 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 60856 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
flag 6779 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 94270 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334}]
------------------------------------------------------
client write log 6344613290289644105 (index 335) to leader 1
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71682 term 48 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
flag 50747 term 48 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 48 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 333 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
flag 42966 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 99953 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15546 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 37363 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
flag 37333 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 57177 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
update nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
flag 2513 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 13351 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
flag 90795 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 94358 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 30461 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 82641 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 24546 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 81452 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 56340 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 19326 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 53870 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 68049 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 0 become leader
------------------------------------------------------
flag 50902 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 71398 term 49 leader 0 nextIndex[2]: 336  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335}]
------------------------------------------------------
client write log 247907206911952984 (index 336) to leader 0
flag 91798 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 74932 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 54682 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 99374 term 49 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336}]
------------------------------------------------------
flag 7350 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 94859 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 63152 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 94767 term 49 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 49 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 49 leaderCommit: 336 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336}]
------------------------------------------------------
client write log 3060368085213001195 (index 337) to leader 0
flag 17341 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 47108 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 95728 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 49754 term 49 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 49 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 49 leaderCommit: 336 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 33961 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 91412 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 90446 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 337 
------------------------------------------------------
flag 24764 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6987671764554582539 (index 336) to leader 1
flag 94771 term 48 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
flag 29506 term 48 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 48 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 335 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 49 server 0 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62516 term 49 leader 0 nextIndex[1]: 336  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 48 leaderCommit: 337 
------------------------------------------------------
flag 21342 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71873 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 69637 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 3990 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 45695 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 35507 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 33555 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 90699 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 11 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 61855 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 44127 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 30286 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 70668 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 73857 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 24431 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 98095 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 17043 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57144 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 85955 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 41229 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 91410 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 43061 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 71282 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 338->337
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 0  matchIndex[1]: 337
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 38336 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 1 InstallSnapshot fail
rf.commitIndex 337 args.LastIncludedIndex 329
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 24195 term 49 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 337 
------------------------------------------------------
flag 440 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 81733 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 58140 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 13027 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 9577 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 338->337
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 leader 0 nextIndex[1]: 0  matchIndex[1]: 337
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 83500 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 1 InstallSnapshot fail
rf.commitIndex 337 args.LastIncludedIndex 329
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24302 term 49 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 49 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 337 
------------------------------------------------------
flag 85266 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 10430 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 68528 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
flag 70554 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 84113 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337}]
------------------------------------------------------
client write log 6987671764554582539 (index 338) to leader 0
flag 84589 term 49 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 76634 term 49 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 49 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29454 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 89553 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
flag 36757 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 77206 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
flag 2610 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 18794 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
flag 77620 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 58389 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
flag 77835 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 65505 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1410686808465503799 (index 339) to leader 0
flag 91148 term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 47337 term 49 leader 0 nextIndex[2]: 339  matchIndex[2]: 338
term 49 leader 0 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 46 329} {921136294996833720 46 330} {4648827014662352206 46 331} {928787092423572818 46 332} {3730073521682293791 46 333} {6344613290289644105 46 334} {6344613290289644105 48 335} {247907206911952984 49 336} {3060368085213001195 49 337} {6987671764554582539 49 338} {1410686808465503799 49 339}]
------------------------------------------------------
term 49 Server0 start snapshot! index=339
term 49 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 32899 term 49 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 49 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
term 49 Server2 start snapshot! index=339
term 49 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
client write log 8451422558451685002 (index 340) to leader 0
client write log 2223172438467686496 (index 341) to leader 0
client write log 5171353554632583769 (index 342) to leader 0
client write log 6984759489820098597 (index 343) to leader 0
client write log 1117448003560983514 (index 344) to leader 0
client write log 2080417727344604046 (index 345) to leader 0
client write log 2359100759330863926 (index 346) to leader 0
client write log 4374826946847443790 (index 347) to leader 0
term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 72938 term 49 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 49 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347}]
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 339  matchIndex[1]: 338
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 99428 term 49 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 49 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1541541917454436932 (index 348) to leader 0
term 49 server 2 not vote for server 1, 日志不够新
term 49 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 vote for server 0
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 2
term 51 server 0 become leader
------------------------------------------------------
term 51 server 0 get outdate rpc reply from server 1
flag 62690 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 52974 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 349->348
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 349->348
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 339  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 65445 term 51 leader 0 nextIndex[2]: 348  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 49 rf.commitIndex 339 rf.lastApplied 339
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59755 term 51 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 51 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 89844 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 67605 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 22677 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 90584 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 20256 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40325 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 95050 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60538 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 15490 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 48504 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 83806 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93796 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 52049 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80844 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 57668 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 19263 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 71865 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97053 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 71447 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 31443 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 20055 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 58989 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 96384 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 387 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 31455 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 63653 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 23859 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 77570 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 83032 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 774 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 72324 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
flag 94149 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 52214 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12993 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 26804 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348}]
------------------------------------------------------
client write log 1541541917454436932 (index 349) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26877 term 51 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
flag 41921 term 51 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 51 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348} {1541541917454436932 51 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 49 339} {8451422558451685002 49 340} {2223172438467686496 49 341} {5171353554632583769 49 342} {6984759489820098597 49 343} {1117448003560983514 49 344} {2080417727344604046 49 345} {2359100759330863926 49 346} {4374826946847443790 49 347} {1541541917454436932 49 348} {1541541917454436932 51 349}]
------------------------------------------------------
term 51 Server0 start snapshot! index=349
term 51 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 51 server 1 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 1
flag 30761 term 51 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 69621 term 51 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 Server2 start snapshot! index=349
term 51 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 51 Server1 start snapshot! index=349
term 51 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
flag 22586 term 51 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 42478 term 51 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
update nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18947 term 51 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 58789 term 51 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
flag 23338 term 51 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 27383 term 51 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40533 term 51 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
flag 31014 term 51 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
  ... Passed --  80.4  3 1831  774627  349
--- PASS: TestSnapshotInstall2D (80.38s)
PASS
