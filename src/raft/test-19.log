=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 25883 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 38036 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 3321139134926702806 (index 1) to leader 2
flag 74838 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 80420 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
flag 30752 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 52030 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
flag 99596 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 57714 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
flag 21449 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 52299 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
flag 99723 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 12391 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
flag 71968 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 524 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
flag 91941 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 54070 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3321139134926702806 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1258598307371008726 (index 2) to leader 2
flag 93002 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84892 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3321139134926702806 1 1} {1258598307371008726 1 2}]
------------------------------------------------------
flag 5411 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 65902 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3321139134926702806 1 1} {1258598307371008726 1 2}]
------------------------------------------------------
client write log 5517400612666263173 (index 3) to leader 2
client write log 5616997763268602446 (index 4) to leader 2
client write log 130638924823771976 (index 5) to leader 2
client write log 8682490781534577197 (index 6) to leader 2
client write log 3299753611764569524 (index 7) to leader 2
client write log 1323775777348584051 (index 8) to leader 2
client write log 1628580268695222526 (index 9) to leader 2
flag 83509 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 36591 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {3321139134926702806 1 1} {1258598307371008726 1 2} {5517400612666263173 1 3} {5616997763268602446 1 4} {130638924823771976 1 5} {8682490781534577197 1 6} {3299753611764569524 1 7} {1323775777348584051 1 8} {1628580268695222526 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 30538 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7858891508129747321 (index 10) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 44692 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 77954 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 41974 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 44490 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 41966 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 79870 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 81749 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 77275 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 31693 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 12018 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 6840 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 98189 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 76196 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 60653 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 48184 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 16551 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 33439 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 92822 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 81600 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 52388 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 26180 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 30171 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 84829 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 4390 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 80566 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 99690 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 79210 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 92619 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 31932 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 36772 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 45927 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 96632 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 20585 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 42234 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 46368 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 49099 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 12633 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
flag 80758 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 39815 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7858891508129747321 1 10}]
------------------------------------------------------
client write log 7858891508129747321 (index 11) to leader 2
flag 26982 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 4235 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99237 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 46693 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
flag 79063 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 87362 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
flag 6253 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 48042 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
flag 54019 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 17886 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
flag 18377 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 84654 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 33493 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 62528 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 97253 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 45277 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 43059 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 2756 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
client write log 8118048999484766220 (index 12) to leader 0
flag 5699 term 4 leader 0 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 53652 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11} {8118048999484766220 4 12}]
------------------------------------------------------
flag 73307 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 73948 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 34565 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 21157 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11} {8118048999484766220 4 12}]
------------------------------------------------------
client write log 3025484795266282295 (index 13) to leader 0
client write log 3305076008706478120 (index 14) to leader 0
client write log 1430088902652977875 (index 15) to leader 0
client write log 9033139890530648535 (index 16) to leader 0
client write log 5751502995158375326 (index 17) to leader 0
client write log 1889068034073436982 (index 18) to leader 0
client write log 4916059208805717757 (index 19) to leader 0
client write log 1439483792549366130 (index 20) to leader 0
client write log 5194028573208185295 (index 21) to leader 0
client write log 8142937214209242620 (index 22) to leader 0
client write log 238323545795082252 (index 23) to leader 0
client write log 6471681121359761043 (index 24) to leader 0
client write log 2521155811672000960 (index 25) to leader 0
client write log 2164117355066599779 (index 26) to leader 0
flag 8090 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 81638 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 46027 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 89062 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 1 9} {7858891508129747321 1 10} {7858891508129747321 3 11} {8118048999484766220 4 12} {3025484795266282295 4 13} {3305076008706478120 4 14} {1430088902652977875 4 15} {9033139890530648535 4 16} {5751502995158375326 4 17} {1889068034073436982 4 18} {4916059208805717757 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
flag 81982 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 71835 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 23725 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1849014791069504750 (index 12) to leader 2
flag 67471 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 32100 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33139 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 54086 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 93134 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 93184 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 12989 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 80741 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 86968 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 55393 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 61116 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 64882 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 13999 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 64884 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 51160 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 90412 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 70058 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 75619 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 90664 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 30241 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 93429 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 27->26
------------------------------------------------------
flag 67054 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 26
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 26 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 15380 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 67736 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90923 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 20487 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 46319 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 5170 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87367 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 17574 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 41006 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 13632 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 86311 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 57433 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
flag 63237 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 88045 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70459 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 30944 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51979 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 27687 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26}]
------------------------------------------------------
client write log 1849014791069504750 (index 27) to leader 0
flag 26575 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 901 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
flag 55075 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 73170 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
flag 58336 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 56933 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
flag 66275 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 3143 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
flag 63223 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 67227 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16103 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 85941 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
flag 12726 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 72840 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1712872134695533077 (index 28) to leader 0
flag 63494 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 99199 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27} {1712872134695533077 4 28}]
------------------------------------------------------
flag 63119 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 37194 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27} {1712872134695533077 4 28}]
------------------------------------------------------
client write log 3109745152602118842 (index 29) to leader 0
client write log 5819370584683397314 (index 30) to leader 0
client write log 2060771830030908492 (index 31) to leader 0
client write log 1418750491924119838 (index 32) to leader 0
client write log 3287018082881380853 (index 33) to leader 0
client write log 601688357850395920 (index 34) to leader 0
client write log 2827971649891835759 (index 35) to leader 0
client write log 4452879168008476065 (index 36) to leader 0
client write log 1511589645704478200 (index 37) to leader 0
client write log 3921231255962082859 (index 38) to leader 0
client write log 9137065680889104327 (index 39) to leader 0
client write log 63652235439923960 (index 40) to leader 0
client write log 8825926318431031242 (index 41) to leader 0
client write log 9057605733935701788 (index 42) to leader 0
client write log 792625876751686095 (index 43) to leader 0
flag 84725 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 79096 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 19} {1439483792549366130 4 20} {5194028573208185295 4 21} {8142937214209242620 4 22} {238323545795082252 4 23} {6471681121359761043 4 24} {2521155811672000960 4 25} {2164117355066599779 4 26} {1849014791069504750 4 27} {1712872134695533077 4 28} {3109745152602118842 4 29} {5819370584683397314 4 30} {2060771830030908492 4 31} {1418750491924119838 4 32} {3287018082881380853 4 33} {601688357850395920 4 34} {2827971649891835759 4 35} {4452879168008476065 4 36} {1511589645704478200 4 37} {3921231255962082859 4 38} {9137065680889104327 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=43
-------------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=43
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 23801 term 4 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=43
-------------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=43
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2661941309339070681 (index 44) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 58543 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 41966 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 45->44
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 45->44
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 68862 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 47434 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 72596 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 93113 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 53987 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 38919 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 39122 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56568 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 98718 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 79122 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 41440 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24858 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 41603 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 80666 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 32186 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 95183 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 86464 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59992 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 84912 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 88473 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 91425 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4436 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 23791 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 36283 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 41714 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 22792 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 99287 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 26078 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 75284 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 20467 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 57217 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76325 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 54570 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 26639 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 3716 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
flag 25838 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 97334 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44}]
------------------------------------------------------
client write log 2661941309339070681 (index 45) to leader 0
flag 76112 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 22792 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
flag 17151 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 48656 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
flag 17605 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 38445 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
flag 69989 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 28393 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
flag 56827 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 73476 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1903 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 26859 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
flag 47079 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 47326 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5591719291263535794 (index 46) to leader 0
flag 7804 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 87473 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45} {5591719291263535794 6 46}]
------------------------------------------------------
flag 11739 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 65088 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45} {5591719291263535794 6 46}]
------------------------------------------------------
client write log 8346349995065685420 (index 47) to leader 0
client write log 731695201081781177 (index 48) to leader 0
client write log 808003773877891943 (index 49) to leader 0
client write log 2532386577162575941 (index 50) to leader 0
client write log 8141432406963909310 (index 51) to leader 0
client write log 3392717761077757344 (index 52) to leader 0
client write log 5459548080786104234 (index 53) to leader 0
client write log 4383514438609602894 (index 54) to leader 0
client write log 2560489706479416768 (index 55) to leader 0
client write log 5052562615273518149 (index 56) to leader 0
client write log 8399576208113366991 (index 57) to leader 0
client write log 8644716788420314933 (index 58) to leader 0
client write log 3926639824601731070 (index 59) to leader 0
client write log 943597302432229589 (index 60) to leader 0
client write log 7573652686802243948 (index 61) to leader 0
flag 93539 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 15427 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 4 39} {63652235439923960 4 40} {8825926318431031242 4 41} {9057605733935701788 4 42} {792625876751686095 4 43} {2661941309339070681 4 44} {2661941309339070681 6 45} {5591719291263535794 6 46} {8346349995065685420 6 47} {731695201081781177 6 48} {808003773877891943 6 49} {2532386577162575941 6 50} {8141432406963909310 6 51} {3392717761077757344 6 52} {5459548080786104234 6 53} {4383514438609602894 6 54} {2560489706479416768 6 55} {5052562615273518149 6 56} {8399576208113366991 6 57} {8644716788420314933 6 58} {3926639824601731070 6 59} {943597302432229589 6 60} {7573652686802243948 6 61}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=61
-------------------------------------------------------------
term 6 Server0 start snapshot! index=59
term 6 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=61
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 11966 term 6 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 6 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=61
-------------------------------------------------------------
term 6 Server2 start snapshot! index=59
term 6 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1941293880956577136 (index 62) to leader 0
term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 65275 term 6 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 6 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 5696 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 77990 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 63->62
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 48149 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 6 rf.commitIndex 59 rf.lastApplied 59
flag 77952 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 27186 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32369 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 68550 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3695 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 26675 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24259 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 95231 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
flag 23366 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 5739 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
flag 97286 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 87828 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
flag 48023 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 22851 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84496 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 68167 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 12666 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 74362 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 84918 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 46181 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 66265 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 87542 term 9 leader 2 nextIndex[1]: 63  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62}]
------------------------------------------------------
flag 27016 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 31524 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
client write log 1277757756858341867 (index 63) to leader 2
flag 34626 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 16009 term 9 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63}]
------------------------------------------------------
flag 32065 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 1019 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 50651 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 63 
------------------------------------------------------
flag 20059 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63}]
------------------------------------------------------
client write log 7496384845300275920 (index 64) to leader 2
flag 13444 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 81062 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 8905 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 63 
------------------------------------------------------
flag 38086 term 9 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 9 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64}]
------------------------------------------------------
flag 25082 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 5825 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 28385 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 64 
------------------------------------------------------
flag 65635 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7009707540018943506 (index 65) to leader 2
flag 79829 term 8 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
flag 6709 term 8 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 8 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60974 term 9 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 6 leaderCommit: 64 
------------------------------------------------------
flag 91084 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
flag 42537 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 4246 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 66->65
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 65
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 4248 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 65 args.LastIncludedIndex 59
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
flag 19203 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 65 
------------------------------------------------------
flag 69407 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
term 9 server 2 not vote for server 1, 任期不够新
term 9 server 1 get outdate rpc reply from server 2
flag 96242 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 78896 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6393 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 41092 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1773219288484434549 (index 66) to leader 2
flag 26886 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 11551 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65} {1773219288484434549 9 66}]
------------------------------------------------------
flag 28908 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 11081 term 9 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 9 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65} {1773219288484434549 9 66}]
------------------------------------------------------
client write log 2510450725411562667 (index 67) to leader 2
client write log 5105085129311310871 (index 68) to leader 2
client write log 6555061462848556724 (index 69) to leader 2
client write log 7401392007647027639 (index 70) to leader 2
client write log 3567066167945361003 (index 71) to leader 2
client write log 9055176754116766221 (index 72) to leader 2
client write log 8793109509542994749 (index 73) to leader 2
flag 95515 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 48107 term 9 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 9 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 6 59} {943597302432229589 6 60} {7573652686802243948 6 61} {1941293880956577136 6 62} {1277757756858341867 9 63} {7496384845300275920 9 64} {7009707540018943506 9 65} {1773219288484434549 9 66} {2510450725411562667 9 67} {5105085129311310871 9 68} {6555061462848556724 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73}]
------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=73
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 85835 term 9 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 9 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=73
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4077954567559982613 (index 74) to leader 2
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 0
term 11 server 2 become leader
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get outdate rpc reply from server 1
flag 64622 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 93631 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 75->74
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 75->74
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 66  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 511 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 17804 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 38074 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 83495 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 98768 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79318 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 73212 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 5984 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 66973 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50284 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 90251 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 86985 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 49380 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 81117 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 15844 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 37421 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 77344 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 37080 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 8927 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 90676 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 38921 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 8452 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 99414 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13698 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 40241 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 12019 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 33376 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6284 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 67419 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19790 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 1448 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80978 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 83422 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72871 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 97393 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
flag 69994 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 72614 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74}]
------------------------------------------------------
client write log 4077954567559982613 (index 75) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50944 term 11 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 43373 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56848 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 94569 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
flag 9926 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 97136 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89269 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 58910 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3097 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 63620 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73829 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 10037 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 56068 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 47332 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8970482059683228968 (index 76) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68852 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 89284 term 11 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75} {8970482059683228968 11 76}]
------------------------------------------------------
flag 29079 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 97270 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75} {8970482059683228968 11 76}]
------------------------------------------------------
client write log 27443401090599617 (index 77) to leader 2
client write log 6783365332038600743 (index 78) to leader 2
client write log 6249055720115966099 (index 79) to leader 2
client write log 8090277490345777850 (index 80) to leader 2
client write log 2137455912095643156 (index 81) to leader 2
client write log 4717966092285865341 (index 82) to leader 2
client write log 5472819188013761728 (index 83) to leader 2
client write log 7954066217852121795 (index 84) to leader 2
client write log 3254420714289372520 (index 85) to leader 2
client write log 7102795053158541186 (index 86) to leader 2
client write log 4744290014326226638 (index 87) to leader 2
client write log 3354847714679842033 (index 88) to leader 2
client write log 6665414287276679760 (index 89) to leader 2
flag 94123 term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 10873 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 69} {7401392007647027639 9 70} {3567066167945361003 9 71} {9055176754116766221 9 72} {8793109509542994749 9 73} {4077954567559982613 9 74} {4077954567559982613 11 75} {8970482059683228968 11 76} {27443401090599617 11 77} {6783365332038600743 11 78} {6249055720115966099 11 79} {8090277490345777850 11 80} {2137455912095643156 11 81} {4717966092285865341 11 82} {5472819188013761728 11 83} {7954066217852121795 11 84} {3254420714289372520 11 85} {7102795053158541186 11 86} {4744290014326226638 11 87} {3354847714679842033 11 88} {6665414287276679760 11 89}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=89
-------------------------------------------------------------
term 11 Server2 start snapshot! index=89
term 11 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 47544 term 11 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=89
-------------------------------------------------------------
term 11 Server1 start snapshot! index=89
term 11 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3380835521071452812 (index 90) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 95722 term 11 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 55522 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 14448 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 91->90
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 14464 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 11 rf.commitIndex 89 rf.lastApplied 89
flag 37354 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 8939 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
flag 8244 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 93399 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
flag 95988 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 27817 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41078 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 11482 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
flag 60526 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 79254 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48532 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 30336 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 12094 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 31669 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 46064 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 6412 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 28915 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 4852 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 87298 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 59919 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {3380835521071452812 11 90}]
------------------------------------------------------
client write log 8510228308336125753 (index 91) to leader 0
flag 98072 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 61874 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 80499 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 92015 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {3380835521071452812 11 90} {8510228308336125753 14 91}]
------------------------------------------------------
flag 91211 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 73910 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 84218 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 86056 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 91 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 89} {3380835521071452812 11 90} {8510228308336125753 14 91}]
------------------------------------------------------
flag 65241 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 93114 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
client write log 2657440877728656861 (index 92) to leader 0
client write log 9216345764641752456 (index 93) to leader 0
client write log 191630571078821883 (index 94) to leader 0
client write log 2195920738661567883 (index 95) to leader 0
client write log 4026190485734281627 (index 96) to leader 0
client write log 8117842460645593388 (index 97) to leader 0
client write log 8823341263750359570 (index 98) to leader 0
client write log 229145960980818744 (index 99) to leader 0
client write log 5497351324663375205 (index 100) to leader 0
client write log 1628381551704053902 (index 101) to leader 0
flag 14387 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 59413 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 91 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 11 89} {3380835521071452812 11 90} {8510228308336125753 14 91} {2657440877728656861 14 92} {9216345764641752456 14 93} {191630571078821883 14 94} {2195920738661567883 14 95} {4026190485734281627 14 96} {8117842460645593388 14 97} {8823341263750359570 14 98} {229145960980818744 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
flag 27565 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 68222 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 34814 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
flag 7294 term 13 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 62912 term 13 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 13 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5170423186289006815 (index 91) to leader 2
flag 9619 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9453 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 85841 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17711 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 48468 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 0 get outdate rpc reply from server 2
flag 98754 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 54444 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37802 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 81456 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81902 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 75027 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
flag 81908 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 62778 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
flag 6226 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 44093 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
flag 97610 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 38685 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48906 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 41972 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37228 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 63051 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78448 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 2983 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
flag 14566 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 31647 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44158 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 4949 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
flag 30888 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 99154 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
flag 11630 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 88287 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
flag 42465 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 27565 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97876 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 95383 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 102->101
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92908 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 101
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 101 args.LastIncludedIndex 99
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
flag 94407 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 47372 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101}]
------------------------------------------------------
client write log 5170423186289006815 (index 102) to leader 0
term 14 server 1 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 1
flag 80108 term 14 leader 0 nextIndex[1]: 102  matchIndex[1]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 86618 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
flag 22258 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 91141 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
flag 31142 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 25374 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
flag 456 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 49987 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
flag 92514 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 69886 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32864 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 82305 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
flag 58467 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 80392 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5431224005080777106 (index 103) to leader 0
flag 83517 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 54672 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102} {5431224005080777106 14 103}]
------------------------------------------------------
flag 36283 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 44582 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102} {5431224005080777106 14 103}]
------------------------------------------------------
client write log 4515764679070422845 (index 104) to leader 0
client write log 1933869742402271653 (index 105) to leader 0
client write log 4063977559211673691 (index 106) to leader 0
client write log 8914052385363091645 (index 107) to leader 0
client write log 4803759820399985716 (index 108) to leader 0
client write log 4815531285209257980 (index 109) to leader 0
flag 4799 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 60314 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 14 99} {5497351324663375205 14 100} {1628381551704053902 14 101} {5170423186289006815 14 102} {5431224005080777106 14 103} {4515764679070422845 14 104} {1933869742402271653 14 105} {4063977559211673691 14 106} {8914052385363091645 14 107} {4803759820399985716 14 108} {4815531285209257980 14 109}]
------------------------------------------------------
term 14 Server0 start snapshot! index=109
term 14 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 103->102
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 110->109
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 102
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 109
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 14 rf.commitIndex 109 rf.lastApplied 109
!!!!!!connect server 1
client write log 4182745242874415317 (index 110) to leader 0
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 102
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 76137 term 14 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 14 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 109 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get outdate rpc reply from server 1
flag 97601 term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 86239 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 111->110
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 88452 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 14 rf.commitIndex 109 rf.lastApplied 109
flag 85625 term 16 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 29335 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
flag 36122 term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 5623 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26356 term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 95102 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
flag 89277 term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 84829 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
flag 29128 term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 18036 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23033 term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 6499 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4182745242874415317 14 110}]
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 6875643485591370364 (index 111) to leader 0
flag 69915 term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 83195 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 14 109} {4182745242874415317 14 110} {6875643485591370364 16 111}]
------------------------------------------------------
flag 59562 term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 111 
------------------------------------------------------
flag 92612 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 14 109} {4182745242874415317 14 110} {6875643485591370364 16 111}]
------------------------------------------------------
client write log 369729873634498531 (index 112) to leader 0
client write log 2530919126954486882 (index 113) to leader 0
client write log 5319828762712808748 (index 114) to leader 0
client write log 1840698013820192322 (index 115) to leader 0
client write log 5156538760993835493 (index 116) to leader 0
client write log 4963039204182441153 (index 117) to leader 0
client write log 327533495204410978 (index 118) to leader 0
client write log 7883518700124472692 (index 119) to leader 0
client write log 6966238808193545446 (index 120) to leader 0
client write log 6118974772466174875 (index 121) to leader 0
client write log 7152473710432304861 (index 122) to leader 0
client write log 4431174283044113763 (index 123) to leader 0
client write log 6753570071317653523 (index 124) to leader 0
client write log 2587400760824367193 (index 125) to leader 0
flag 12840 term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 111 
------------------------------------------------------
flag 62132 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 14 109} {4182745242874415317 14 110} {6875643485591370364 16 111} {369729873634498531 16 112} {2530919126954486882 16 113} {5319828762712808748 16 114} {1840698013820192322 16 115} {5156538760993835493 16 116} {4963039204182441153 16 117} {327533495204410978 16 118} {7883518700124472692 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125}]
------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=125
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 26992 term 16 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 16 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125}]
------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=125
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5644369587861634495 (index 126) to leader 0
term 16 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 23040 term 16 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 16 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
term 17 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
flag 53333 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 63484 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 127->126
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 3193 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 92429 term 18 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 18 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 23219 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
flag 58911 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 20699 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
flag 7163 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 79456 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53481 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 60028 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
flag 82056 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 27024 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
flag 3444 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 58935 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 96716 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 59928 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 15376 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 78990 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 20093 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 30136 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 62411 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 45496 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
flag 26755 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 13061 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126}]
------------------------------------------------------
client write log 243864137597064220 (index 127) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36012 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 66131 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 47843 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 13132 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126} {243864137597064220 19 127}]
------------------------------------------------------
flag 42411 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 8634 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 89087 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 32971 term 19 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 19 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126} {243864137597064220 19 127}]
------------------------------------------------------
client write log 7761185039444052002 (index 128) to leader 2
flag 16977 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 53828 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 2444 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 36282 term 19 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 19 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126} {243864137597064220 19 127} {7761185039444052002 19 128}]
------------------------------------------------------
flag 92613 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 8600 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 41363 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 128 
------------------------------------------------------
flag 40810 term 19 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126} {243864137597064220 19 127} {7761185039444052002 19 128}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2937078100462778810 (index 129) to leader 2
flag 71967 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
flag 45809 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 126 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66068 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 128 
------------------------------------------------------
flag 49753 term 19 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 19 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
term 19 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126} {243864137597064220 19 127} {7761185039444052002 19 128} {2937078100462778810 19 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 16 119} {6966238808193545446 16 120} {6118974772466174875 16 121} {7152473710432304861 16 122} {4431174283044113763 16 123} {6753570071317653523 16 124} {2587400760824367193 16 125} {5644369587861634495 16 126} {243864137597064220 19 127} {7761185039444052002 19 128} {2937078100462778810 19 129}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82713 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
flag 35983 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
term 19 Server1 start snapshot! index=129
term 19 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 19 Server0 start snapshot! index=129
term 19 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90903 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
flag 67203 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
flag 14942 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
flag 1192 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82819 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
flag 5547 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 130->129
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 129
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 33124 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
term 19 server 0 InstallSnapshot fail
rf.commitIndex 129 args.LastIncludedIndex 129
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3624 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
flag 13513 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5145753233523947701 (index 130) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11948 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
flag 242 term 19 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5145753233523947701 19 130}]
------------------------------------------------------
flag 9999 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 29517 term 19 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 19 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {5145753233523947701 19 130}]
------------------------------------------------------
client write log 182939290724195056 (index 131) to leader 2
client write log 2610425714520636276 (index 132) to leader 2
client write log 1510076037462518596 (index 133) to leader 2
client write log 9095171893369031599 (index 134) to leader 2
client write log 8544271430547122618 (index 135) to leader 2
client write log 3027875622835211817 (index 136) to leader 2
client write log 2642368875500081384 (index 137) to leader 2
flag 93736 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 42262 term 19 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 19 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137}]
------------------------------------------------------
flag 35484 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 10439 term 19 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 19 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2136192561552487846 (index 138) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46016 term 19 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 87691 term 19 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 19 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 20 server 0 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 20 server 2 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 22 server 1 vote for server 2
term 22 server 2 get vote from server 1
term 22 server 0 vote for server 2
term 22 server 2 become leader
------------------------------------------------------
term 22 server 2 get outdate rpc reply from server 0
flag 94986 term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 59710 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 139->138
------------------------------------------------------
flag 83010 term 22 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 89501 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
term 22 server 2 not vote for server 0, 任期不够新
term 22 server 0 get outdate rpc reply from server 2
flag 38314 term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 2919 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
flag 96199 term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 74128 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62023 term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 78334 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
flag 14088 term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 21903 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
flag 81831 term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 39422 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
term 22 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1060355122670450382 (index 139) to leader 2
flag 49293 term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 49998 term 22 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 22 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 129} {5145753233523947701 19 130} {182939290724195056 19 131} {2610425714520636276 19 132} {1510076037462518596 19 133} {9095171893369031599 19 134} {8544271430547122618 19 135} {3027875622835211817 19 136} {2642368875500081384 19 137} {2136192561552487846 19 138} {1060355122670450382 22 139}]
------------------------------------------------------
term 22 Server2 start snapshot! index=139
term 22 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 13368 term 22 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 22 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 22 Server1 start snapshot! index=139
term 22 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
client write log 5141628590465683051 (index 140) to leader 2
client write log 1001790616751500244 (index 141) to leader 2
client write log 1016838069353274508 (index 142) to leader 2
client write log 9059122640077451448 (index 143) to leader 2
client write log 8095327440211599581 (index 144) to leader 2
client write log 5202242666448827167 (index 145) to leader 2
client write log 2169572046854969692 (index 146) to leader 2
client write log 1330632011339523834 (index 147) to leader 2
client write log 3436846076686880721 (index 148) to leader 2
client write log 2340345738676321783 (index 149) to leader 2
client write log 556506141613021922 (index 150) to leader 2
client write log 3627727574635868976 (index 151) to leader 2
client write log 5619590628935738834 (index 152) to leader 2
client write log 5885093661231321227 (index 153) to leader 2
client write log 47448394477184997 (index 154) to leader 2
term 22 server 2 not vote for server 1, 任期不够新
term 22 server 1 get outdate rpc reply from server 2
term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 70256 term 22 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 22 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 22 139} {5141628590465683051 22 140} {1001790616751500244 22 141} {1016838069353274508 22 142} {9059122640077451448 22 143} {8095327440211599581 22 144} {5202242666448827167 22 145} {2169572046854969692 22 146} {1330632011339523834 22 147} {3436846076686880721 22 148} {2340345738676321783 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154}]
------------------------------------------------------
term 22 Server2 start snapshot! index=149
term 22 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=154
-------------------------------------------------------------
term 22 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 27067 term 22 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 22 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154}]
------------------------------------------------------
term 22 Server1 start snapshot! index=149
term 22 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=154
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4723103171231648921 (index 155) to leader 2
term 22 server 2 not vote for server 0, 日志不够新
term 22 server 1 not vote for server 0, 日志不够新
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
term 24 server 1 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get outdate rpc reply from server 0
flag 33843 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 27794 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 156->155
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 156->155
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 139  matchIndex[0]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 53721 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 22 rf.commitIndex 149 rf.lastApplied 149
flag 54131 term 24 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 72668 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
flag 14179 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 81580 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60173 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 59149 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44182 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 33838 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
flag 86989 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 48104 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
flag 34553 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 20190 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8830 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 65294 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96142 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 27635 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48839 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 78625 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
flag 51501 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 45757 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71592 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 59138 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
flag 70389 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 86616 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
flag 2360 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 1133 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
flag 9444 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 7190 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42955 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 32047 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
flag 85819 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 62414 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
flag 79924 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 51949 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
flag 51044 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 90672 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155}]
------------------------------------------------------
client write log 4723103171231648921 (index 156) to leader 2
flag 72379 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
flag 47731 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 22 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
flag 66458 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 10187 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
flag 66976 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 96269 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
flag 9064 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 3633 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71567 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 84544 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
flag 14446 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 6130 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
flag 9001 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 29311 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 32567 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 78238 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75473 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 42423 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96406 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 14937 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 25 server 0 vote for server 1
term 25 server 1 get vote from server 0
term 25 server 1 become leader
------------------------------------------------------
flag 96744 term 25 leader 1 nextIndex[0]: 157  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 38559 term 25 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 157->156
------------------------------------------------------
client write log 3311687269350154400 (index 157) to leader 1
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 156
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 10297 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97931 term 25 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 97584 term 25 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156} {3311687269350154400 25 157}]
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 156
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 40941 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 34478 term 25 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 25 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 55025 term 25 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156} {3311687269350154400 25 157}]
------------------------------------------------------
client write log 8186462339009443701 (index 158) to leader 1
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 156
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 34561 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65962 term 25 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 25 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 74170 term 25 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156} {3311687269350154400 25 157} {8186462339009443701 25 158}]
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 156
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 21252 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 57826 term 25 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 80802 term 25 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156} {3311687269350154400 25 157} {8186462339009443701 25 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 8661286207567395949 (index 159) to leader 1
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 156
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 8438 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 25 server 1 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9693 term 25 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 81034 term 25 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156} {3311687269350154400 25 157} {8186462339009443701 25 158} {8661286207567395949 25 159}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 22 149} {556506141613021922 22 150} {3627727574635868976 22 151} {5619590628935738834 22 152} {5885093661231321227 22 153} {47448394477184997 22 154} {4723103171231648921 22 155} {4723103171231648921 24 156} {3311687269350154400 25 157} {8186462339009443701 25 158} {8661286207567395949 25 159}]
------------------------------------------------------
term 25 Server1 start snapshot! index=159
term 25 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 68214 term 25 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 4487 term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 25 Server2 start snapshot! index=159
term 25 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64530 term 25 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 57735 term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
flag 1816 term 25 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 36069 term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
flag 24901 term 25 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 73432 term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80485 term 25 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 99473 term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 160->159
------------------------------------------------------
flag 34130 term 25 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 0  matchIndex[2]: 159
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 2 InstallSnapshot fail
rf.commitIndex 159 args.LastIncludedIndex 159
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6760532886363935636 (index 160) to leader 1
flag 98457 term 25 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 44750 term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {6760532886363935636 25 160}]
------------------------------------------------------
flag 32579 term 25 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 66363 term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {6760532886363935636 25 160}]
------------------------------------------------------
client write log 8738725819558632487 (index 161) to leader 1
client write log 7123538302975695149 (index 162) to leader 1
client write log 546180637791583917 (index 163) to leader 1
client write log 8825114704946022025 (index 164) to leader 1
client write log 5375424746231414947 (index 165) to leader 1
client write log 36298473471793934 (index 166) to leader 1
client write log 8963852484177794727 (index 167) to leader 1
client write log 7190368722990482047 (index 168) to leader 1
client write log 2346322360779804892 (index 169) to leader 1
client write log 6849788980514250532 (index 170) to leader 1
client write log 1299971056061481508 (index 171) to leader 1
client write log 2033307795575162506 (index 172) to leader 1
client write log 4920040572939560649 (index 173) to leader 1
client write log 2834311882197697083 (index 174) to leader 1
flag 11054 term 25 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 25 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 48555 term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 25 159} {6760532886363935636 25 160} {8738725819558632487 25 161} {7123538302975695149 25 162} {546180637791583917 25 163} {8825114704946022025 25 164} {5375424746231414947 25 165} {36298473471793934 25 166} {8963852484177794727 25 167} {7190368722990482047 25 168} {2346322360779804892 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174}]
------------------------------------------------------
term 25 Server1 start snapshot! index=169
term 25 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=174
-------------------------------------------------------------
flag 76661 term 25 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 25 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174}]
------------------------------------------------------
term 25 Server0 start snapshot! index=169
term 25 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=174
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5043177734220353762 (index 175) to leader 1
flag 21280 term 25 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 25 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
term 26 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 2 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
term 27 server 0 vote for server 1
term 27 server 1 get outdate rpc reply from server 0
flag 51406 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 66346 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 176->175
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
flag 63029 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
term 27 server 2 InstallSnapshot success
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 25 rf.commitIndex 169 rf.lastApplied 169
flag 58553 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 17529 term 27 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68256 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 31932 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67654 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 60608 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 1 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 1
flag 31468 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 20943 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
flag 28458 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 39302 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
flag 79242 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 74874 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
flag 54490 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 92529 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14088 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 10758 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75859 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 66563 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13158 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 40931 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
flag 6766 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 17250 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
flag 23393 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 89977 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41079 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 37992 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4497 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 78397 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
flag 31740 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 78599 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
flag 27042 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 30562 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
flag 25629 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 79248 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175}]
------------------------------------------------------
client write log 5043177734220353762 (index 176) to leader 1
flag 42960 term 27 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
flag 16088 term 27 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 27 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 25 leaderCommit: 174 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94527 term 27 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
flag 1899 term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
flag 65070 term 27 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
flag 81456 term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
flag 70592 term 27 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
flag 18655 term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
flag 87798 term 27 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
flag 91550 term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
flag 19170 term 27 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
flag 91415 term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13690 term 27 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
flag 97074 term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 354413464943575137 (index 177) to leader 1
flag 60975 term 27 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
flag 35434 term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 176 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176} {354413464943575137 27 177}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23581 term 27 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 27 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 28083 term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176} {354413464943575137 27 177}]
------------------------------------------------------
client write log 7523866631887289399 (index 178) to leader 1
client write log 4059974823918311564 (index 179) to leader 1
client write log 2045098394868998990 (index 180) to leader 1
client write log 6775979844257658538 (index 181) to leader 1
client write log 4369262899910252630 (index 182) to leader 1
client write log 6808520513956192250 (index 183) to leader 1
flag 88817 term 27 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 27 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 43997 term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 25 169} {6849788980514250532 25 170} {1299971056061481508 25 171} {2033307795575162506 25 172} {4920040572939560649 25 173} {2834311882197697083 25 174} {5043177734220353762 25 175} {5043177734220353762 27 176} {354413464943575137 27 177} {7523866631887289399 27 178} {4059974823918311564 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183}]
------------------------------------------------------
term 27 Server1 start snapshot! index=179
term 27 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=183
-------------------------------------------------------------
flag 23348 term 27 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 27 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183}]
------------------------------------------------------
term 27 Server0 start snapshot! index=179
term 27 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=183
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6165823898466201476 (index 184) to leader 1
term 27 server 1 not vote for server 2, 日志不够新
term 27 server 0 not vote for server 2, 日志不够新
term 29 server 2 vote for server 1
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
term 29 server 1 get outdate rpc reply from server 0
flag 98431 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 83723 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 185->184
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 185->184
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
flag 76388 term 29 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 177  matchIndex[2]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 27 rf.commitIndex 179 rf.lastApplied 179
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 35861 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 63704 term 29 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37638 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 41012 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
update nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 25396 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 76288 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1458 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 13347 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63122 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 75968 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 22100 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 80382 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 17159 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 63205 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 7401 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 84511 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 96151 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 73219 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 57713 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 54010 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 81049 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 86754 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
flag 55835 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 56130 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87353 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 27354 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 6104 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 28580 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 925 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 67113 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 66549 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 36541 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
flag 52421 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 90809 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184}]
------------------------------------------------------
client write log 6165823898466201476 (index 185) to leader 1
flag 37026 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
flag 34679 term 29 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 27 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
flag 62149 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 17538 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
flag 55568 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 55297 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53944 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 94277 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
flag 96331 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 8661 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
flag 37461 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 34313 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 86764 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 29430 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53351 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 55577 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 7174 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 25378 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 31477 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 40170 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
flag 37243 term 30 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 48080 term 30 leader 0 nextIndex[2]: 186  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185}]
------------------------------------------------------
client write log 7648087199559331926 (index 186) to leader 0
flag 31120 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 27117 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 85549 term 30 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 10286 term 30 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186}]
------------------------------------------------------
flag 66810 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 20540 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 11082 term 30 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 39442 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 186 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186}]
------------------------------------------------------
client write log 1751210140855793159 (index 187) to leader 0
flag 7601 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 98213 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 97767 term 30 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 58937 term 30 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 30 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 186 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 20651 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 63162 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 78029 term 30 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 73394 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1142844012603840550 (index 186) to leader 1
flag 25138 term 29 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 42181 term 29 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 30 server 2 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 30 server 0 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69404 term 30 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 42176 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50909 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 79185 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 26636 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 82537 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 72825 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 32954 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 188->187
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 187
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 65500 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 InstallSnapshot fail
rf.commitIndex 187 args.LastIncludedIndex 179
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 19593 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 27 leaderCommit: 187 
------------------------------------------------------
flag 64106 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 19455 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 32679 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 188->187
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 187
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 34937 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 30 server 1 InstallSnapshot fail
rf.commitIndex 187 args.LastIncludedIndex 179
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 67274 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 27 leaderCommit: 187 
------------------------------------------------------
flag 91199 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 188->187
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 0  matchIndex[1]: 187
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 27
------------------------------------------------------
flag 9725 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 30 server 1 InstallSnapshot fail
rf.commitIndex 187 args.LastIncludedIndex 179
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 10208 term 30 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 30 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 27 leaderCommit: 187 
------------------------------------------------------
flag 79855 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 67232 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 92616 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 3476 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 61134 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
update nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 52234 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 58549 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 69032 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 84506 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 60446 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 83495 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 62626 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 72402 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 49840 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 50953 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 58208 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 9157 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
flag 47600 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 47956 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187}]
------------------------------------------------------
client write log 1142844012603840550 (index 188) to leader 0
flag 99285 term 30 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 76108 term 30 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 30 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80831 term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 70381 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
flag 21748 term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 31250 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
term 30 server 1 not vote for server 0, 日志不够新
term 30 server 0 get outdate rpc reply from server 1
flag 33000 term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 77835 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
flag 26689 term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 99274 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
flag 96366 term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 5669 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23613 term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 49017 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1854089636025925018 (index 189) to leader 0
flag 10736 term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 72523 term 30 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 30 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 27 179} {2045098394868998990 27 180} {6775979844257658538 27 181} {4369262899910252630 27 182} {6808520513956192250 27 183} {6165823898466201476 27 184} {6165823898466201476 29 185} {7648087199559331926 30 186} {1751210140855793159 30 187} {1142844012603840550 30 188} {1854089636025925018 30 189}]
------------------------------------------------------
term 30 Server0 start snapshot! index=189
term 30 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 94244 term 30 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 30 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
term 30 Server2 start snapshot! index=189
term 30 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
client write log 5570314709925870921 (index 190) to leader 0
client write log 7289541439315542628 (index 191) to leader 0
client write log 4250226261164925954 (index 192) to leader 0
client write log 9069963538424678392 (index 193) to leader 0
client write log 4014078528066829676 (index 194) to leader 0
client write log 8106191994400050423 (index 195) to leader 0
client write log 600979458451057651 (index 196) to leader 0
client write log 3556869057377478927 (index 197) to leader 0
client write log 7253071707518909110 (index 198) to leader 0
client write log 8080966022726935570 (index 199) to leader 0
client write log 7908415602151263045 (index 200) to leader 0
client write log 6024960636808072761 (index 201) to leader 0
client write log 9081740544265168328 (index 202) to leader 0
client write log 6392133832547867944 (index 203) to leader 0
term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 6029 term 30 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 30 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 30 189} {5570314709925870921 30 190} {7289541439315542628 30 191} {4250226261164925954 30 192} {9069963538424678392 30 193} {4014078528066829676 30 194} {8106191994400050423 30 195} {600979458451057651 30 196} {3556869057377478927 30 197} {7253071707518909110 30 198} {8080966022726935570 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203}]
------------------------------------------------------
term 30 Server0 start snapshot! index=199
term 30 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
flag 40544 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203}]
------------------------------------------------------
term 30 Server2 start snapshot! index=199
term 30 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4366348418278754493 (index 204) to leader 0
term 30 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
flag 52270 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
term 31 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 0
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 1
term 32 server 0 become leader
------------------------------------------------------
term 32 server 0 get outdate rpc reply from server 2
flag 18808 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 65191 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 205->204
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 30
------------------------------------------------------
flag 36558 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 30 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45115 term 32 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 63428 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
flag 76225 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 93784 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
flag 41006 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 2373 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
flag 68912 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 4559 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
flag 31778 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 67446 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
flag 28705 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 58551 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
flag 85005 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 66338 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8251435662909740923 (index 205) to leader 0
flag 94717 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 95776 term 32 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204} {8251435662909740923 32 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68798 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 205 
------------------------------------------------------
flag 97991 term 32 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 32 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 32 leaderCommit: 205 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204} {8251435662909740923 32 205}]
------------------------------------------------------
client write log 470664995276831936 (index 206) to leader 0
client write log 5646932167317985558 (index 207) to leader 0
client write log 5091767492609563814 (index 208) to leader 0
client write log 9102007828664331073 (index 209) to leader 0
client write log 6691317055548499696 (index 210) to leader 0
client write log 5460672263341262173 (index 211) to leader 0
client write log 7414213469617057255 (index 212) to leader 0
client write log 5067958165493248516 (index 213) to leader 0
client write log 8978898881583938753 (index 214) to leader 0
flag 8152 term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 30 leaderCommit: 205 
------------------------------------------------------
flag 18564 term 32 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 32 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 32 leaderCommit: 205 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 199} {7908415602151263045 30 200} {6024960636808072761 30 201} {9081740544265168328 30 202} {6392133832547867944 30 203} {4366348418278754493 30 204} {8251435662909740923 32 205} {470664995276831936 32 206} {5646932167317985558 32 207} {5091767492609563814 32 208} {9102007828664331073 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214}]
------------------------------------------------------
term 32 Server0 start snapshot! index=209
term 32 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=214
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 84696 term 32 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214}]
------------------------------------------------------
term 32 Server2 start snapshot! index=209
term 32 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=214
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5338155122063119991 (index 215) to leader 0
term 32 server 2 not vote for server 1, 日志不够新
term 32 server 0 not vote for server 1, 日志不够新
term 34 server 2 vote for server 0
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
term 34 server 0 get outdate rpc reply from server 1
flag 78552 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 19125 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 216->215
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 216->215
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 67513 term 34 leader 0 nextIndex[2]: 215  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
term 34 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 32 rf.commitIndex 209 rf.lastApplied 209
flag 20437 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 42499 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58637 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 88157 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
flag 90635 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 5290 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77534 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 16086 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
flag 58993 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 87739 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52777 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 5697 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
flag 82232 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 2625 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
flag 48027 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 21591 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13679 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 84382 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
flag 40636 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 96571 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81033 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 77554 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
flag 13592 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 11469 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46496 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 38737 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
flag 90311 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 31012 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15233 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 68622 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63764 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 9765 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
flag 2306 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 55080 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
flag 83765 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 55635 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215}]
------------------------------------------------------
client write log 5338155122063119991 (index 216) to leader 0
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
flag 87484 term 34 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 79196 term 34 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 34 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
flag 76555 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 42986 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39645 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 89020 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21198 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 50988 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
flag 42606 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 12623 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
flag 7205 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 93515 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
flag 56207 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 77225 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 50611 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 28788 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 17435 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 90017 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 28435 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 12965 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 35 server 1 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 2 become leader
------------------------------------------------------
flag 95076 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 41749 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216}]
------------------------------------------------------
client write log 651400834324553803 (index 217) to leader 2
flag 60241 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 17409 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 87155 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 42407 term 35 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216} {651400834324553803 35 217}]
------------------------------------------------------
flag 18312 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 47127 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 95320 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 93925 term 35 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216} {651400834324553803 35 217}]
------------------------------------------------------
client write log 2201482490502621370 (index 218) to leader 2
flag 1802 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 8941 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 95301 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
flag 23409 term 35 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216} {651400834324553803 35 217} {2201482490502621370 35 218}]
------------------------------------------------------
flag 44668 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 49242 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 76159 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 31843 term 35 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216} {651400834324553803 35 217} {2201482490502621370 35 218}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6407489063698384488 (index 219) to leader 2
flag 42325 term 34 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 96143 term 34 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 35 server 1 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83491 term 35 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 13815 term 35 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216} {651400834324553803 35 217} {2201482490502621370 35 218} {6407489063698384488 35 219}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 32 209} {6691317055548499696 32 210} {5460672263341262173 32 211} {7414213469617057255 32 212} {5067958165493248516 32 213} {8978898881583938753 32 214} {5338155122063119991 32 215} {5338155122063119991 34 216} {651400834324553803 35 217} {2201482490502621370 35 218} {6407489063698384488 35 219}]
------------------------------------------------------
term 35 Server2 start snapshot! index=219
term 35 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 8633 term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 79748 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 35 Server1 start snapshot! index=219
term 35 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 24130 term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 25152 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
flag 43303 term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 43019 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
flag 20537 term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 86676 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
flag 65564 term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 58860 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
flag 50193 term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 74247 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4994849585691856629 (index 220) to leader 2
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80700 term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
flag 68254 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {4994849585691856629 35 220}]
------------------------------------------------------
flag 8659 term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 35728 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {4994849585691856629 35 220}]
------------------------------------------------------
client write log 1049622842047512531 (index 221) to leader 2
client write log 2680877554052762648 (index 222) to leader 2
client write log 1694078920044687496 (index 223) to leader 2
client write log 4972005652184706040 (index 224) to leader 2
client write log 8934607213074449175 (index 225) to leader 2
client write log 7091183945734075158 (index 226) to leader 2
client write log 1941766823118625300 (index 227) to leader 2
client write log 5274597164413851269 (index 228) to leader 2
client write log 201863868809552655 (index 229) to leader 2
client write log 624586232919256684 (index 230) to leader 2
client write log 5042651074736047547 (index 231) to leader 2
client write log 4527774428329724481 (index 232) to leader 2
client write log 2773797501657413771 (index 233) to leader 2
flag 21129 term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 24519 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 35 219} {4994849585691856629 35 220} {1049622842047512531 35 221} {2680877554052762648 35 222} {1694078920044687496 35 223} {4972005652184706040 35 224} {8934607213074449175 35 225} {7091183945734075158 35 226} {1941766823118625300 35 227} {5274597164413851269 35 228} {201863868809552655 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233}]
------------------------------------------------------
term 35 Server2 start snapshot! index=229
term 35 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
term 35 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 69334 term 35 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 35 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233}]
------------------------------------------------------
term 35 Server1 start snapshot! index=229
term 35 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8564535779480804210 (index 234) to leader 2
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 0
term 37 server 2 become leader
------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 2 get outdate rpc reply from server 1
flag 80747 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 97284 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 235->234
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 235->234
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 220  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 59250 term 37 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 35 rf.commitIndex 229 rf.lastApplied 229
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
flag 19536 term 37 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 37 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 61114 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
flag 19303 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 7334 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92136 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 77167 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
flag 810 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 86559 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85353 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 97924 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
flag 46130 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 60158 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17163 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 5823 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
flag 91222 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 39072 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 0 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 0
flag 20386 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 46204 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
flag 32667 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 94261 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
flag 50482 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 22568 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37745 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 98987 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
flag 73252 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 40161 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
flag 28781 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 59076 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7030 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 64775 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61511 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 98564 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85795 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 917 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
flag 31367 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 21485 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234}]
------------------------------------------------------
client write log 8564535779480804210 (index 235) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56735 term 37 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 14956 term 37 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
term 37 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38212 term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 31702 term 37 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
flag 11211 term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 78713 term 37 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
flag 80544 term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 42617 term 37 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
flag 643 term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 99610 term 37 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
flag 31311 term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 25640 term 37 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6503673222526865795 (index 236) to leader 2
flag 43695 term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 27686 term 37 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235} {6503673222526865795 37 236}]
------------------------------------------------------
flag 82847 term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
flag 58612 term 37 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235} {6503673222526865795 37 236}]
------------------------------------------------------
client write log 8703569606467445230 (index 237) to leader 2
client write log 6542116322377225802 (index 238) to leader 2
client write log 8741208399449701428 (index 239) to leader 2
client write log 4895516641415216996 (index 240) to leader 2
client write log 9124254363670575295 (index 241) to leader 2
client write log 8416674386011019574 (index 242) to leader 2
flag 83984 term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
flag 16454 term 37 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 35 229} {624586232919256684 35 230} {5042651074736047547 35 231} {4527774428329724481 35 232} {2773797501657413771 35 233} {8564535779480804210 35 234} {8564535779480804210 37 235} {6503673222526865795 37 236} {8703569606467445230 37 237} {6542116322377225802 37 238} {8741208399449701428 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242}]
------------------------------------------------------
term 37 Server2 start snapshot! index=239
term 37 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=242
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 48799 term 37 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 37 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 37 leaderCommit: 242 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242}]
------------------------------------------------------
term 37 Server1 start snapshot! index=239
term 37 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=242
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7653241794081727203 (index 243) to leader 2
term 37 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 82148 term 37 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 37 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 37 leaderCommit: 242 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
term 38 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 2 get outdate rpc reply from server 0
flag 54291 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 31219 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 244->243
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 236  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 88571 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
rf.lastIncludedIndex 239 rf.lastIncludedTerm 37 rf.commitIndex 239 rf.lastApplied 239
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97363 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 80117 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
flag 96452 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 76718 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
flag 35493 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 34327 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83654 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 84183 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 0 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 0
flag 23565 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 45997 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22459 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 38064 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 44948 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 29665 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 68145 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 26880 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 71067 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 4579 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2793 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 85421 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 1 vote for server 0
term 40 server 0 get vote from server 1
term 40 server 0 become leader
------------------------------------------------------
flag 72886 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 69077 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 12248 term 40 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 80804 term 40 leader 0 nextIndex[2]: 244  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243}]
------------------------------------------------------
client write log 630512708276569853 (index 244) to leader 0
flag 32440 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 6377 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 37235 term 40 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 40 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 10672 term 40 leader 0 nextIndex[2]: 244  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243} {630512708276569853 40 244}]
------------------------------------------------------
flag 4311 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 12904 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 54693 term 40 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 40 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 40 leaderCommit: 244 
------------------------------------------------------
flag 47072 term 40 leader 0 nextIndex[2]: 244  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 244 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243} {630512708276569853 40 244}]
------------------------------------------------------
client write log 8895428947801155483 (index 245) to leader 0
client write log 5230077825752573288 (index 246) to leader 0
client write log 2008140078739269784 (index 247) to leader 0
client write log 3738644167481363828 (index 248) to leader 0
client write log 3891541271854395828 (index 249) to leader 0
client write log 4363828982050497726 (index 250) to leader 0
client write log 7366671031074259716 (index 251) to leader 0
client write log 775730823783386001 (index 252) to leader 0
client write log 3314205837659256100 (index 253) to leader 0
client write log 4106695365582632796 (index 254) to leader 0
client write log 4434594518572420224 (index 255) to leader 0
client write log 5303040462218868616 (index 256) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66969 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 19257 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 83867 term 40 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 40 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 40 leaderCommit: 244 
------------------------------------------------------
flag 1604 term 40 leader 0 nextIndex[2]: 244  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 244 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 239} {4895516641415216996 37 240} {9124254363670575295 37 241} {8416674386011019574 37 242} {7653241794081727203 37 243} {630512708276569853 40 244} {8895428947801155483 40 245} {5230077825752573288 40 246} {2008140078739269784 40 247} {3738644167481363828 40 248} {3891541271854395828 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 Server0 start snapshot! index=249
term 40 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=256
-------------------------------------------------------------
flag 26094 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 94527 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 79655 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 244  matchIndex[2]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 Server1 start snapshot! index=249
term 40 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=256
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8793032532051819995 (index 244) to leader 2
flag 7820 term 39 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
flag 30516 term 39 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 39 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 37 leaderCommit: 243 
------------------------------------------------------
term 40 server 1 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84471 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 244  matchIndex[2]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 40 rf.commitIndex 249 rf.lastApplied 249
term 40 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97017 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 86413 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 257->256
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10041 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 0  matchIndex[2]: 256
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot fail
rf.commitIndex 249 args.LastIncludedIndex 249
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 60175 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 50903 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 99185 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 93522 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 257->256
------------------------------------------------------
flag 7309 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 0  matchIndex[2]: 256
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot fail
rf.commitIndex 256 args.LastIncludedIndex 249
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4227 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 83813 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74099 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 54626 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 26092 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 99907 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 76104 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 63663 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 99838 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 85684 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 73987 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 26381 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 8321 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 81615 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11704 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 609 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 257->256
------------------------------------------------------
flag 88092 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 0  matchIndex[2]: 256
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot fail
rf.commitIndex 256 args.LastIncludedIndex 249
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72170 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 37624 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 65766 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 6971 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49355 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 1958 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 53329 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 71003 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
flag 22146 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 14171 term 40 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256}]
------------------------------------------------------
client write log 8793032532051819995 (index 257) to leader 0
term 40 server 2 not vote for server 0, 日志不够新
term 40 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 257->256
------------------------------------------------------
flag 68808 term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 40 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 40 leader 0 nextIndex[2]: 0  matchIndex[2]: 256
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 2 InstallSnapshot fail
rf.commitIndex 256 args.LastIncludedIndex 249
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
flag 12986 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 78008 term 40 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
flag 43480 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 24063 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
flag 82951 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 54392 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
flag 54119 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 36783 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
flag 22250 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 35270 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
flag 91601 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 61439 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2352321698551523965 (index 258) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33839 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 59527 term 40 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257} {2352321698551523965 40 258}]
------------------------------------------------------
flag 11888 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 50870 term 40 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257} {2352321698551523965 40 258}]
------------------------------------------------------
client write log 4581137454424091546 (index 259) to leader 0
client write log 1669914511464303390 (index 260) to leader 0
client write log 386571443773310129 (index 261) to leader 0
client write log 494773764553816700 (index 262) to leader 0
client write log 8582018009796134384 (index 263) to leader 0
client write log 7903286146472711329 (index 264) to leader 0
client write log 2355962415122383020 (index 265) to leader 0
client write log 1220678926306976936 (index 266) to leader 0
flag 35647 term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 64802 term 40 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 40 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 249} {4363828982050497726 40 250} {7366671031074259716 40 251} {775730823783386001 40 252} {3314205837659256100 40 253} {4106695365582632796 40 254} {4434594518572420224 40 255} {5303040462218868616 40 256} {8793032532051819995 40 257} {2352321698551523965 40 258} {4581137454424091546 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266}]
------------------------------------------------------
term 40 Server0 start snapshot! index=259
term 40 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=266
-------------------------------------------------------------
term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 14543 term 40 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 40 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 40 leaderCommit: 266 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266}]
------------------------------------------------------
term 40 Server2 start snapshot! index=259
term 40 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=266
-------------------------------------------------------------
term 40 server 2 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 2
!!!!!!connect server 1
client write log 691416068731222033 (index 267) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 61632 term 40 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 40 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 40 leaderCommit: 266 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 41 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 2 vote for server 0
term 42 server 0 get vote from server 2
term 42 server 0 become leader
------------------------------------------------------
term 42 server 1 vote for server 0
term 42 server 0 get outdate rpc reply from server 1
flag 64262 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
flag 29411 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
term 42 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
term 42 leader 0 nextIndex[1]: 258  matchIndex[1]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 28914 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 40 rf.commitIndex 259 rf.lastApplied 259
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
flag 4490 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
flag 39781 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67260 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
flag 54761 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20586 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
flag 87470 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
flag 60279 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
flag 89321 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
flag 20324 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
flag 83391 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
flag 48227 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
flag 64475 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
flag 62534 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
flag 72547 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8617545718820089692 (index 268) to leader 0
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42972 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
flag 85957 term 42 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 267 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267} {8617545718820089692 42 268}]
------------------------------------------------------
flag 19792 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 268 
------------------------------------------------------
flag 42957 term 42 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267} {8617545718820089692 42 268}]
------------------------------------------------------
client write log 6641298350985813928 (index 269) to leader 0
client write log 3819714934787743420 (index 270) to leader 0
client write log 3690551325643552857 (index 271) to leader 0
client write log 4158777209812253765 (index 272) to leader 0
client write log 5352923566685801002 (index 273) to leader 0
client write log 6625176720466866481 (index 274) to leader 0
client write log 7279900241236808002 (index 275) to leader 0
client write log 917018462096882267 (index 276) to leader 0
client write log 3890808369175642076 (index 277) to leader 0
client write log 4089820376322936548 (index 278) to leader 0
flag 93607 term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 40 leaderCommit: 268 
------------------------------------------------------
flag 86207 term 42 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 42 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 259} {1669914511464303390 40 260} {386571443773310129 40 261} {494773764553816700 40 262} {8582018009796134384 40 263} {7903286146472711329 40 264} {2355962415122383020 40 265} {1220678926306976936 40 266} {691416068731222033 40 267} {8617545718820089692 42 268} {6641298350985813928 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278}]
------------------------------------------------------
term 42 Server0 start snapshot! index=269
term 42 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 80070 term 42 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 42 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278}]
------------------------------------------------------
term 42 Server2 start snapshot! index=269
term 42 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5945563507176967177 (index 279) to leader 0
term 42 server 2 not vote for server 1, 日志不够新
term 42 server 0 not vote for server 1, 日志不够新
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get outdate rpc reply from server 1
flag 48206 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 14941 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 280->279
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 280->279
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 58184 term 44 leader 0 nextIndex[2]: 279  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
term 44 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 42 rf.commitIndex 269 rf.lastApplied 269
flag 63975 term 44 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 44 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 47566 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80299 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 41418 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30936 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 84137 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4125 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 59099 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
flag 61508 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 63034 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35925 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 70229 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57974 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 6121 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
flag 50183 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 33324 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 0 not vote for server 1, 任期不够新
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66977 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 54445 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
flag 86115 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 78684 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
flag 10086 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 28187 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
flag 85463 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 41118 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
flag 68646 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 6412 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
flag 2686 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 19916 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46963 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 89848 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25859 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 16554 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
flag 41270 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 32466 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
flag 25504 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 8199 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279}]
------------------------------------------------------
client write log 5945563507176967177 (index 280) to leader 0
flag 56738 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 28195 term 44 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 269} {3819714934787743420 42 270} {3690551325643552857 42 271} {4158777209812253765 42 272} {5352923566685801002 42 273} {6625176720466866481 42 274} {7279900241236808002 42 275} {917018462096882267 42 276} {3890808369175642076 42 277} {4089820376322936548 42 278} {5945563507176967177 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
term 44 Server0 start snapshot! index=279
term 44 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
flag 28777 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 42021 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
flag 26789 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 64850 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
term 44 server 2 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 2
flag 15882 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 59973 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59388 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 30781 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
flag 6908 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 99750 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 88648 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 75186 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 58088 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 86881 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64033 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 5601 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 92633 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 23065 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
flag 50600 term 45 leader 1 nextIndex[0]: 281  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 67972 term 45 leader 1 nextIndex[2]: 281  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {5945563507176967177 44 280}]
------------------------------------------------------
client write log 5739016434952071405 (index 281) to leader 1
flag 8450 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 26761 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 76019 term 45 leader 1 nextIndex[0]: 281  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 30806 term 45 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 42 279} {5945563507176967177 44 280} {5739016434952071405 45 281}]
------------------------------------------------------
flag 67393 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 54822 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 7709 term 45 leader 1 nextIndex[0]: 281  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 281 
------------------------------------------------------
flag 77658 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 42 279} {5945563507176967177 44 280} {5739016434952071405 45 281}]
------------------------------------------------------
client write log 4097425815698539498 (index 282) to leader 1
client write log 7638228810965102789 (index 283) to leader 1
client write log 5901254334814202473 (index 284) to leader 1
client write log 6866367821973171670 (index 285) to leader 1
client write log 6838352881035263612 (index 286) to leader 1
client write log 5326360076794864887 (index 287) to leader 1
client write log 2320295066822438938 (index 288) to leader 1
client write log 3224938327487068826 (index 289) to leader 1
client write log 161342478584357654 (index 290) to leader 1
flag 97928 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 10396 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 23726 term 45 leader 1 nextIndex[0]: 281  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 281 
------------------------------------------------------
flag 45974 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 42 279} {5945563507176967177 44 280} {5739016434952071405 45 281} {4097425815698539498 45 282} {7638228810965102789 45 283} {5901254334814202473 45 284} {6866367821973171670 45 285} {6838352881035263612 45 286} {5326360076794864887 45 287} {2320295066822438938 45 288} {3224938327487068826 45 289} {161342478584357654 45 290}]
------------------------------------------------------
term 45 Server1 start snapshot! index=289
term 45 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
flag 50676 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 3982 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 281  matchIndex[0]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 16017 term 45 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {161342478584357654 45 290}]
------------------------------------------------------
term 45 Server2 start snapshot! index=289
term 45 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1804837774182007243 (index 291) to leader 1
flag 37041 term 44 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
flag 13066 term 44 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 44 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 45 server 1 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 281  matchIndex[0]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 53689 term 45 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 45 rf.commitIndex 289 rf.lastApplied 289
flag 10010 term 45 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 45 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 33162 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
flag 65339 term 45 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 72667 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 292->291
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 291
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 8081 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 0 InstallSnapshot fail
rf.commitIndex 291 args.LastIncludedIndex 289
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 91158 term 45 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 45 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 25586 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85727 term 45 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 42075 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
flag 16638 term 45 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 39850 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
flag 93729 term 45 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 67951 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4083162172242105634 (index 292) to leader 1
flag 69655 term 45 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 88487 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291} {4083162172242105634 45 292}]
------------------------------------------------------
flag 80894 term 45 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 45 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
flag 78431 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291} {4083162172242105634 45 292}]
------------------------------------------------------
client write log 7576914062928903085 (index 293) to leader 1
client write log 2702579871769400204 (index 294) to leader 1
client write log 1952940594069937232 (index 295) to leader 1
client write log 1923376254675017155 (index 296) to leader 1
client write log 1415120697498119798 (index 297) to leader 1
client write log 7489419007998064600 (index 298) to leader 1
client write log 7439192591071588603 (index 299) to leader 1
client write log 5325573445979509688 (index 300) to leader 1
flag 69775 term 45 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 45 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
flag 70543 term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 45 289} {161342478584357654 45 290} {1804837774182007243 45 291} {4083162172242105634 45 292} {7576914062928903085 45 293} {2702579871769400204 45 294} {1952940594069937232 45 295} {1923376254675017155 45 296} {1415120697498119798 45 297} {7489419007998064600 45 298} {7439192591071588603 45 299} {5325573445979509688 45 300}]
------------------------------------------------------
term 45 Server1 start snapshot! index=299
term 45 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
flag 81896 term 45 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300}]
------------------------------------------------------
term 45 Server0 start snapshot! index=299
term 45 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8135543291649351374 (index 301) to leader 1
term 45 server 1 not vote for server 2, 日志不够新
term 45 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 2 vote for server 1
term 47 server 0 vote for server 1
term 47 server 1 get vote from server 2
term 47 server 1 become leader
------------------------------------------------------
term 47 server 1 get outdate rpc reply from server 0
flag 25293 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 43777 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 302->301
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 302->301
------------------------------------------------------
flag 95328 term 47 leader 1 nextIndex[0]: 301  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 45
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 45 rf.commitIndex 299 rf.lastApplied 299
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 52533 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 89232 term 47 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 47 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30760 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 28272 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 12942 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 93782 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 47981 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 10777 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 52154 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 99407 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 42828 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 43516 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 93218 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 80326 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 22063 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 69995 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 36142 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 9971 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 31054 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 89905 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9358 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 19779 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 31842 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 21752 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36815 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 52063 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53031 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 12299 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40952 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 9485 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 30308 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 46386 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
flag 20254 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 86519 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=300
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301}]
------------------------------------------------------
client write log 8135543291649351374 (index 302) to leader 1
flag 83812 term 47 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
flag 63166 term 47 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 47 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 300 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
flag 4720 term 47 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
flag 73867 term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 0 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 0
flag 37355 term 47 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
flag 37960 term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65202 term 47 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
flag 10092 term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
flag 42579 term 47 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
flag 25381 term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
flag 2057 term 47 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
flag 91105 term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
flag 15901 term 47 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
flag 5366 term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5573137171979518582 (index 303) to leader 1
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46762 term 47 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
flag 74345 term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 302 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302} {5573137171979518582 47 303}]
------------------------------------------------------
flag 24146 term 47 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 47 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 3974 term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302} {5573137171979518582 47 303}]
------------------------------------------------------
client write log 5032994121450115967 (index 304) to leader 1
client write log 1990664975039796559 (index 305) to leader 1
client write log 8267361038644393296 (index 306) to leader 1
client write log 942074354643802604 (index 307) to leader 1
client write log 7311832288240053317 (index 308) to leader 1
client write log 8402994850958700682 (index 309) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60586 term 47 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 47 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 45976 term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 45 299} {5325573445979509688 45 300} {8135543291649351374 45 301} {8135543291649351374 47 302} {5573137171979518582 47 303} {5032994121450115967 47 304} {1990664975039796559 47 305} {8267361038644393296 47 306} {942074354643802604 47 307} {7311832288240053317 47 308} {8402994850958700682 47 309}]
------------------------------------------------------
term 47 Server1 start snapshot! index=309
term 47 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 72369 term 47 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 47 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
term 47 Server0 start snapshot! index=309
term 47 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8789919524572135544 (index 310) to leader 1
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 0 vote for server 1
term 49 server 1 get vote from server 0
term 49 server 1 become leader
------------------------------------------------------
term 49 server 2 vote for server 1
term 49 server 1 get outdate rpc reply from server 2
flag 89378 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 68209 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 311->310
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 311->310
------------------------------------------------------
flag 96918 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 303  matchIndex[2]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 47 rf.commitIndex 309 rf.lastApplied 309
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72292 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 32509 term 49 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 53980 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 39926 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 63689 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 27387 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 91156 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 91199 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 27088 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 44910 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 67692 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 11891 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43534 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 90701 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 93047 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 62500 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88106 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 21396 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 83840 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 77675 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7302 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 68192 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 91862 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 4051 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 49193 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 77232 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 10714 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 10534 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34470 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 69700 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27320 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 74978 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
flag 90353 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 99294 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35510 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 62186 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=309
leader log:
[{snapshot 47 309} {8789919524572135544 47 310}]
------------------------------------------------------
client write log 8789919524572135544 (index 311) to leader 1
flag 81168 term 49 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 21379 term 49 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 49 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
flag 92845 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 27676 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
flag 90887 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 69088 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34573 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 5494 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
flag 80329 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 70111 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
flag 79566 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 80376 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
flag 36637 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 79190 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 12823 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 37632 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 94925 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 8154 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 86695 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 49703 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 42061 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 79651 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 50 server 2 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
flag 49034 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 71302 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311}]
------------------------------------------------------
client write log 7225630932723614414 (index 312) to leader 0
flag 85608 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 96437 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 22995 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 99050 term 50 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312}]
------------------------------------------------------
flag 56500 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 7750 term 49 leader 1 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 312->311
------------------------------------------------------
flag 27492 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
flag 51738 term 50 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 50 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312}]
------------------------------------------------------
client write log 4075443903355023588 (index 313) to leader 0
flag 81311 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 0  matchIndex[2]: 311
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 54298 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
flag 79449 term 50 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 50 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 25696 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 0  matchIndex[2]: 311
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 51389 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 1424 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6936181432084922528 (index 312) to leader 1
flag 32470 term 49 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 49 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 0  matchIndex[2]: 311
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 0 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76066 term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 41959 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 22906 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 95094 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 84347 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 91551 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 314->313
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 313
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 51896 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 InstallSnapshot fail
rf.commitIndex 313 args.LastIncludedIndex 309
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 42596 term 50 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 313 
------------------------------------------------------
flag 3624 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 93412 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 97971 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 not vote for server 0, 日志不够新
term 50 server 0 get outdate rpc reply from server 1
flag 43836 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 94869 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 26484 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 46745 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 36317 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 5932 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40836 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 52069 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 74964 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 35800 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 314->313
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 313
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 99986 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 InstallSnapshot fail
rf.commitIndex 313 args.LastIncludedIndex 309
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 42896 term 50 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 50 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 313 
------------------------------------------------------
flag 49588 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 8914 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 83375 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98623 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 10796 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 53608 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 65413 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47258 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 52539 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 21251 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 98480 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
flag 17533 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 8348 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7962 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 45321 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6936181432084922528 (index 314) to leader 0
flag 25417 term 50 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 49383 term 50 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 50 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
flag 13523 term 50 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 49174 term 50 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31704 term 50 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 1050 term 50 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
flag 16714 term 50 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 99885 term 50 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6051 term 50 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 41297 term 50 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
flag 16050 term 50 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 98453 term 50 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78413 term 50 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 99022 term 50 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6309803262158720097 (index 315) to leader 0
flag 90927 term 50 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
flag 38828 term 50 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314} {6309803262158720097 50 315}]
------------------------------------------------------
flag 29369 term 50 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 37310 term 50 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314} {6309803262158720097 50 315}]
------------------------------------------------------
client write log 4442568816768770672 (index 316) to leader 0
client write log 4709887216566457492 (index 317) to leader 0
client write log 2173803351994011635 (index 318) to leader 0
client write log 6005056989405825972 (index 319) to leader 0
client write log 570876723040443339 (index 320) to leader 0
client write log 2442701396494157512 (index 321) to leader 0
client write log 2701684110226253224 (index 322) to leader 0
client write log 4066843570652244272 (index 323) to leader 0
client write log 4184710777516052551 (index 324) to leader 0
client write log 4907799127300702820 (index 325) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74707 term 50 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 50 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
flag 20916 term 50 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 50 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 47 309} {8789919524572135544 47 310} {8789919524572135544 49 311} {7225630932723614414 50 312} {4075443903355023588 50 313} {6936181432084922528 50 314} {6309803262158720097 50 315} {4442568816768770672 50 316} {4709887216566457492 50 317} {2173803351994011635 50 318} {6005056989405825972 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325}]
------------------------------------------------------
term 50 Server0 start snapshot! index=319
term 50 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=325
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 315->314
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 314
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 26969 term 50 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325}]
------------------------------------------------------
term 50 Server2 start snapshot! index=319
term 50 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=325
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1572629602978671609 (index 326) to leader 0
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 314
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 68700 term 50 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 2 vote for server 0
term 52 server 1 vote for server 0
term 52 server 0 get vote from server 2
term 52 server 0 become leader
------------------------------------------------------
term 52 server 0 get outdate rpc reply from server 1
flag 48765 term 52 leader 0 nextIndex[1]: 327  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 41692 term 52 leader 0 nextIndex[2]: 327  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 327->326
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 315  matchIndex[1]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 3786 term 52 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
term 52 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 52 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
rf.lastIncludedIndex 319 rf.lastIncludedTerm 50 rf.commitIndex 319 rf.lastApplied 319
flag 49158 term 52 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 52 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 92743 term 52 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
flag 64952 term 52 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 48599 term 52 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
flag 19254 term 52 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 64714 term 52 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
flag 53676 term 52 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 41229 term 52 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
flag 1935 term 52 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 58066 term 52 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
flag 34366 term 52 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 25487 term 52 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 52 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {570876723040443339 50 320} {2442701396494157512 50 321} {2701684110226253224 50 322} {4066843570652244272 50 323} {4184710777516052551 50 324} {4907799127300702820 50 325} {1572629602978671609 50 326}]
------------------------------------------------------
  ... Passed --  72.3  3 1668  722385  326
--- PASS: TestSnapshotInstall2D (72.34s)
PASS
