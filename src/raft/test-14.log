=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 0
term 1 server 2 become leader
------------------------------------------------------
term 1 server 1 vote for server 2
term 1 server 2 get outdate rpc reply from server 1
client write log 2675719854902725359 (index 1) to leader 2
flag 99936 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 93779 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
flag 47893 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 23261 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
flag 15429 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 40249 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
flag 8541 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 52216 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
flag 31752 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 76004 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
flag 54786 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 11346 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2675719854902725359 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2465362956499797840 (index 2) to leader 2
flag 58002 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 28624 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2675719854902725359 1 1} {2465362956499797840 1 2}]
------------------------------------------------------
flag 11168 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 26464 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2675719854902725359 1 1} {2465362956499797840 1 2}]
------------------------------------------------------
client write log 7965006696660741206 (index 3) to leader 2
client write log 5010846565167285760 (index 4) to leader 2
client write log 474811896990980066 (index 5) to leader 2
client write log 7972991381770392526 (index 6) to leader 2
client write log 1559701986285663817 (index 7) to leader 2
client write log 6896832570073026842 (index 8) to leader 2
client write log 7157494652745533950 (index 9) to leader 2
client write log 8365035080931877283 (index 10) to leader 2
client write log 2273411628342219069 (index 11) to leader 2
client write log 6556311704766810305 (index 12) to leader 2
client write log 5405860060496102936 (index 13) to leader 2
client write log 7573752232493528353 (index 14) to leader 2
client write log 6165871106746226301 (index 15) to leader 2
client write log 2164652916271643853 (index 16) to leader 2
flag 67028 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 95031 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{<nil> 0 0} {2675719854902725359 1 1} {2465362956499797840 1 2} {7965006696660741206 1 3} {5010846565167285760 1 4} {474811896990980066 1 5} {7972991381770392526 1 6} {1559701986285663817 1 7} {6896832570073026842 1 8} {7157494652745533950 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 88839 term 1 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 1 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3063810852459110618 (index 17) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 41666 term 1 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 1 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 23772 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 22134 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 18->17
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 62621 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
flag 76964 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 66253 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
flag 83611 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 52072 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
flag 57669 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 19533 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
flag 39581 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 25716 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
flag 45952 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 23 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
flag 2521 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 66476 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 66963 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 85961 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 54570 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 23190 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 57543 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 87694 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 60637 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 40998 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 82745 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 61614 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17}]
------------------------------------------------------
client write log 2925741817274474741 (index 18) to leader 1
flag 56292 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 56742 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 98501 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 43243 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17} {2925741817274474741 4 18}]
------------------------------------------------------
flag 31622 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 93022 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 68202 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 22294 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17} {2925741817274474741 4 18}]
------------------------------------------------------
client write log 6539286493274596039 (index 19) to leader 1
flag 58724 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 67389 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 58614 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 85832 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {8365035080931877283 1 10} {2273411628342219069 1 11} {6556311704766810305 1 12} {5405860060496102936 1 13} {7573752232493528353 1 14} {6165871106746226301 1 15} {2164652916271643853 1 16} {3063810852459110618 1 17} {2925741817274474741 4 18} {6539286493274596039 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 18->17
------------------------------------------------------
flag 2743 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 94992 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 52449 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3850294412904098368 (index 20) to leader 1
flag 2764 term 3 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 39920 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27813 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 58358 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 13468 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62813 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 17381 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
flag 6469 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 65813 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69987 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 78326 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
flag 34571 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 66278 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 21->20
------------------------------------------------------
flag 69024 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 20
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 20 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16846 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 12934 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {3850294412904098368 4 20}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5109657240703123282 (index 21) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79038 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 21052 term 4 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3850294412904098368 4 20} {5109657240703123282 4 21}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
flag 46583 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 5693 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3850294412904098368 4 20} {5109657240703123282 4 21}]
------------------------------------------------------
client write log 652955965592042869 (index 22) to leader 1
client write log 3637145106094384022 (index 23) to leader 1
client write log 9209694886817777120 (index 24) to leader 1
client write log 4611729575526180162 (index 25) to leader 1
client write log 8940458785169626859 (index 26) to leader 1
client write log 7598354831917498 (index 27) to leader 1
client write log 7841520406712551887 (index 28) to leader 1
client write log 4463373454855850123 (index 29) to leader 1
client write log 3360082663811868371 (index 30) to leader 1
client write log 5324846145699925483 (index 31) to leader 1
client write log 8077407836777376366 (index 32) to leader 1
client write log 3451208649843982694 (index 33) to leader 1
client write log 1155186401107683130 (index 34) to leader 1
client write log 6412175884141082410 (index 35) to leader 1
client write log 158447722985563911 (index 36) to leader 1
flag 43687 term 4 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 13355 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 19} {3850294412904098368 4 20} {5109657240703123282 4 21} {652955965592042869 4 22} {3637145106094384022 4 23} {9209694886817777120 4 24} {4611729575526180162 4 25} {8940458785169626859 4 26} {7598354831917498 4 27} {7841520406712551887 4 28} {4463373454855850123 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=36
-------------------------------------------------------------
flag 72453 term 4 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
term 4 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=36
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1687824193295382621 (index 37) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 60754 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 23429 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 38->37
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 38->37
------------------------------------------------------
flag 51003 term 6 leader 1 nextIndex[0]: 37  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 21  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 67213 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 46423 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45279 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 19699 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 99866 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 91081 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 45340 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 62417 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 77392 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 94583 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 56397 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 70863 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 96241 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 92545 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 68320 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 42763 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93966 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 51583 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 5080 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 99553 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 23495 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 43428 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 54736 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 28956 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
flag 11738 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 74613 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 82502 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 56939 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 46650 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 14098 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79347 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 73206 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 14794 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 96583 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
flag 10553 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 85662 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37}]
------------------------------------------------------
client write log 1687824193295382621 (index 38) to leader 1
flag 34698 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 27053 term 6 leader 1 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
flag 46019 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 53847 term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66220 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 25003 term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
flag 80790 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 88738 term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
flag 96329 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 77053 term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23177 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 71592 term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76914 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 82932 term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6379727604632961123 (index 39) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45525 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 9933 term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {3360082663811868371 4 30} {5324846145699925483 4 31} {8077407836777376366 4 32} {3451208649843982694 4 33} {1155186401107683130 4 34} {6412175884141082410 4 35} {158447722985563911 4 36} {1687824193295382621 4 37} {1687824193295382621 6 38} {6379727604632961123 6 39}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 91844 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 8135183268040003789 (index 40) to leader 1
client write log 3411891795935238808 (index 41) to leader 1
client write log 1702940837436985938 (index 42) to leader 1
client write log 3937564177226473689 (index 43) to leader 1
client write log 4974017824296219346 (index 44) to leader 1
client write log 9091501201244964218 (index 45) to leader 1
client write log 6035081503956429069 (index 46) to leader 1
flag 95617 term 6 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46}]
------------------------------------------------------
flag 79080 term 6 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 6 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5873847849974436015 (index 47) to leader 1
flag 84769 term 6 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 6 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 15592 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 92889 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 48->47
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89688 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39948 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 58507 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8397 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 12400 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
flag 16691 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 43287 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96594 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 69500 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
flag 47886 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 45592 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
flag 65788 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 254 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63580 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 5832 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
flag 48004 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 2562 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
flag 98408 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 30329 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
flag 82716 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 76259 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
flag 39193 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 62871 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98447 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 21965 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
flag 20517 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 33996 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40634 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 60447 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3568 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 59354 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
flag 99594 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 8262 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87373 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 64485 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47}]
------------------------------------------------------
client write log 5873847849974436015 (index 48) to leader 1
flag 53101 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 27716 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
flag 48324 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 65259 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
flag 99692 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 13908 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
flag 70664 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 30058 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
flag 21823 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 78838 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
flag 84291 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 25380 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
flag 89479 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 89631 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48}]
------------------------------------------------------
!!!!!!diconnect server 1
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3614 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 44368 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 25387 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 95075 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 70687 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 90096 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
client write log 4394519456509385790 (index 49) to leader 2
flag 48844 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 92289 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {8135183268040003789 6 40} {3411891795935238808 6 41} {1702940837436985938 6 42} {3937564177226473689 6 43} {4974017824296219346 6 44} {9091501201244964218 6 45} {6035081503956429069 6 46} {5873847849974436015 6 47} {5873847849974436015 8 48} {4394519456509385790 9 49}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 64658 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 84629 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
flag 21481 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 5184524722385556173 (index 50) to leader 2
client write log 5211434923081395982 (index 51) to leader 2
client write log 1295200146382327381 (index 52) to leader 2
client write log 7616236915532960501 (index 53) to leader 2
client write log 5905677654451463719 (index 54) to leader 2
client write log 298484010831212398 (index 55) to leader 2
client write log 8394665144264466124 (index 56) to leader 2
client write log 5382856056582428794 (index 57) to leader 2
client write log 1299133019694091222 (index 58) to leader 2
flag 32285 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 95783 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96462 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 74245 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 15804 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 22379 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8180176422855740073 (index 49) to leader 1
flag 82647 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 13673 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 1
flag 69444 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 96089 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 42926 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38020 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 26611 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 54188 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 58006 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 56863 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 70591 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33256 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 63667 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 59->58
------------------------------------------------------
flag 34389 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 58
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 58 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 99664 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 1961 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 62665 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 89865 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 95887 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 85177 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 22319 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 6291 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62068 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 67368 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 96492 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 48029 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 37398 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 20589 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 1
flag 55385 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 62700 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 61171 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 41866 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 44006 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 82964 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 952 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 48253 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
leader 2 sendAppendEntries -> server 1 true------------------------------------------------------
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 17987 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 83868 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
flag 74715 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 86005 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58}]
------------------------------------------------------
client write log 8180176422855740073 (index 59) to leader 2
flag 37533 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 71528 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58} {8180176422855740073 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {5184524722385556173 9 50} {5211434923081395982 9 51} {1295200146382327381 9 52} {7616236915532960501 9 53} {5905677654451463719 9 54} {298484010831212398 9 55} {8394665144264466124 9 56} {5382856056582428794 9 57} {1299133019694091222 9 58} {8180176422855740073 9 59}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 53963 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 30826 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 19047 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 25363 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12689 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 46469 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
flag 82626 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 24715 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
flag 27734 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 51214 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
flag 21946 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 12388 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5896705198831581794 (index 60) to leader 2
flag 66398 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 95507 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {5896705198831581794 9 60}]
------------------------------------------------------
flag 63351 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 87223 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {5896705198831581794 9 60}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1609275540171969949 (index 61) to leader 2
client write log 3826984683341219104 (index 62) to leader 2
client write log 9132860092121535318 (index 63) to leader 2
client write log 2354914358771164899 (index 64) to leader 2
client write log 7839357029026908696 (index 65) to leader 2
client write log 2509767149065097970 (index 66) to leader 2
client write log 8389575322729744531 (index 67) to leader 2
flag 24736 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 4620 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67}]
------------------------------------------------------
flag 95781 term 9 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 88216 term 9 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 9 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67}]
------------------------------------------------------
!!!!!!connect server 0
client write log 629420928207079263 (index 68) to leader 2
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 0 vote for server 2
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 62713 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 7890 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 69->68
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 69->68
------------------------------------------------------
flag 95063 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 37723 term 11 leader 2 nextIndex[1]: 68  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78236 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 27512 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 41538 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 29987 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 43280 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 41683 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 31506 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 17547 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 73043 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 27400 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74933 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 86642 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 60563 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 50561 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 67699 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 99757 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 46311 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 76920 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 88677 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 9597 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 5618 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 35250 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 32225 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 36220 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 40616 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 91104 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92856 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 48941 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
flag 30053 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 21087 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52798 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 11511 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33783 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 89063 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52361 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 8470 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68}]
------------------------------------------------------
client write log 629420928207079263 (index 69) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79101 term 11 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 86412 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68} {629420928207079263 11 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {5896705198831581794 9 60} {1609275540171969949 9 61} {3826984683341219104 9 62} {9132860092121535318 9 63} {2354914358771164899 9 64} {7839357029026908696 9 65} {2509767149065097970 9 66} {8389575322729744531 9 67} {629420928207079263 9 68} {629420928207079263 11 69}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 68146 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 86789 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 57710 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 91228 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11467 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 13004 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 43600 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 53131 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 92475 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 65382 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7418 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 90922 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8646222973754821759 (index 70) to leader 2
flag 46966 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 90938 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8646222973754821759 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36556 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 1894 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {8646222973754821759 11 70}]
------------------------------------------------------
client write log 5602930883321698581 (index 71) to leader 2
client write log 3498058046009743540 (index 72) to leader 2
client write log 4302174032614746984 (index 73) to leader 2
client write log 716821953431854164 (index 74) to leader 2
client write log 5010527224973612449 (index 75) to leader 2
client write log 2582919465192284803 (index 76) to leader 2
client write log 12901635188253673 (index 77) to leader 2
client write log 3294931348888730569 (index 78) to leader 2
client write log 1789308685097010198 (index 79) to leader 2
client write log 2415346702329474588 (index 80) to leader 2
flag 85838 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 88995 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 69} {8646222973754821759 11 70} {5602930883321698581 11 71} {3498058046009743540 11 72} {4302174032614746984 11 73} {716821953431854164 11 74} {5010527224973612449 11 75} {2582919465192284803 11 76} {12901635188253673 11 77} {3294931348888730569 11 78} {1789308685097010198 11 79} {2415346702329474588 11 80}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 70->69
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 69
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 98951 term 11 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 11 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7461909220690037454 (index 81) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 27581 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 40805 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 82->81
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 82->81
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 4735 term 13 leader 2 nextIndex[1]: 81  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
flag 47976 term 13 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 98698 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 38671 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 85988 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 13033 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 63465 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 72400 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 97183 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 72997 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 14214 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 98498 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 51203 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 62370 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 40543 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 9014 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 60076 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 46667 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 64145 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 10805 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 80130 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 56640 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 82651 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 53782 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 59611 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 20635 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 51460 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 77548 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 5604 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 35469 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 84580 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 76413 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 40944 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 45120 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 41240 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
flag 39463 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 18193 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81}]
------------------------------------------------------
client write log 7461909220690037454 (index 82) to leader 2
flag 30379 term 13 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
flag 45106 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
flag 62476 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 70068 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
flag 95138 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 51853 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
flag 59757 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 7326 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
flag 81640 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 47765 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
flag 53949 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 17744 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
flag 76951 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 4720 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 48837 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 12780 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 21596 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 90357 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 40876 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 96719 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 0
term 14 server 1 become leader
------------------------------------------------------
flag 20785 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 40862 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82}]
------------------------------------------------------
flag 37218 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 30904 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
client write log 1259312549439354583 (index 83) to leader 1
flag 1020 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 80649 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83}]
------------------------------------------------------
flag 85671 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 49416 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 6959 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 1387 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8186676073636454043 (index 84) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73397 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 2993 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 83->82
------------------------------------------------------
flag 25987 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 99565 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84}]
------------------------------------------------------
flag 90744 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 82
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 29236 term 14 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 21398 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84}]
------------------------------------------------------
!!!!!!connect server 2
client write log 336516069529839289 (index 85) to leader 1
flag 35644 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 82
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28600 term 14 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 52468 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
flag 45436 term 14 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 84773 term 14 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
flag 816 term 14 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 15637 term 14 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
flag 80478 term 14 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 38264 term 14 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
flag 44626 term 14 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 29404 term 14 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83904 term 14 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 82181 term 14 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
flag 62356 term 14 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 41168 term 14 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8115236106780561004 (index 86) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 86->85
------------------------------------------------------
flag 73488 term 14 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85} {8115236106780561004 14 86}]
------------------------------------------------------
flag 53053 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85} {8115236106780561004 14 86}]
------------------------------------------------------
client write log 8415299572987947752 (index 87) to leader 1
client write log 5498293368502326897 (index 88) to leader 1
client write log 4035404009996412503 (index 89) to leader 1
client write log 5804023775009772270 (index 90) to leader 1
client write log 9043719036775215041 (index 91) to leader 1
client write log 1469174586057544797 (index 92) to leader 1
client write log 4045698629822324291 (index 93) to leader 1
client write log 3357960760322031938 (index 94) to leader 1
client write log 1310005532817940437 (index 95) to leader 1
client write log 5134969986223334208 (index 96) to leader 1
client write log 2597302195228249747 (index 97) to leader 1
client write log 326543693154035199 (index 98) to leader 1
flag 60758 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 79} {2415346702329474588 11 80} {7461909220690037454 11 81} {7461909220690037454 13 82} {1259312549439354583 14 83} {8186676073636454043 14 84} {336516069529839289 14 85} {8115236106780561004 14 86} {8415299572987947752 14 87} {5498293368502326897 14 88} {4035404009996412503 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=98
-------------------------------------------------------------
flag 96181 term 14 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=98
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4187635510840425202 (index 99) to leader 1
flag 21563 term 14 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get outdate rpc reply from server 0
flag 823 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 10573 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 100->99
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 54587 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 86  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 89257 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 6149 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 39936 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 48862 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 33805 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 23059 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 39409 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 4409 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 75209 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 65893 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 17804 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 52690 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
flag 15897 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 32514 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 77789 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 80920 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 24490 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 29119 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 33565 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 68315 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 24702 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 34418 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 38581 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 84266 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 10408 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 15795 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61512 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 82720 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 80777 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 86844 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45331 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 77518 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
flag 83833 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 7538 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99}]
------------------------------------------------------
client write log 4187635510840425202 (index 100) to leader 1
flag 55073 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 36096 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 89} {5804023775009772270 14 90} {9043719036775215041 14 91} {1469174586057544797 14 92} {4045698629822324291 14 93} {3357960760322031938 14 94} {1310005532817940437 14 95} {5134969986223334208 14 96} {2597302195228249747 14 97} {326543693154035199 14 98} {4187635510840425202 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 65189 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 81593 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 75841 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 74219 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
flag 8247 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 18150 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
flag 74812 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 35541 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
flag 74965 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 32729 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {4187635510840425202 16 100}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 26414047598851491 (index 101) to leader 1
flag 63344 term 16 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 65149 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {4187635510840425202 16 100} {26414047598851491 16 101}]
------------------------------------------------------
flag 86199 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 9070 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {4187635510840425202 16 100} {26414047598851491 16 101}]
------------------------------------------------------
client write log 6002533724482771864 (index 102) to leader 1
client write log 6691411126951188915 (index 103) to leader 1
client write log 4554028531932198737 (index 104) to leader 1
client write log 8235610181121622954 (index 105) to leader 1
client write log 1280449782546438414 (index 106) to leader 1
client write log 7715622671890838496 (index 107) to leader 1
client write log 3708353978243981280 (index 108) to leader 1
client write log 1645842491860210767 (index 109) to leader 1
client write log 7696672072156645531 (index 110) to leader 1
client write log 3790590574873164681 (index 111) to leader 1
client write log 3263913422037276398 (index 112) to leader 1
client write log 2784186883715113942 (index 113) to leader 1
client write log 4355898825817844252 (index 114) to leader 1
client write log 3903305600641232412 (index 115) to leader 1
client write log 5002488247845086806 (index 116) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78492 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 88382 term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 99} {4187635510840425202 16 100} {26414047598851491 16 101} {6002533724482771864 16 102} {6691411126951188915 16 103} {4554028531932198737 16 104} {8235610181121622954 16 105} {1280449782546438414 16 106} {7715622671890838496 16 107} {3708353978243981280 16 108} {1645842491860210767 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116}]
------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37015 term 16 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4603447339902565379 (index 117) to leader 1
flag 45969 term 16 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 14464 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 37670 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 118->117
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36070 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
flag 22029 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 30938 term 18 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
flag 22305 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 57074 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55341 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 31620 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14584 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 37047 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85175 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 8215 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58061 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 25631 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87735 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 314 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27404 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 85976 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97547 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 23449 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
flag 64151 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 28466 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76835 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 37580 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
flag 27678 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 45003 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65537 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 87174 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
flag 37038 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 75273 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
flag 87666 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 62535 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22394 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 46760 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
flag 32171 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 40313 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117}]
------------------------------------------------------
client write log 4603447339902565379 (index 118) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73995 term 18 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 81173 term 18 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
term 18 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
flag 97042 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 58180 term 18 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
flag 59236 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 61508 term 18 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
flag 17621 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 54204 term 18 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
flag 45682 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 84834 term 18 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
flag 20234 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 80298 term 18 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 15001 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 69532 term 18 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 13088 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 28080 term 18 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 119->118
------------------------------------------------------
flag 95700 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 12145 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 119->118
------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
client write log 1281982902455959680 (index 119) to leader 0
flag 69763 term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 56552 term 19 leader 0 nextIndex[2]: 119  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 109} {7696672072156645531 16 110} {3790590574873164681 16 111} {3263913422037276398 16 112} {2784186883715113942 16 113} {4355898825817844252 16 114} {3903305600641232412 16 115} {5002488247845086806 16 116} {4603447339902565379 16 117} {4603447339902565379 18 118} {1281982902455959680 19 119}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 118
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 77180 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
client write log 243328525789517897 (index 120) to leader 0
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 118
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 33778 term 19 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 118
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 61907 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 1851206183324212677 (index 119) to leader 1
flag 66031 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 59279 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 2 vote for server 0
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 1
flag 63591 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 68065 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
flag 71632 term 21 leader 0 nextIndex[1]: 120  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 64210 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 67652 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 85048 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 41786 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 11572 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68357 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 76852 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 44378 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 12666 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 85522 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 9200 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 14552 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 17710 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76275 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 29190 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 25876 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 74603 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 22568 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 14550 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29892 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 89479 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50438 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 63056 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 64062 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 66641 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 1052 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 95147 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 92478 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 51212 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
flag 58790 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 1475 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79142 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 32788 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {243328525789517897 19 120}]
------------------------------------------------------
client write log 1851206183324212677 (index 121) to leader 0
flag 93693 term 21 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 38103 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
flag 46041 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 4656 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
flag 53137 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 60561 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
flag 35400 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 78278 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64258 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 30588 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
flag 35733 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 58164 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7498708423957322051 (index 122) to leader 0
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6437 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 25734 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122}]
------------------------------------------------------
flag 4693 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 85994 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122}]
------------------------------------------------------
client write log 6198383595683714504 (index 123) to leader 0
client write log 8660730696068773676 (index 124) to leader 0
client write log 4602838311295457465 (index 125) to leader 0
client write log 1778298633682734108 (index 126) to leader 0
client write log 5271709537488686645 (index 127) to leader 0
client write log 7662752758530218557 (index 128) to leader 0
flag 19294 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 97158 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128}]
------------------------------------------------------
flag 40866 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 44417 term 21 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7779151540602373438 (index 129) to leader 0
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get outdate rpc reply from server 1
flag 96653 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 133 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 130->129
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 130->129
------------------------------------------------------
flag 42011 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 80215 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 53486 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 3553 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 18531 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 92694 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 79508 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 37211 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 8578 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 97500 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 17456 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 32146 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30821 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 13016 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 96108 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 84517 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 61518 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 28206 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 38780 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 82563 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 62185 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 59212 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49763 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 44678 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 96824 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 77506 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61046 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 42901 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 12229 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 52467 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 78935 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 40761 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 72907 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 8796 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
flag 16546 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 25453 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129}]
------------------------------------------------------
term 23 server 1 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 1
client write log 7779151540602373438 (index 130) to leader 0
flag 31711 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 44303 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 119} {243328525789517897 19 120} {1851206183324212677 21 121} {7498708423957322051 21 122} {6198383595683714504 21 123} {8660730696068773676 21 124} {4602838311295457465 21 125} {1778298633682734108 21 126} {5271709537488686645 21 127} {7662752758530218557 21 128} {7779151540602373438 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51993 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 54934 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 77493 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 3695 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
flag 72014 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 8100 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36283 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 16744 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
flag 90171 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 87457 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
flag 26907 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 86830 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {7779151540602373438 23 130}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2357406168874086689 (index 131) to leader 0
flag 79110 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 50695 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {7779151540602373438 23 130} {2357406168874086689 23 131}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72469 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 25874 term 23 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {7779151540602373438 23 130} {2357406168874086689 23 131}]
------------------------------------------------------
client write log 2724523061189840764 (index 132) to leader 0
client write log 4732049894675691497 (index 133) to leader 0
client write log 3582222886134489649 (index 134) to leader 0
client write log 1147535586052414206 (index 135) to leader 0
client write log 8876022706321026195 (index 136) to leader 0
client write log 1140484454927584572 (index 137) to leader 0
client write log 6014791813406374571 (index 138) to leader 0
client write log 8712238775727481948 (index 139) to leader 0
client write log 146838145238397784 (index 140) to leader 0
client write log 4421517213116008687 (index 141) to leader 0
client write log 567398409045274729 (index 142) to leader 0
client write log 4898838725837195316 (index 143) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83910 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 33744 term 23 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 129} {7779151540602373438 23 130} {2357406168874086689 23 131} {2724523061189840764 23 132} {4732049894675691497 23 133} {3582222886134489649 23 134} {1147535586052414206 23 135} {8876022706321026195 23 136} {1140484454927584572 23 137} {6014791813406374571 23 138} {8712238775727481948 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=143
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 40804 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=143
-------------------------------------------------------------
!!!!!!connect server 1
client write log 15149555708086631 (index 144) to leader 0
term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 67399 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get outdate rpc reply from server 1
flag 80283 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 94047 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 145->144
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 46773 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31182 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 92305 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5794 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 63700 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 60139 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 36565 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 51177 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 22948 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
term 25 server 1 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 1
term 25 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6628 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 80543 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 98436 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 14900 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 81032 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 10734 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 96397 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 61737 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 18343 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 78690 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 20473 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 23392 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 31974 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 831 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 83728 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 44139 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 92254 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 75077 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 94678 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 72400 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 9727 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 91158 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
flag 38229 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 20346 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144}]
------------------------------------------------------
client write log 15149555708086631 (index 145) to leader 0
flag 31828 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 38920 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
flag 57050 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 79190 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
flag 2463 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 66427 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
flag 10497 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 76111 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
flag 28445 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 90612 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
flag 22274 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 21822 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
flag 37795 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 41346 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 39039 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 67950 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 85471 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 72838 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 45636 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 67512 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 26249 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 39415 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 146->145
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
flag 6320 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 22407 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145}]
------------------------------------------------------
flag 69858 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
client write log 7828513862064065312 (index 146) to leader 1
flag 42710 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 73023 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145} {7828513862064065312 26 146}]
------------------------------------------------------
flag 18283 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 33175 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 32108 term 26 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 26 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145} {7828513862064065312 26 146}]
------------------------------------------------------
client write log 128216089323462883 (index 147) to leader 1
client write log 1033010519744318143 (index 148) to leader 1
client write log 8681032709888619009 (index 149) to leader 1
client write log 4795195827011959654 (index 150) to leader 1
client write log 4954914962083782027 (index 151) to leader 1
client write log 4220974809004241765 (index 152) to leader 1
client write log 6875315437151865473 (index 153) to leader 1
client write log 5035902793098560588 (index 154) to leader 1
client write log 2786675331628145214 (index 155) to leader 1
client write log 7203311751786614958 (index 156) to leader 1
client write log 6699024898576820622 (index 157) to leader 1
client write log 3992524813095605717 (index 158) to leader 1
flag 99015 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 34850 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 50917 term 26 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 26 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 23 139} {146838145238397784 23 140} {4421517213116008687 23 141} {567398409045274729 23 142} {4898838725837195316 23 143} {15149555708086631 23 144} {15149555708086631 25 145} {7828513862064065312 26 146} {128216089323462883 26 147} {1033010519744318143 26 148} {8681032709888619009 26 149} {4795195827011959654 26 150} {4954914962083782027 26 151} {4220974809004241765 26 152} {6875315437151865473 26 153} {5035902793098560588 26 154} {2786675331628145214 26 155} {7203311751786614958 26 156} {6699024898576820622 26 157} {3992524813095605717 26 158}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=158
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 146->145
------------------------------------------------------
flag 49265 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 37831 term 26 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 26 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4795195827011959654 26 150} {4954914962083782027 26 151} {4220974809004241765 26 152} {6875315437151865473 26 153} {5035902793098560588 26 154} {2786675331628145214 26 155} {7203311751786614958 26 156} {6699024898576820622 26 157} {3992524813095605717 26 158}]
------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=158
-------------------------------------------------------------
!!!!!!connect server 0
client write log 560616449840796661 (index 159) to leader 1
flag 12387 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 26 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 10429 term 26 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 26 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 149} {4795195827011959654 26 150} {4954914962083782027 26 151} {4220974809004241765 26 152} {6875315437151865473 26 153} {5035902793098560588 26 154} {2786675331628145214 26 155} {7203311751786614958 26 156} {6699024898576820622 26 157} {3992524813095605717 26 158} {560616449840796661 26 159}]
------------------------------------------------------
term 26 Server1 start snapshot! index=159
term 26 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 26 server 2 not vote for server 0, 日志不够新
term 26 server 1 not vote for server 0, 日志不够新
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 0
term 28 server 1 become leader
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 1 get outdate rpc reply from server 2
flag 7821 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 43812 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 2932 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
flag 68024 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 22963 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91971 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 95638 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95323 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 57032 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
flag 66442 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 82215 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
flag 11168 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 64161 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8024456703232519201 (index 160) to leader 1
flag 21010 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 29993 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8024456703232519201 28 160}]
------------------------------------------------------
flag 52544 term 28 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 74182 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {8024456703232519201 28 160}]
------------------------------------------------------
client write log 1360857160804603361 (index 161) to leader 1
client write log 2238081587815922280 (index 162) to leader 1
client write log 3210270235179911143 (index 163) to leader 1
client write log 3873231750525871092 (index 164) to leader 1
client write log 5832841851504324742 (index 165) to leader 1
client write log 289878066153655651 (index 166) to leader 1
client write log 7833314089494508441 (index 167) to leader 1
client write log 7964547501355677989 (index 168) to leader 1
client write log 7846167755757179778 (index 169) to leader 1
client write log 194109056412665481 (index 170) to leader 1
client write log 3203422760007660396 (index 171) to leader 1
client write log 4370909413676767368 (index 172) to leader 1
flag 48220 term 28 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 30267 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 26 159} {8024456703232519201 28 160} {1360857160804603361 28 161} {2238081587815922280 28 162} {3210270235179911143 28 163} {3873231750525871092 28 164} {5832841851504324742 28 165} {289878066153655651 28 166} {7833314089494508441 28 167} {7964547501355677989 28 168} {7846167755757179778 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 0 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 0
flag 69540 term 28 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3569503438165992864 (index 173) to leader 1
flag 11395 term 28 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
term 30 server 0 vote for server 1
term 30 server 1 get outdate rpc reply from server 0
flag 16233 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 66974 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 174->173
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62913 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
flag 52510 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 42509 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10985 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 1124 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
flag 86212 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 84756 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
flag 57539 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 58217 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47085 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 35480 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4620 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 45836 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 1
flag 88789 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 23200 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
flag 53827 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 67311 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71016 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 30255 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
flag 11480 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 35236 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37147 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 49585 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 0
flag 73227 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 80997 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
flag 46877 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 24501 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27280 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 83541 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
flag 47526 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 84664 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
flag 47588 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 18394 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173}]
------------------------------------------------------
client write log 3569503438165992864 (index 174) to leader 1
flag 33384 term 30 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 91599 term 30 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 30 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
flag 6819 term 30 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 87247 term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
flag 83553 term 30 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 79461 term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22123 term 30 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 59465 term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
flag 59806 term 30 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 85591 term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
flag 49797 term 30 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 60221 term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174}]
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 1608114754697916411 (index 175) to leader 1
flag 9506 term 30 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 28583 term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174} {1608114754697916411 30 175}]
------------------------------------------------------
flag 51521 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 29770 term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174} {1608114754697916411 30 175}]
------------------------------------------------------
client write log 3895580475749113471 (index 176) to leader 1
client write log 6364376848343339920 (index 177) to leader 1
client write log 8056859522944722878 (index 178) to leader 1
client write log 6230082782487023560 (index 179) to leader 1
client write log 6273704481506156386 (index 180) to leader 1
client write log 5636360438560047317 (index 181) to leader 1
client write log 2362892382877523666 (index 182) to leader 1
client write log 8629836896440871979 (index 183) to leader 1
client write log 4719292809646393011 (index 184) to leader 1
client write log 8989061295660423857 (index 185) to leader 1
client write log 7059515661576975524 (index 186) to leader 1
flag 34784 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 50451 term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 28 169} {194109056412665481 28 170} {3203422760007660396 28 171} {4370909413676767368 28 172} {3569503438165992864 28 173} {3569503438165992864 30 174} {1608114754697916411 30 175} {3895580475749113471 30 176} {6364376848343339920 30 177} {8056859522944722878 30 178} {6230082782487023560 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186}]
------------------------------------------------------
term 30 Server1 start snapshot! index=179
term 30 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=186
-------------------------------------------------------------
flag 95340 term 30 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 30 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 186 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=186
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5499549045968229788 (index 187) to leader 1
flag 96855 term 30 leader 1 nextIndex[0]: 187  matchIndex[0]: 186
term 30 leader 1 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 30 leaderCommit: 186 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
term 31 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 0 vote for server 1
term 32 server 1 get vote from server 0
term 32 server 1 become leader
------------------------------------------------------
term 32 server 1 get outdate rpc reply from server 2
flag 33974 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 14115 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 188->187
------------------------------------------------------
flag 64915 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 175  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 30 rf.commitIndex 179 rf.lastApplied 179
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
flag 67478 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 6890 term 32 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84862 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 47676 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
flag 47736 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 21282 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
term 32 server 0 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 0
flag 63475 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 34040 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36330 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 7372 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
flag 46517 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 78689 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31398 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 31813 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 57348 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 22532 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 23340 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 97717 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 62545 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 31442 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 59661 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 53608 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 33 server 0 not vote for server 2, 投给了其他人
term 33 server 2 not vote for server 0, 投给了其他人
flag 40589 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 57854 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 63211 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 64336 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 20055 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 66940 term 32 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 188->187
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4168 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 0  matchIndex[2]: 187
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
flag 95040 term 34 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 9572 term 34 leader 0 nextIndex[2]: 188  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187}]
------------------------------------------------------
client write log 3267240776921574273 (index 188) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3761 term 32 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 32 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 0  matchIndex[2]: 187
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 31314 term 34 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
flag 31379 term 34 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187} {3267240776921574273 34 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 188->187
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 0  matchIndex[2]: 187
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 52741 term 34 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 96329 term 34 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187} {3267240776921574273 34 188}]
------------------------------------------------------
client write log 2778625305798395065 (index 189) to leader 0
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 0  matchIndex[2]: 187
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 89416 term 34 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 98449 term 34 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 34 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 34 leaderCommit: 188 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 179} {6273704481506156386 30 180} {5636360438560047317 30 181} {2362892382877523666 30 182} {8629836896440871979 30 183} {4719292809646393011 30 184} {8989061295660423857 30 185} {7059515661576975524 30 186} {5499549045968229788 30 187} {3267240776921574273 34 188} {2778625305798395065 34 189}]
------------------------------------------------------
term 34 Server0 start snapshot! index=189
term 34 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 12389 term 32 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
flag 61590 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 Server2 start snapshot! index=189
term 34 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1400286548975809866 (index 188) to leader 1
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 187
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 147 term 32 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 34 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
flag 56921 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 34 rf.commitIndex 189 rf.lastApplied 189
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
flag 4541 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 93002 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 39219 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 13286 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94668 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 80314 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 71752 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 86053 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 14099 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 53340 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 10310 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 60201 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 56647 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 57879 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77152 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 97945 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 20016 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 98092 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60377 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 64525 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
[{snapshot 34 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 37223 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 59314 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98979 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 28339 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 60628 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 46592 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 71290 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 34054 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 83856 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 61315 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38597 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 14975 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 24100 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 53144 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7251 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 70385 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
flag 85868 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 80982 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 34 189}]
------------------------------------------------------
client write log 1400286548975809866 (index 190) to leader 0
flag 71168 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
flag 12125 term 34 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 189 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 191->190
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 190
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
flag 51409 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 189 args.LastIncludedIndex 189
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
flag 28305 term 34 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 73344 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 1
flag 27326 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 96767 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
flag 9808 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 446 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
flag 99607 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 42860 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
flag 46549 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 15096 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 34 189} {1400286548975809866 34 190}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5917662346411461412 (index 191) to leader 0
flag 91289 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
flag 79235 term 34 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 34 189} {1400286548975809866 34 190} {5917662346411461412 34 191}]
------------------------------------------------------
flag 39247 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 96290 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 34 189} {1400286548975809866 34 190} {5917662346411461412 34 191}]
------------------------------------------------------
client write log 344913722601429620 (index 192) to leader 0
client write log 6724406108197943045 (index 193) to leader 0
client write log 428968784452825184 (index 194) to leader 0
client write log 1404643165211125007 (index 195) to leader 0
client write log 7517145701695145967 (index 196) to leader 0
client write log 183788945729699559 (index 197) to leader 0
client write log 6969450579945876564 (index 198) to leader 0
client write log 8530586280705135500 (index 199) to leader 0
client write log 1011143617570084695 (index 200) to leader 0
flag 31993 term 34 leader 0 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 7091 term 34 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 34 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 189} {1400286548975809866 34 190} {5917662346411461412 34 191} {344913722601429620 34 192} {6724406108197943045 34 193} {428968784452825184 34 194} {1404643165211125007 34 195} {7517145701695145967 34 196} {183788945729699559 34 197} {6969450579945876564 34 198} {8530586280705135500 34 199} {1011143617570084695 34 200}]
------------------------------------------------------
term 34 Server0 start snapshot! index=199
term 34 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=200
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 191->190
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 190
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 1928 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200}]
------------------------------------------------------
term 34 Server2 start snapshot! index=199
term 34 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=200
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5484593600863942834 (index 201) to leader 0
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 190
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 45419 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
flag 22752 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 74085 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 36 server 1 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 1
term 36 leader 0 nextIndex[1]: 191  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 77491 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 34 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61595 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 48553 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
flag 82139 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 84463 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62944 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 27486 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
flag 16756 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 57512 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13301 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 45698 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
flag 41498 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 33359 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
flag 77154 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 75700 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 88902 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 71158 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83703 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 40759 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
flag 70376 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 67363 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
flag 76461 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 40168 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89970 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 96046 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
flag 9064 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 35783 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62761 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 19481 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 14221 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 74887 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29719 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 99881 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5484593600863942834 (index 202) to leader 0
flag 96995 term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 79732 term 36 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 36 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96029 term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 50961 term 36 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
flag 8706 term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 4260 term 36 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25911 term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 11786 term 36 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33298 term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 98236 term 36 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40677 term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 93437 term 36 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3236456983147003359 (index 203) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16337 term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
flag 79376 term 36 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 202 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202} {3236456983147003359 36 203}]
------------------------------------------------------
flag 14788 term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 203 
------------------------------------------------------
flag 17326 term 36 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 36 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 36 leaderCommit: 203 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202} {3236456983147003359 36 203}]
------------------------------------------------------
client write log 132516405610684112 (index 204) to leader 0
client write log 8068203925517819106 (index 205) to leader 0
client write log 6101073924284619884 (index 206) to leader 0
client write log 3669775213808505986 (index 207) to leader 0
client write log 8709198247527360287 (index 208) to leader 0
client write log 5901275394363049850 (index 209) to leader 0
flag 68139 term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 36 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 36 leaderCommit: 203 
------------------------------------------------------
flag 699 term 36 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 36 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 36 leaderCommit: 203 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 199} {1011143617570084695 34 200} {5484593600863942834 34 201} {5484593600863942834 36 202} {3236456983147003359 36 203} {132516405610684112 36 204} {8068203925517819106 36 205} {6101073924284619884 36 206} {3669775213808505986 36 207} {8709198247527360287 36 208} {5901275394363049850 36 209}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 Server0 start snapshot! index=209
term 36 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 16732 term 36 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 36 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
term 36 Server2 start snapshot! index=209
term 36 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2830465326177849786 (index 210) to leader 0
term 36 server 2 not vote for server 1, 日志不够新
term 36 server 0 not vote for server 1, 日志不够新
term 38 server 2 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 1 vote for server 0
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79986 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 9648 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 211->210
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 211->210
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 203  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 4871 term 38 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39910 term 38 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 38 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 59953 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 19909 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 11824 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 90136 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 9878 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 26603 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 66224 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 16646 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 14742 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 37151 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 4978 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 46241 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 84375 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 18044 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 77164 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 45176 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 20909 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 28340 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 93731 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 55701 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 37909 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 3666 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 57882 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 26500 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 92500 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 16399 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 67603 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 93876 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 86598 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 33965 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 40603 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 87883 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 38368 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
flag 76014 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 60217 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 36 209} {2830465326177849786 36 210}]
------------------------------------------------------
client write log 2830465326177849786 (index 211) to leader 0
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
flag 78586 term 38 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
flag 68389 term 38 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 38 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
flag 42865 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 68217 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 81666 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 57225 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
flag 37661 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 65690 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:211 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
------------------------------------------------------
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
flag 91111 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 58954 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
flag 31454 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 82462 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
flag 66561 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 46690 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 15531 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 49391 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23183 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 34497 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38507 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 70923 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 21141 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 85833 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
client write log 7306944777042602371 (index 212) to leader 2
flag 83524 term 39 leader 2 nextIndex[0]: 212  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 21994 term 39 leader 2 nextIndex[1]: 212  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212}]
------------------------------------------------------
flag 65557 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 54239 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 17892 term 39 leader 2 nextIndex[0]: 212  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 42345 term 39 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 39 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 39 leaderCommit: 212 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212}]
------------------------------------------------------
client write log 1718737440699044039 (index 213) to leader 2
flag 4772 term 38 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
flag 17278 term 38 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 38 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 212->211
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 212->211
------------------------------------------------------
flag 57655 term 39 leader 2 nextIndex[0]: 212  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 212 
------------------------------------------------------
flag 24754 term 39 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 39 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 39 leaderCommit: 212 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213}]
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 211
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 211
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 53244 term 39 leader 2 nextIndex[0]: 212  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 65242 term 39 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 39 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6509945658886970229 (index 214) to leader 2
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 211
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 211
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14137 term 39 leader 2 nextIndex[0]: 212  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 38 leaderCommit: 213 
------------------------------------------------------
flag 56216 term 39 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 39 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
flag 59870 term 39 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 92151 term 39 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
flag 85559 term 39 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 73604 term 39 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63643 term 39 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 57932 term 39 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
flag 81154 term 39 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 58915 term 39 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34022 term 39 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 98166 term 39 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6484157406347126586 (index 215) to leader 2
flag 7107 term 39 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
flag 44335 term 39 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 214 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214} {6484157406347126586 39 215}]
------------------------------------------------------
flag 47633 term 39 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 61924 term 39 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 39 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214} {6484157406347126586 39 215}]
------------------------------------------------------
client write log 3060935578096375529 (index 216) to leader 2
client write log 1863855981695506315 (index 217) to leader 2
client write log 9184561973391950280 (index 218) to leader 2
client write log 7918872950961268218 (index 219) to leader 2
client write log 2138763116638725647 (index 220) to leader 2
client write log 6099778972062009866 (index 221) to leader 2
client write log 838097922525684175 (index 222) to leader 2
client write log 4016880776125623176 (index 223) to leader 2
client write log 4134186733849082218 (index 224) to leader 2
client write log 7269411209196603871 (index 225) to leader 2
client write log 3822961995236100291 (index 226) to leader 2
flag 57373 term 39 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
flag 66560 term 39 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 39 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 39 leaderCommit: 215 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 209} {2830465326177849786 36 210} {2830465326177849786 38 211} {7306944777042602371 39 212} {1718737440699044039 39 213} {6509945658886970229 39 214} {6484157406347126586 39 215} {3060935578096375529 39 216} {1863855981695506315 39 217} {9184561973391950280 39 218} {7918872950961268218 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226}]
------------------------------------------------------
term 39 Server2 start snapshot! index=219
term 39 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=226
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
flag 71993 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226}]
------------------------------------------------------
term 39 Server1 start snapshot! index=219
term 39 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=226
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8252764462772550985 (index 227) to leader 2
term 39 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
term 41 server 1 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 0 vote for server 2
term 41 server 2 get outdate rpc reply from server 0
flag 17560 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 39657 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 228->227
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 228->227
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 215  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
flag 85382 term 41 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 39 rf.commitIndex 219 rf.lastApplied 219
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1169 term 41 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 41 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 79265 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 49672 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 83098 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8497 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 62239 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 52020 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 18008 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 46757 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 43069 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65905 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 46615 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 21852 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 30941 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 57789 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 50447 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 55617 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 12887 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 55780 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 5486 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 27780 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 27288 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 74831 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 47861 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1583 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 33090 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 71985 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 86011 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66334 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 75203 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 7228 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 46239 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
flag 34843 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 60002 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227}]
------------------------------------------------------
client write log 8252764462772550985 (index 228) to leader 2
flag 47514 term 41 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
flag 34691 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73707 term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 40138 term 41 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
flag 18307 term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 26711 term 41 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
flag 60355 term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 97433 term 41 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22823 term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 83504 term 41 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
flag 70630 term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 83113 term 41 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
flag 48530 term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 79681 term 41 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1896966907756367596 (index 229) to leader 2
flag 25657 term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 8519 term 41 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 41 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 219} {2138763116638725647 39 220} {6099778972062009866 39 221} {838097922525684175 39 222} {4016880776125623176 39 223} {4134186733849082218 39 224} {7269411209196603871 39 225} {3822961995236100291 39 226} {8252764462772550985 39 227} {8252764462772550985 41 228} {1896966907756367596 41 229}]
------------------------------------------------------
term 41 Server2 start snapshot! index=229
term 41 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
flag 48189 term 41 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 41 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 229 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 41 229}]
------------------------------------------------------
term 41 Server1 start snapshot! index=229
term 41 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
client write log 4069297270599855809 (index 230) to leader 2
client write log 7342982475817395573 (index 231) to leader 2
client write log 9154177635396301247 (index 232) to leader 2
client write log 6632555211415070738 (index 233) to leader 2
client write log 3016180564883846262 (index 234) to leader 2
client write log 8923680812264261167 (index 235) to leader 2
client write log 346431537382841282 (index 236) to leader 2
client write log 4006540416468183025 (index 237) to leader 2
client write log 277522700978064928 (index 238) to leader 2
client write log 2615926078078689489 (index 239) to leader 2
client write log 8631473885142324129 (index 240) to leader 2
client write log 6948674648292953305 (index 241) to leader 2
client write log 8911468975318405003 (index 242) to leader 2
term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
flag 44082 term 41 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 41 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 229 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 229} {4069297270599855809 41 230} {7342982475817395573 41 231} {9154177635396301247 41 232} {6632555211415070738 41 233} {3016180564883846262 41 234} {8923680812264261167 41 235} {346431537382841282 41 236} {4006540416468183025 41 237} {277522700978064928 41 238} {2615926078078689489 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242}]
------------------------------------------------------
term 41 Server2 start snapshot! index=239
term 41 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=242
-------------------------------------------------------------
term 41 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
flag 39969 term 41 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242}]
------------------------------------------------------
term 41 Server1 start snapshot! index=239
term 41 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=242
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4747354034028915692 (index 243) to leader 2
term 41 server 2 not vote for server 0, 日志不够新
term 41 server 1 not vote for server 0, 日志不够新
term 43 server 1 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 0 vote for server 2
term 43 server 2 become leader
------------------------------------------------------
term 43 server 2 get outdate rpc reply from server 0
flag 64324 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 42244 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 244->243
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 244->243
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 229  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
flag 64110 term 43 leader 2 nextIndex[1]: 243  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 41 rf.commitIndex 239 rf.lastApplied 239
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 88479 term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 80337 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 56889 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 18644 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 86459 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 58580 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36419 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 48807 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 61365 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 18009 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37666 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 86441 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 39864 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 3090 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 81799 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 86368 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 60905 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 94016 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20746 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 24955 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76890 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 41825 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49647 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 3400 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 22098 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 16029 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 72887 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 24922 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 19402 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 78116 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
flag 66948 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 84982 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64981 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 51635 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243}]
------------------------------------------------------
client write log 4747354034028915692 (index 244) to leader 2
flag 71808 term 43 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 45942 term 43 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 43 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80842 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 19117 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5284 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 54930 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25213 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 60264 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
flag 27207 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 18884 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
flag 45309 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 35994 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
term 43 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 16183 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 94482 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 14198 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 31972 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 74289 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 42535 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 35048 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 13837 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 245->244
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get vote from server 1
term 44 server 0 become leader
------------------------------------------------------
flag 37678 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 244
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
flag 72974 term 44 leader 0 nextIndex[1]: 245  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 42495 term 44 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244}]
------------------------------------------------------
client write log 1659685834772156408 (index 245) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 17327 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 244
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
flag 29571 term 44 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 90404 term 44 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244} {1659685834772156408 44 245}]
------------------------------------------------------
flag 95865 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 244
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
flag 30511 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 51722 term 44 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244} {1659685834772156408 44 245}]
------------------------------------------------------
client write log 9001524979327450002 (index 246) to leader 0
client write log 5466696528424578276 (index 247) to leader 0
client write log 899114106066404945 (index 248) to leader 0
client write log 6755063349694818780 (index 249) to leader 0
client write log 9057401320153844072 (index 250) to leader 0
client write log 1571560842143277627 (index 251) to leader 0
client write log 632789601817990179 (index 252) to leader 0
flag 53061 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 244
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
flag 54292 term 44 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 89739 term 44 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 239} {8631473885142324129 41 240} {6948674648292953305 41 241} {8911468975318405003 41 242} {4747354034028915692 41 243} {4747354034028915692 43 244} {1659685834772156408 44 245} {9001524979327450002 44 246} {5466696528424578276 44 247} {899114106066404945 44 248} {6755063349694818780 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 44 Server0 start snapshot! index=249
term 44 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=252
-------------------------------------------------------------
flag 31286 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 244
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
flag 83828 term 44 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 44 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 44 Server1 start snapshot! index=249
term 44 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=252
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2258519869027841793 (index 245) to leader 2
flag 30330 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 244
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 0 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89345 term 44 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 44 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 44 rf.commitIndex 249 rf.lastApplied 249
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 44 server 1 not vote for server 2, 日志不够新
term 44 server 0 not vote for server 2, 日志不够新
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get outdate rpc reply from server 1
flag 47760 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 62845 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 253->252
------------------------------------------------------
flag 64681 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 48670 term 46 leader 0 nextIndex[2]: 250  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 34894 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 24967 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42002 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 18527 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4551 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 64095 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 14931 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 12823 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 68014 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 36972 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 72018 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 83910 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29561 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 88503 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87696 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 9653 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 34436 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 75368 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86522 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 86500 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 61245 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 40407 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 6019 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 8705 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 49628 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 39792 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 15714 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 55122 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 47472 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 81615 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
flag 66037 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 30089 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252}]
------------------------------------------------------
client write log 2258519869027841793 (index 253) to leader 0
flag 41660 term 46 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
flag 57004 term 46 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 46 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 44 leaderCommit: 252 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
flag 61477 term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 18755 term 46 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
flag 975 term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 34788 term 46 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
term 46 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
flag 57656 term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 65956 term 46 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
flag 73618 term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 32164 term 46 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 0 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 0
flag 33329 term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 16952 term 46 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
flag 67495 term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 74375 term 46 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5349130931576485644 (index 254) to leader 0
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42110 term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 26917 term 46 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253} {5349130931576485644 46 254}]
------------------------------------------------------
flag 35135 term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
flag 82155 term 46 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 46 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253} {5349130931576485644 46 254}]
------------------------------------------------------
client write log 8022370916342725693 (index 255) to leader 0
client write log 1398517236483870761 (index 256) to leader 0
client write log 749699231178026840 (index 257) to leader 0
client write log 2701403040221040765 (index 258) to leader 0
client write log 1370299104236036172 (index 259) to leader 0
client write log 6924941190848296812 (index 260) to leader 0
client write log 8176498329126883987 (index 261) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85402 term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
flag 13086 term 46 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 46 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 249} {9057401320153844072 44 250} {1571560842143277627 44 251} {632789601817990179 44 252} {2258519869027841793 46 253} {5349130931576485644 46 254} {8022370916342725693 46 255} {1398517236483870761 46 256} {749699231178026840 46 257} {2701403040221040765 46 258} {1370299104236036172 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261}]
------------------------------------------------------
term 46 Server0 start snapshot! index=259
term 46 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=261
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 23121 term 46 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 46 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261}]
------------------------------------------------------
term 46 Server2 start snapshot! index=259
term 46 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=261
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2433167873198869881 (index 262) to leader 0
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 1 vote for server 0
term 48 server 0 get outdate rpc reply from server 1
flag 43666 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 84460 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 263->262
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 263->262
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 10555 term 48 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 46 rf.commitIndex 259 rf.lastApplied 259
flag 23793 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 59307 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 40265 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 40351 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 2 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40287 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 34091 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72059 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 31356 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 84129 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 97063 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 11249 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 69028 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14686 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 46465 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 34647 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 85092 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10006 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 25903 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55436 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 47444 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 60210 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 34851 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 91376 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 12726 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 88954 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 85644 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 70352 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 102 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66946 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 27022 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 22179 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 12177 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4125 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 95840 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
flag 60039 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 8110 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262}]
------------------------------------------------------
client write log 2433167873198869881 (index 263) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66217 term 48 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
flag 5180 term 48 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 48 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74735 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 34981 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
flag 6294 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 77564 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16234 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 43425 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43694 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 17239 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9841 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 50327 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
flag 15406 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 42710 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7757013229585895535 (index 264) to leader 0
flag 27100 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
flag 76846 term 48 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 263 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263} {7757013229585895535 48 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96289 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 7347 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263} {7757013229585895535 48 264}]
------------------------------------------------------
client write log 690176551206499842 (index 265) to leader 0
client write log 707469470074765273 (index 266) to leader 0
client write log 704567198637968001 (index 267) to leader 0
client write log 2116689403934999302 (index 268) to leader 0
client write log 4603152561662003846 (index 269) to leader 0
client write log 8490490228069622022 (index 270) to leader 0
client write log 8006344187931600203 (index 271) to leader 0
client write log 5511935676380364935 (index 272) to leader 0
client write log 6498514795350993404 (index 273) to leader 0
client write log 4001149249884587805 (index 274) to leader 0
flag 64473 term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
flag 24422 term 48 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 48 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 48 leaderCommit: 264 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 259} {6924941190848296812 46 260} {8176498329126883987 46 261} {2433167873198869881 46 262} {2433167873198869881 48 263} {7757013229585895535 48 264} {690176551206499842 48 265} {707469470074765273 48 266} {704567198637968001 48 267} {2116689403934999302 48 268} {4603152561662003846 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274}]
------------------------------------------------------
term 48 Server0 start snapshot! index=269
term 48 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 1626 term 48 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 48 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274}]
------------------------------------------------------
term 48 Server2 start snapshot! index=269
term 48 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1312611757002030391 (index 275) to leader 0
term 48 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 13461 term 48 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 48 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 2 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get outdate rpc reply from server 1
flag 9684 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 85754 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 264  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 60634 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 48 rf.commitIndex 269 rf.lastApplied 269
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 59708 term 50 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 50 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 33926 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
flag 32333 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 42089 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6199 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 71112 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
flag 89512 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 4412 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
flag 56758 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 16771 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
term 50 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
flag 40713 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 11676 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 33161 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 89673 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 64539 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 59325 term 50 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 276->275
------------------------------------------------------
flag 72007 term 50 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 50 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
flag 45663 term 51 leader 2 nextIndex[0]: 276  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 58687 term 51 leader 2 nextIndex[1]: 276  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275}]
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
client write log 2790262855131993614 (index 276) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29706 term 51 leader 2 nextIndex[0]: 276  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
flag 90963 term 51 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 51 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276}]
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 50571 term 51 leader 2 nextIndex[0]: 276  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 64002 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 51 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276}]
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
client write log 7243478199608716624 (index 277) to leader 2
flag 72155 term 51 leader 2 nextIndex[0]: 276  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
flag 2559 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 51 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277}]
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 51967 term 51 leader 2 nextIndex[0]: 276  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 87646 term 51 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 51 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 51 leaderCommit: 277 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277}]
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 275
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
!!!!!!connect server 0
client write log 5976932061717756662 (index 278) to leader 2
flag 56910 term 51 leader 2 nextIndex[0]: 276  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 48 leaderCommit: 277 
------------------------------------------------------
flag 63191 term 51 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 51 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 51 leaderCommit: 277 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
flag 2339 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
flag 34377 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
flag 76801 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
flag 99084 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
flag 75273 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
flag 77121 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
flag 85573 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
flag 96847 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
flag 29763 term 51 leader 2 nextIndex[0]: 279  matchIndex[0]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
flag 45055 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:278 
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 279->278
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 278
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
flag 24578 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
term 51 server 0 InstallSnapshot fail
rf.commitIndex 278 args.LastIncludedIndex 269
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7479246394636396782 (index 279) to leader 2
flag 31274 term 51 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 278 
------------------------------------------------------
flag 10103 term 51 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 51 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 51 leaderCommit: 278 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 48 269} {8490490228069622022 48 270} {8006344187931600203 48 271} {5511935676380364935 48 272} {6498514795350993404 48 273} {4001149249884587805 48 274} {1312611757002030391 48 275} {2790262855131993614 51 276} {7243478199608716624 51 277} {5976932061717756662 51 278} {7479246394636396782 51 279}]
------------------------------------------------------
term 51 Server2 start snapshot! index=279
term 51 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
flag 19837 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 51 279}]
------------------------------------------------------
term 51 Server1 start snapshot! index=279
term 51 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 253084586542248766 (index 280) to leader 2
client write log 6278450591277915588 (index 281) to leader 2
client write log 405129104015299624 (index 282) to leader 2
client write log 8414529025172283371 (index 283) to leader 2
client write log 9114507531772698447 (index 284) to leader 2
client write log 2831688798030356188 (index 285) to leader 2
client write log 363016867439562473 (index 286) to leader 2
client write log 614989213599249442 (index 287) to leader 2
client write log 5878310580909623217 (index 288) to leader 2
client write log 3417406830205173763 (index 289) to leader 2
client write log 8452844746962113603 (index 290) to leader 2
client write log 7696140594404435985 (index 291) to leader 2
client write log 93321221879990422 (index 292) to leader 2
client write log 3446779721148019241 (index 293) to leader 2
client write log 4725196272757672054 (index 294) to leader 2
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 51
------------------------------------------------------
flag 96096 term 51 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 51 leaderCommit: 279 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 279} {253084586542248766 51 280} {6278450591277915588 51 281} {405129104015299624 51 282} {8414529025172283371 51 283} {9114507531772698447 51 284} {2831688798030356188 51 285} {363016867439562473 51 286} {614989213599249442 51 287} {5878310580909623217 51 288} {3417406830205173763 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294}]
------------------------------------------------------
term 51 Server2 start snapshot! index=289
term 51 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=294
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
flag 98780 term 51 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294}]
------------------------------------------------------
term 51 Server1 start snapshot! index=289
term 51 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=294
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2671913673970099100 (index 295) to leader 2
term 51 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
flag 41230 term 51 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 52 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 0 vote for server 2
term 53 server 2 get outdate rpc reply from server 0
flag 43156 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 73384 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 296->295
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 279  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
flag 15324 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 51 rf.commitIndex 289 rf.lastApplied 289
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 27568 term 53 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 81460 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 466 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 23706 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
flag 88530 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 2960 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
flag 93471 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 75302 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
flag 4929 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 45124 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
flag 17498 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 70825 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66508 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 96803 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52904 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 87546 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 2 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 2
flag 5581 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 4582 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17335 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 98395 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 0 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 0
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84062 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 33613 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90177 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 70602 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2291 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 14235 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
flag 16015 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 6034 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
flag 32664 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 19297 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36642 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 34105 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
flag 17275 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 24760 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295}]
------------------------------------------------------
client write log 2671913673970099100 (index 296) to leader 2
flag 7692 term 53 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
flag 80127 term 53 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 53 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 294 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
flag 15261 term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
flag 39140 term 53 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
flag 26465 term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
flag 56715 term 53 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15886 term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
flag 75502 term 53 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
term 53 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
flag 96539 term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
flag 22921 term 53 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80589 term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
flag 9039 term 53 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74102 term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
flag 88418 term 53 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5969047254869033151 (index 297) to leader 2
flag 17809 term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
flag 59704 term 53 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 296 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296} {5969047254869033151 53 297}]
------------------------------------------------------
flag 27660 term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 23677 term 53 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 53 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296} {5969047254869033151 53 297}]
------------------------------------------------------
client write log 5895566626846190825 (index 298) to leader 2
client write log 4322778843783334186 (index 299) to leader 2
client write log 843581045769438920 (index 300) to leader 2
client write log 4184920817518148883 (index 301) to leader 2
client write log 5265090768588100157 (index 302) to leader 2
client write log 7780213241044769812 (index 303) to leader 2
client write log 1383775364890335295 (index 304) to leader 2
client write log 3444222144506593947 (index 305) to leader 2
term 53 server 2 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 2
flag 17477 term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 52123 term 53 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 53 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 51 289} {8452844746962113603 51 290} {7696140594404435985 51 291} {93321221879990422 51 292} {3446779721148019241 51 293} {4725196272757672054 51 294} {2671913673970099100 51 295} {2671913673970099100 53 296} {5969047254869033151 53 297} {5895566626846190825 53 298} {4322778843783334186 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305}]
------------------------------------------------------
term 53 Server2 start snapshot! index=299
term 53 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 79508 term 53 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 53 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305}]
------------------------------------------------------
term 53 Server1 start snapshot! index=299
term 53 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1585089530662908468 (index 306) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 1 not vote for server 0, 日志不够新
term 54 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 1 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
------------------------------------------------------
term 55 server 0 vote for server 2
term 55 server 2 get outdate rpc reply from server 0
flag 33984 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 95141 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 297  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 53
------------------------------------------------------
flag 28989 term 55 leader 2 nextIndex[1]: 306  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 53 rf.commitIndex 299 rf.lastApplied 299
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 96354 term 55 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 71224 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97853 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 9828 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 35994 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 98182 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76694 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 70205 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98488 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 66955 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 34829 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 6326 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 84749 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 94582 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2187 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 50035 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 38033 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 65966 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 13458 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 78796 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60299 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 24134 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 42877 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 23732 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 39513 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 48488 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 34000 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 88810 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 97054 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 65775 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 5292 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 20476 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
flag 7630 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 230 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306}]
------------------------------------------------------
client write log 1585089530662908468 (index 307) to leader 2
flag 68046 term 55 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
flag 8360 term 55 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 55 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 305 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
term 55 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60382 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 72604 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64688 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 53964 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
flag 4776 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 46292 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
flag 54699 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 14746 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
flag 53946 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 5220 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
flag 32572 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 62123 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 19588 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 83661 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 24053 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 91885 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 62279 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 94667 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 56 server 1 vote for server 0
term 56 server 0 get vote from server 1
term 56 server 0 become leader
------------------------------------------------------
flag 19678 term 56 leader 0 nextIndex[1]: 308  matchIndex[1]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 10733 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307}]
------------------------------------------------------
flag 21630 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 95073 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
client write log 8613641724211864905 (index 308) to leader 0
flag 62052 term 56 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 10126 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307} {8613641724211864905 56 308}]
------------------------------------------------------
flag 30945 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 85903 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 58183 term 56 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 56 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 40539 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 308 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307} {8613641724211864905 56 308}]
------------------------------------------------------
client write log 5393587398643940197 (index 309) to leader 0
client write log 2021663791604650477 (index 310) to leader 0
client write log 4676910388993518884 (index 311) to leader 0
client write log 1929234093628232626 (index 312) to leader 0
client write log 866476332189784312 (index 313) to leader 0
client write log 4351103846438024914 (index 314) to leader 0
client write log 6728326960617528690 (index 315) to leader 0
client write log 3803764547200533345 (index 316) to leader 0
client write log 4186975811638470710 (index 317) to leader 0
client write log 5734938582692352781 (index 318) to leader 0
client write log 7092425254222746452 (index 319) to leader 0
client write log 1835270981477315295 (index 320) to leader 0
flag 34179 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 45519 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 27114 term 56 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 56 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 34501 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 308 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 53 299} {843581045769438920 53 300} {4184920817518148883 53 301} {5265090768588100157 53 302} {7780213241044769812 53 303} {1383775364890335295 53 304} {3444222144506593947 53 305} {1585089530662908468 53 306} {1585089530662908468 55 307} {8613641724211864905 56 308} {5393587398643940197 56 309} {2021663791604650477 56 310} {4676910388993518884 56 311} {1929234093628232626 56 312} {866476332189784312 56 313} {4351103846438024914 56 314} {6728326960617528690 56 315} {3803764547200533345 56 316} {4186975811638470710 56 317} {5734938582692352781 56 318} {7092425254222746452 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 Server0 start snapshot! index=309
term 56 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=320
-------------------------------------------------------------
term 56 Server0 start snapshot! index=319
term 56 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
flag 78200 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 43454 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 58224 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 Server1 start snapshot! index=309
term 56 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=320
-------------------------------------------------------------
term 56 Server1 start snapshot! index=319
term 56 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
flag 10375 term 55 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
flag 18774 term 55 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 55 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 55 leaderCommit: 307 
------------------------------------------------------
!!!!!!connect server 2
client write log 5684992529083422943 (index 308) to leader 2
flag 19467 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 56 rf.commitIndex 319 rf.lastApplied 319
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 14454 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 68512 term 56 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 56 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 2 not vote for server 0, 日志不够新
term 56 server 0 get outdate rpc reply from server 2
flag 84082 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 89204 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 24913 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 88937 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 30617 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 75275 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 27005 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 48576 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 24574 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 12610 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35118 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 72611 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 29156 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 77329 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92986 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 77494 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 36747 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 35568 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 11768 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 60691 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46152 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 34983 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11327 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 69383 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 72020 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 28319 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 25380 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 33282 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 321->320
------------------------------------------------------
flag 9981 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 0  matchIndex[2]: 320
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 2 InstallSnapshot fail
rf.commitIndex 320 args.LastIncludedIndex 319
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20248 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 78340 term 56 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 56 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
flag 48165 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 38191 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19744 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 4610 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 56 319} {1835270981477315295 56 320}]
------------------------------------------------------
client write log 5684992529083422943 (index 321) to leader 0
flag 89894 term 56 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
flag 41769 term 56 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 56 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 56 leaderCommit: 320 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
flag 43308 term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 10361 term 56 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
flag 94703 term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 62873 term 56 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 322->321
------------------------------------------------------
flag 84710 term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 0  matchIndex[2]: 321
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
term 56 server 2 InstallSnapshot fail
rf.commitIndex 321 args.LastIncludedIndex 319
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
flag 28505 term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 66595 term 56 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 56 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
flag 13404 term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 88986 term 56 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3042244588145004362 (index 322) to leader 0
flag 4662 term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
flag 26900 term 56 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 321 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321} {3042244588145004362 56 322}]
------------------------------------------------------
flag 23062 term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 322 
------------------------------------------------------
flag 11393 term 56 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 56 leaderCommit: 322 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321} {3042244588145004362 56 322}]
------------------------------------------------------
client write log 4579012199953620 (index 323) to leader 0
client write log 7029188552433394727 (index 324) to leader 0
client write log 5854114194797854085 (index 325) to leader 0
client write log 148068056880066714 (index 326) to leader 0
client write log 2046837865238162910 (index 327) to leader 0
client write log 5571661497814616015 (index 328) to leader 0
client write log 6065320315074364440 (index 329) to leader 0
client write log 8610301511139926639 (index 330) to leader 0
flag 28033 term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 56 leaderCommit: 322 
------------------------------------------------------
flag 6850 term 56 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 56 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 56 leaderCommit: 322 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 319} {1835270981477315295 56 320} {5684992529083422943 56 321} {3042244588145004362 56 322} {4579012199953620 56 323} {7029188552433394727 56 324} {5854114194797854085 56 325} {148068056880066714 56 326} {2046837865238162910 56 327} {5571661497814616015 56 328} {6065320315074364440 56 329} {8610301511139926639 56 330}]
------------------------------------------------------
term 56 Server0 start snapshot! index=329
term 56 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
flag 59349 term 56 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 56 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 56 329} {8610301511139926639 56 330}]
------------------------------------------------------
term 56 Server2 start snapshot! index=329
term 56 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7864665452213036455 (index 331) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
flag 9808 term 56 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 56 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 56 leaderCommit: 330 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 57 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 58 server 2 vote for server 0
term 58 server 0 get vote from server 2
term 58 server 0 become leader
------------------------------------------------------
term 58 server 1 vote for server 0
term 58 server 0 get outdate rpc reply from server 1
flag 8821 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
flag 61170 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 332->331
------------------------------------------------------
term 58 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 56
------------------------------------------------------
flag 68015 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 58 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 56 rf.commitIndex 329 rf.lastApplied 329
term 58 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39677 term 58 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 58 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
flag 70821 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
flag 88122 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
flag 37607 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20009 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
flag 57955 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
flag 80695 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
flag 83204 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
term 58 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78816 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
flag 85603 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
term 58 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
flag 95537 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
flag 38254 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40735 term 58 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
flag 47132 term 58 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 58 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 56 leaderCommit: 331 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 56 329} {8610301511139926639 56 330} {7864665452213036455 56 331}]
------------------------------------------------------
  ... Passed --  80.4  3 1852  882069  331
--- PASS: TestSnapshotInstall2D (80.38s)
PASS
