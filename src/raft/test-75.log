=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
client write log 447304257892735226 (index 1) to leader 1
flag 75689 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 59959 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
flag 98674 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 8639 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
flag 23402 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 88398 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
flag 3679 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98163 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
flag 9531 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 29310 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
flag 85467 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24405 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
flag 28624 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2073 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {447304257892735226 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5848250745967585112 (index 2) to leader 1
flag 70779 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 87912 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {447304257892735226 1 1} {5848250745967585112 1 2}]
------------------------------------------------------
flag 2956 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 67444 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {447304257892735226 1 1} {5848250745967585112 1 2}]
------------------------------------------------------
client write log 4985338916040403534 (index 3) to leader 1
client write log 860149632082628942 (index 4) to leader 1
client write log 8353813033247825072 (index 5) to leader 1
client write log 4667429445238718423 (index 6) to leader 1
client write log 677207646586087792 (index 7) to leader 1
client write log 4265731547875738916 (index 8) to leader 1
client write log 1839588723822915299 (index 9) to leader 1
client write log 2422537999670240119 (index 10) to leader 1
client write log 5381136123973881634 (index 11) to leader 1
client write log 3324316717653726783 (index 12) to leader 1
client write log 5615222930840462618 (index 13) to leader 1
client write log 1893730790931609713 (index 14) to leader 1
client write log 3429278017695953142 (index 15) to leader 1
client write log 8601377489106544886 (index 16) to leader 1
client write log 6387395385860843756 (index 17) to leader 1
flag 6526 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 33241 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {447304257892735226 1 1} {5848250745967585112 1 2} {4985338916040403534 1 3} {860149632082628942 1 4} {8353813033247825072 1 5} {4667429445238718423 1 6} {677207646586087792 1 7} {4265731547875738916 1 8} {1839588723822915299 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
flag 34728 term 1 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 1 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5634894346579292581 (index 18) to leader 1
flag 2307 term 1 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 1 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 43047 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 47031 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 45346 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
flag 72883 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 59595 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 38502 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 94563 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 73050 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 49053 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 97472 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 56674 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 23416 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 40477 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 41088 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 75828 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 22645 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 44975 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36158 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 6343 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 2349 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 83210 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 7898 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 28504 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 808 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 58094 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 83251 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 18601 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 56095 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 65563 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 74182 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 93075 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 41279 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 41540 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 88362 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 47856 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
flag 37167 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 38591 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18}]
------------------------------------------------------
client write log 5634894346579292581 (index 19) to leader 1
flag 2069 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 5218 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18} {5634894346579292581 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {2422537999670240119 1 10} {5381136123973881634 1 11} {3324316717653726783 1 12} {5615222930840462618 1 13} {1893730790931609713 1 14} {3429278017695953142 1 15} {8601377489106544886 1 16} {6387395385860843756 1 17} {5634894346579292581 1 18} {5634894346579292581 3 19}]
------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 27742 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 25255 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 42808 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 51425 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 5314 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 55035 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 67841 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 72791 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 66443 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 23628 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 52342 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 85184 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 68595 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 33358 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 20->19
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 96167 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
flag 589 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 190 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
client write log 8611692373387292806 (index 20) to leader 0
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 34718 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 76842 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 98858 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {8611692373387292806 4 20}]
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 35843 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 38508 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 92301 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {8611692373387292806 4 20}]
------------------------------------------------------
client write log 7099863396384432896 (index 21) to leader 0
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 20313 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 88671 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 683 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 31523 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 42835 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 69905 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3662494474077229758 (index 20) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 32707 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39499 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 96137 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 80051 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 45971 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 31894 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 92779 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 22->21
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 21
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 79017 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 21 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 36071 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 36282 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 61108 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 17608 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 238 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 69447 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 1
flag 64990 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 71248 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 93135 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 37662 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68145 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 17359 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83651 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 3448 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13510 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 5720 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 22->21
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 21
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 49995 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 21 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 90325 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 78549 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 3405 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 12449 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 72061 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 22264 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 46454 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 13754 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 28457 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 43457 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41979 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 38072 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
flag 76327 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 38759 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21}]
------------------------------------------------------
client write log 3662494474077229758 (index 22) to leader 0
flag 57686 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 45835 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
flag 26977 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 45881 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64724 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 95264 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
flag 60444 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 35151 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
flag 17157 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 42456 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
flag 33858 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 75752 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 23->22
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8066342624197349743 (index 23) to leader 0
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 22
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 92675 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22} {8066342624197349743 4 23}]
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 22
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 95670 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22} {8066342624197349743 4 23}]
------------------------------------------------------
client write log 4752028727298452209 (index 24) to leader 0
client write log 5465873736285922711 (index 25) to leader 0
client write log 8569188109332498958 (index 26) to leader 0
client write log 3751903792330325541 (index 27) to leader 0
client write log 4319858104682071479 (index 28) to leader 0
client write log 663466154935959273 (index 29) to leader 0
client write log 2142555101606358935 (index 30) to leader 0
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 22
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 71017 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 19} {8611692373387292806 4 20} {7099863396384432896 4 21} {3662494474077229758 4 22} {8066342624197349743 4 23} {4752028727298452209 4 24} {5465873736285922711 4 25} {8569188109332498958 4 26} {3751903792330325541 4 27} {4319858104682071479 4 28} {663466154935959273 4 29} {2142555101606358935 4 30}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=30
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 22
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 90366 term 4 leader 0 nextIndex[2]: 31  matchIndex[2]: 30
term 4 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=30
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7587637385557669701 (index 31) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 5 server 0 not vote for server 2, 任期不够新
term 5 server 2 get outdate rpc reply from server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 1
term 6 server 0 become leader
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 0 get outdate rpc reply from server 2
flag 84803 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 58447 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 32->31
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 32->31
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 23  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 62410 term 6 leader 0 nextIndex[2]: 31  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
------------------------------------------------------------------------
flag 25300 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 95943 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 17147 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 23934 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 92933 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 50198 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 5729 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 86624 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57843 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 94178 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 46941 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 66486 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 85665 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 2242 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 27160 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 49668 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 48121 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 74397 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 64148 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 45800 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51951 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 469 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32720 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 42454 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6493 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 15955 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85550 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 40853 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 5497 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 63198 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
flag 42354 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 34327 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 9188 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 39936 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7587637385557669701 (index 32) to leader 0
flag 86122 term 6 leader 0 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 42158 term 6 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
flag 26772 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 15890 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89623 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 80210 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
flag 36580 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 53141 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
flag 55597 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 87981 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
flag 62408 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 85324 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
flag 87787 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 95046 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 609308491074030223 (index 33) to leader 0
flag 32614 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 54625 term 6 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32} {609308491074030223 6 33}]
------------------------------------------------------
flag 34416 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 58804 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32} {609308491074030223 6 33}]
------------------------------------------------------
client write log 1883203171131357512 (index 34) to leader 0
client write log 5144856554857466195 (index 35) to leader 0
client write log 5577902502203694487 (index 36) to leader 0
client write log 7593218677472919299 (index 37) to leader 0
client write log 1194229360335913835 (index 38) to leader 0
client write log 830236587446701428 (index 39) to leader 0
flag 78109 term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 10281 term 6 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 6 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {2142555101606358935 4 30} {7587637385557669701 4 31} {7587637385557669701 6 32} {609308491074030223 6 33} {1883203171131357512 6 34} {5144856554857466195 6 35} {5577902502203694487 6 36} {7593218677472919299 6 37} {1194229360335913835 6 38} {830236587446701428 6 39}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 4766 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8731787367503735419 (index 40) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 7 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 1
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 2
flag 32806 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 45464 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 41->40
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 41->40
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 33  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 23193 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 32565 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 59259 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 19926 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 54312 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 20998 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 58587 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 97297 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 58135 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 73134 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 99135 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 40106 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 22226 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 95333 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 15638 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92243 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 80072 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 24395 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 68044 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 18237 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 91524 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 94842 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 38872 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 4355 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 15558 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 19335 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 75776 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 30073 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 80599 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 95235 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 94230 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31224 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 50406 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 53280 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 26923 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
flag 84734 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 68151 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 6 39} {8731787367503735419 6 40}]
------------------------------------------------------
client write log 8731787367503735419 (index 41) to leader 0
flag 44681 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 27398 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
flag 98601 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 37965 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
flag 4062 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 95915 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
flag 60899 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 64835 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
flag 29697 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 79834 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
flag 67039 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 10980 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 32016 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 50372 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 30512 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 12204 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 81724 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 9915 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43802 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 26924 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 42->41
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 42->41
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 56178 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 22657 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41}]
------------------------------------------------------
client write log 1969134261727416344 (index 42) to leader 1
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 12255 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 36079 term 9 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41} {1969134261727416344 9 42}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 46744 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 76817 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41} {1969134261727416344 9 42}]
------------------------------------------------------
client write log 7413907014971516533 (index 43) to leader 1
client write log 4459901834224488557 (index 44) to leader 1
client write log 7620770544751767962 (index 45) to leader 1
client write log 5184570064470869165 (index 46) to leader 1
client write log 9053384561230556156 (index 47) to leader 1
client write log 6090303164933783020 (index 48) to leader 1
client write log 2078203349048926756 (index 49) to leader 1
client write log 6328158152810563438 (index 50) to leader 1
client write log 8305299622737897034 (index 51) to leader 1
client write log 8787845568161500502 (index 52) to leader 1
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 55367 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 63602 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 39} {8731787367503735419 6 40} {8731787367503735419 8 41} {1969134261727416344 9 42} {7413907014971516533 9 43} {4459901834224488557 9 44} {7620770544751767962 9 45} {5184570064470869165 9 46} {9053384561230556156 9 47} {6090303164933783020 9 48} {2078203349048926756 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=52
-------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 1950 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=52
-------------------------------------------------------------
!!!!!!connect server 0
client write log 337568812857079738 (index 53) to leader 1
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 41
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 73144 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 2 vote for server 1
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 0
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 2
flag 53468 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 16080 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 54->53
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13674 term 11 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 49981 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
flag 67840 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 59137 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27719 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 25844 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
flag 9184 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 31840 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
flag 94120 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 98660 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
flag 86841 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 38261 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
flag 72637 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 60614 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2794852444570525339 (index 54) to leader 1
flag 62605 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 84857 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53} {2794852444570525339 11 54}]
------------------------------------------------------
flag 56848 term 11 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 65021 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53} {2794852444570525339 11 54}]
------------------------------------------------------
client write log 7614903335561540338 (index 55) to leader 1
client write log 6242935264522499807 (index 56) to leader 1
client write log 1719607474928362982 (index 57) to leader 1
client write log 5885019859981423642 (index 58) to leader 1
client write log 3937169172134042570 (index 59) to leader 1
client write log 7937573353164336398 (index 60) to leader 1
client write log 989988010392716703 (index 61) to leader 1
client write log 3167270885813064497 (index 62) to leader 1
client write log 7293164877774334510 (index 63) to leader 1
client write log 5659289232965963160 (index 64) to leader 1
client write log 7856364144261548727 (index 65) to leader 1
client write log 7782059854655716962 (index 66) to leader 1
client write log 2528265459054941500 (index 67) to leader 1
client write log 7116447096529787839 (index 68) to leader 1
term 11 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56079 term 11 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 88108 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 49} {6328158152810563438 9 50} {8305299622737897034 9 51} {8787845568161500502 9 52} {337568812857079738 9 53} {2794852444570525339 11 54} {7614903335561540338 11 55} {6242935264522499807 11 56} {1719607474928362982 11 57} {5885019859981423642 11 58} {3937169172134042570 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=68
-------------------------------------------------------------
flag 52204 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=68
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2808226270721440391 (index 69) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 53732 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 57772 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 70->69
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 70->69
------------------------------------------------------
flag 90710 term 13 leader 1 nextIndex[0]: 69  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 54  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 7497 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 37388 term 13 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12517 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 73503 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 23012 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 35650 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 5997 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 69790 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 58408 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 52249 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82183 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 36706 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22883 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 95450 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 44179 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 40970 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 47850 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 38622 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99008 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 82887 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 2156 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 23007 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 66924 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 43535 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58706 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 70655 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71625 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 61775 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40296 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 51668 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 91848 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 22143 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 18243 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 98040 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
flag 48995 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 22905 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69}]
------------------------------------------------------
client write log 2808226270721440391 (index 70) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89772 term 13 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 49377 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 59} {7937573353164336398 11 60} {989988010392716703 11 61} {3167270885813064497 11 62} {7293164877774334510 11 63} {5659289232965963160 11 64} {7856364144261548727 11 65} {7782059854655716962 11 66} {2528265459054941500 11 67} {7116447096529787839 11 68} {2808226270721440391 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 61774 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 51294 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 13 Server0 start snapshot! index=69
term 13 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79070 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 48268 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 982 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 18864 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 912 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 596 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
flag 94914 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 73985 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2808226270721440391 13 70}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 577389491961586381 (index 71) to leader 1
flag 49271 term 13 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 99518 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {2808226270721440391 13 70} {577389491961586381 13 71}]
------------------------------------------------------
flag 3978 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 5382 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {2808226270721440391 13 70} {577389491961586381 13 71}]
------------------------------------------------------
client write log 6711833924361708595 (index 72) to leader 1
client write log 8971021717519359002 (index 73) to leader 1
client write log 1319739635623639081 (index 74) to leader 1
client write log 7593296593874742539 (index 75) to leader 1
client write log 7031195488984347631 (index 76) to leader 1
client write log 429518942542927352 (index 77) to leader 1
client write log 7110975622255236897 (index 78) to leader 1
client write log 692021282470300703 (index 79) to leader 1
client write log 6716704300921779525 (index 80) to leader 1
client write log 6389544048464904294 (index 81) to leader 1
client write log 4763661555247537627 (index 82) to leader 1
client write log 6840486750413477454 (index 83) to leader 1
client write log 7114928026212352330 (index 84) to leader 1
client write log 8125198252304586821 (index 85) to leader 1
client write log 2775895492642517042 (index 86) to leader 1
flag 51917 term 13 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 13 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
flag 16191 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 69} {2808226270721440391 13 70} {577389491961586381 13 71} {6711833924361708595 13 72} {8971021717519359002 13 73} {1319739635623639081 13 74} {7593296593874742539 13 75} {7031195488984347631 13 76} {429518942542927352 13 77} {7110975622255236897 13 78} {692021282470300703 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=86
-------------------------------------------------------------
flag 81142 term 13 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 13 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86}]
------------------------------------------------------
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=86
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5721912139217105770 (index 87) to leader 1
term 13 server 0 not vote for server 2, 日志不够新
term 13 server 1 not vote for server 2, 日志不够新
term 15 server 0 vote for server 1
term 15 server 2 vote for server 1
term 15 server 1 get vote from server 0
term 15 server 1 become leader
------------------------------------------------------
term 15 server 1 get outdate rpc reply from server 2
flag 65140 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 36535 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 88->87
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 88->87
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35644 term 15 leader 1 nextIndex[0]: 87  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 15 server 2 InstallSnapshot success
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 13 rf.commitIndex 79 rf.lastApplied 79
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 22883 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 84387 term 15 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69441 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 34808 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 55739 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 48569 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 98594 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 20242 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 21578 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 49278 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 19813 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 79903 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 4563 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 54509 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31592 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 15083 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 60801 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 61562 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 81376 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 96259 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 57392 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 34504 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 67760 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 59858 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 80148 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 7118 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 84761 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 81591 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2054 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 62598 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 98767 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 22353 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
flag 47936 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 58145 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85359 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 66060 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87}]
------------------------------------------------------
client write log 5721912139217105770 (index 88) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39137 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 76142 term 15 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
flag 71093 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 74825 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
flag 72439 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 40246 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
flag 69397 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 22900 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
flag 14439 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 39182 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
term 15 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
flag 86013 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 24517 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
term 15 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
flag 43783 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 46302 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 50238 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 94463 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 24286 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 92478 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 13075 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 24401 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 87962 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 13922 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
flag 76404 term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 66498 term 16 leader 0 nextIndex[2]: 89  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 96321 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 31214 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88}]
------------------------------------------------------
client write log 1962917483035091648 (index 89) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 89->88
------------------------------------------------------
flag 76241 term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 3134 term 16 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 88
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 31803 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 79} {6716704300921779525 13 80} {6389544048464904294 13 81} {4763661555247537627 13 82} {6840486750413477454 13 83} {7114928026212352330 13 84} {8125198252304586821 13 85} {2775895492642517042 13 86} {5721912139217105770 13 87} {5721912139217105770 15 88} {1962917483035091648 16 89}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 36046 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 88
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 88066 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 861812313657837335 (index 90) to leader 0
term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 19994 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 88
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 18100 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 21907 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 88
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 38167 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7540454253497703422 (index 89) to leader 1
term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 99617 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 15 leader 1 nextIndex[0]: 0  matchIndex[0]: 88
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 45366 term 15 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 server 2 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
Server1 get CondInstallSnapshot!
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11699 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 13127 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 57560 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 90274 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 51693 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 36929 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93531 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 55477 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 59726 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 51208 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 14932 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 19694 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 20282 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 5721 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 54328 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 72887 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 36396 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 82227 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 4043 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 68955 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 26319 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 88830 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62889 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 97496 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 86531 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 22239 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39816 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 96705 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 8531 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 57620 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 74642 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 65567 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 40734 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 93747 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
flag 26621 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 84172 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22896 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 53248 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {861812313657837335 16 90}]
------------------------------------------------------
client write log 7540454253497703422 (index 91) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 91->90
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 90
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 13511 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 InstallSnapshot fail
rf.commitIndex 90 args.LastIncludedIndex 89
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
flag 7489 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 8868 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
flag 26925 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 55901 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
flag 60882 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 97262 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
flag 80635 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 73017 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32043 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 90868 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 88742 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 73346 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 8509421753362364695 (index 92) to leader 0
flag 53324 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 31775 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91} {8509421753362364695 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12861 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 19398 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91} {8509421753362364695 16 92}]
------------------------------------------------------
client write log 5967451037919326921 (index 93) to leader 0
client write log 5763545199841561836 (index 94) to leader 0
client write log 4891095249838134293 (index 95) to leader 0
client write log 8091562353849627624 (index 96) to leader 0
client write log 4243603367257176952 (index 97) to leader 0
client write log 5153430313533456117 (index 98) to leader 0
client write log 5784174980452472614 (index 99) to leader 0
client write log 6538717878150801686 (index 100) to leader 0
client write log 5101141603117010737 (index 101) to leader 0
client write log 7229585306427808111 (index 102) to leader 0
client write log 1214426037393322479 (index 103) to leader 0
client write log 8628122965427223106 (index 104) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27755 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 72420 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 89} {861812313657837335 16 90} {7540454253497703422 16 91} {8509421753362364695 16 92} {5967451037919326921 16 93} {5763545199841561836 16 94} {4891095249838134293 16 95} {8091562353849627624 16 96} {4243603367257176952 16 97} {5153430313533456117 16 98} {5784174980452472614 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=104
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 33706 term 16 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=104
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8439180823888867197 (index 105) to leader 0
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 41350 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
flag 30766 term 16 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
term 17 server 1 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 0 not vote for server 1, 日志不够新
term 16 server 2 not vote for server 1, 日志不够新
term 17 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get outdate rpc reply from server 1
flag 2914 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 83310 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 58199 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 93838 term 19 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 29257 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
flag 68778 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 89859 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77091 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 66784 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
flag 43934 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 54251 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
flag 8289 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 63165 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
term 19 server 2 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 2
flag 24742 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 96150 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40264 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 50031 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 328671817047939030 (index 106) to leader 0
flag 20795 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 70993 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105} {328671817047939030 19 106}]
------------------------------------------------------
flag 85996 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
flag 1868 term 19 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105} {328671817047939030 19 106}]
------------------------------------------------------
client write log 3238023334384129288 (index 107) to leader 0
client write log 7144615831009302519 (index 108) to leader 0
client write log 8304898764449271032 (index 109) to leader 0
client write log 3197464230873984715 (index 110) to leader 0
client write log 43488184825334046 (index 111) to leader 0
client write log 8329605235390896658 (index 112) to leader 0
client write log 3514628462377445536 (index 113) to leader 0
client write log 756995673403003461 (index 114) to leader 0
client write log 490644187048533420 (index 115) to leader 0
client write log 4242655399313424841 (index 116) to leader 0
client write log 4011562313759943584 (index 117) to leader 0
client write log 8478119482354013081 (index 118) to leader 0
client write log 8831955273257554155 (index 119) to leader 0
client write log 5546163643639221486 (index 120) to leader 0
flag 71409 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
flag 61925 term 19 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 99} {6538717878150801686 16 100} {5101141603117010737 16 101} {7229585306427808111 16 102} {1214426037393322479 16 103} {8628122965427223106 16 104} {8439180823888867197 16 105} {328671817047939030 19 106} {3238023334384129288 19 107} {7144615831009302519 19 108} {8304898764449271032 19 109} {3197464230873984715 19 110} {43488184825334046 19 111} {8329605235390896658 19 112} {3514628462377445536 19 113} {756995673403003461 19 114} {490644187048533420 19 115} {4242655399313424841 19 116} {4011562313759943584 19 117} {8478119482354013081 19 118} {8831955273257554155 19 119} {5546163643639221486 19 120}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=120
-------------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 1345 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=120
-------------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3406796736353063014 (index 121) to leader 0
term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 50178 term 19 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 1
term 21 server 0 become leader
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 2
flag 49067 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 74714 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 122->121
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 106  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 6829 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81437 term 21 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 82930 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
flag 8585 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 71345 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
flag 56844 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 45230 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 server 0 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 0
flag 83755 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 33721 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
flag 26404 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 90851 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
flag 60557 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 41006 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89007 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 38875 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8495 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 17744 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 server 1 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 1
flag 7930 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 68841 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15442 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 99222 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56442 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 24383 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55572 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 64039 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
flag 38657 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 69207 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
flag 84072 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 42479 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92823 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 17762 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
flag 27780 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 25561 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3406796736353063014 (index 122) to leader 0
flag 42662 term 21 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 41919 term 21 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68673 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 88841 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
flag 23876 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 22542 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
flag 97341 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 26661 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
flag 41963 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 64532 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
flag 79324 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 74217 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
flag 9406 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 15560 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
!!!!!!diconnect server 0
flag 8584 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 309 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 27693 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 22773 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 22 server 1 vote for server 2
term 22 server 2 get vote from server 1
term 22 server 2 become leader
------------------------------------------------------
flag 14113 term 22 leader 2 nextIndex[0]: 123  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 33790 term 22 leader 2 nextIndex[1]: 123  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122}]
------------------------------------------------------
flag 10936 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 2141 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
client write log 4145089867872647253 (index 123) to leader 2
flag 240 term 22 leader 2 nextIndex[0]: 123  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 77727 term 22 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 22 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123}]
------------------------------------------------------
flag 50629 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 90280 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 33416 term 22 leader 2 nextIndex[0]: 123  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 50849 term 22 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 22 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 22 leaderCommit: 123 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123}]
------------------------------------------------------
flag 92293 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 70909 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
client write log 8440565914855055372 (index 124) to leader 2
flag 35383 term 22 leader 2 nextIndex[0]: 123  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 93179 term 22 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 22 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 22 leaderCommit: 123 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124}]
------------------------------------------------------
flag 61784 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 42610 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 36585 term 22 leader 2 nextIndex[0]: 123  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 90221 term 22 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 22 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124}]
------------------------------------------------------
flag 66991 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 25590 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
!!!!!!connect server 0
client write log 9208925255004931935 (index 125) to leader 2
flag 50935 term 22 leader 2 nextIndex[0]: 123  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 15736 term 22 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 22 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 22 leaderCommit: 124 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
flag 3451 term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 92307 term 22 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
flag 72721 term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 70548 term 22 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89390 term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 93845 term 22 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
flag 21229 term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 49131 term 22 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
flag 65336 term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 87386 term 22 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
flag 97908 term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 67736 term 22 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3584242187576498305 (index 126) to leader 2
flag 3840 term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 58895 term 22 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125} {3584242187576498305 22 126}]
------------------------------------------------------
term 22 server 2 not vote for server 1, 任期不够新
term 22 server 1 get outdate rpc reply from server 2
flag 66572 term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 64453 term 22 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 22 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125} {3584242187576498305 22 126}]
------------------------------------------------------
client write log 6228137605612190008 (index 127) to leader 2
client write log 2215532881353293466 (index 128) to leader 2
client write log 2354392060884773780 (index 129) to leader 2
client write log 6171079953276888887 (index 130) to leader 2
client write log 8767426234850406884 (index 131) to leader 2
client write log 3262120717373171462 (index 132) to leader 2
client write log 4608614187730991167 (index 133) to leader 2
client write log 4753027242132102351 (index 134) to leader 2
client write log 6474801059795577966 (index 135) to leader 2
client write log 7024529845179561513 (index 136) to leader 2
client write log 6817830976408616494 (index 137) to leader 2
client write log 1957936107600920337 (index 138) to leader 2
client write log 1588878931722725691 (index 139) to leader 2
flag 84003 term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
flag 13376 term 22 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 22 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 126 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 119} {5546163643639221486 19 120} {3406796736353063014 19 121} {3406796736353063014 21 122} {4145089867872647253 22 123} {8440565914855055372 22 124} {9208925255004931935 22 125} {3584242187576498305 22 126} {6228137605612190008 22 127} {2215532881353293466 22 128} {2354392060884773780 22 129} {6171079953276888887 22 130} {8767426234850406884 22 131} {3262120717373171462 22 132} {4608614187730991167 22 133} {4753027242132102351 22 134} {6474801059795577966 22 135} {7024529845179561513 22 136} {6817830976408616494 22 137} {1957936107600920337 22 138} {1588878931722725691 22 139}]
------------------------------------------------------
term 22 Server2 start snapshot! index=129
term 22 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=139
-------------------------------------------------------------
term 22 Server2 start snapshot! index=139
term 22 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 22 leader 2 nextIndex[0]: 126  matchIndex[0]: 125
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 10468 term 22 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 22 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 22 139}]
------------------------------------------------------
term 22 Server1 start snapshot! index=129
term 22 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=139
-------------------------------------------------------------
term 22 Server1 start snapshot! index=139
term 22 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
!!!!!!connect server 0
client write log 890108994159554872 (index 140) to leader 2
term 22 server 1 not vote for server 0, 日志不够新
term 22 server 2 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 1 vote for server 2
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 2 get outdate rpc reply from server 0
flag 13397 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 61842 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 141->140
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 141->140
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 126  matchIndex[0]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 22
------------------------------------------------------
flag 10873 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 22 rf.commitIndex 139 rf.lastApplied 139
flag 698 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 57961 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 56858 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 41492 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61688 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 40609 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29217 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 89068 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48049 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 57937 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16872 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 79237 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 21784 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 95581 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 89941 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 78724 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26527 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 2350 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 1033 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 82620 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 97068 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 96281 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 70108 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 20680 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 40757 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 12549 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 76040 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 96816 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68132 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 55580 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 88406 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 66650 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86333 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 99810 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
flag 39145 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 44541 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 22 139} {890108994159554872 22 140}]
------------------------------------------------------
client write log 890108994159554872 (index 141) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68466 term 24 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
flag 33012 term 24 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 24 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 22 leaderCommit: 139 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45151 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 54232 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65681 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 93685 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80729 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 33214 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84999 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 4792 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42972 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 99481 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
flag 75856 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 57977 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7120649889379571426 (index 142) to leader 2
flag 84260 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 53372 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141} {7120649889379571426 24 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22806 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 23537 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141} {7120649889379571426 24 142}]
------------------------------------------------------
client write log 8005528937333829994 (index 143) to leader 2
client write log 7860115995548961303 (index 144) to leader 2
client write log 1129852254184978291 (index 145) to leader 2
client write log 1094522978502515291 (index 146) to leader 2
client write log 6307490833796061093 (index 147) to leader 2
client write log 348878814187751978 (index 148) to leader 2
client write log 1123196468784686095 (index 149) to leader 2
client write log 7693119574739896046 (index 150) to leader 2
client write log 7212805485779700995 (index 151) to leader 2
client write log 5496069990333021230 (index 152) to leader 2
client write log 6195859653111451760 (index 153) to leader 2
client write log 5852197314599788936 (index 154) to leader 2
client write log 8963728482125125880 (index 155) to leader 2
client write log 2704374443777325736 (index 156) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76797 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 40896 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 139} {890108994159554872 22 140} {890108994159554872 24 141} {7120649889379571426 24 142} {8005528937333829994 24 143} {7860115995548961303 24 144} {1129852254184978291 24 145} {1094522978502515291 24 146} {6307490833796061093 24 147} {348878814187751978 24 148} {1123196468784686095 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=156
-------------------------------------------------------------
term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 78420 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=156
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1055195515594518616 (index 157) to leader 2
term 24 server 1 not vote for server 0, 日志不够新
term 24 server 2 not vote for server 0, 日志不够新
term 26 server 1 vote for server 2
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
flag 11038 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 42006 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 158->157
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 158->157
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 75487 term 26 leader 2 nextIndex[1]: 157  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49601 term 26 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 77292 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 44002 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 98815 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95509 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 96902 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 15268 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 37479 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84354 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 76385 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43561 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 6453 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 22678 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 81465 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 22118 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 3963 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16978 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 57707 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88990 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 9641 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 4727 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 68218 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 75407 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 38641 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 11566 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 18143 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 79052 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 65346 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23086 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 31997 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 89526 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 77811 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
flag 16509 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 45143 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1055195515594518616 (index 158) to leader 2
flag 33636 term 26 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 77035 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56301 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 68026 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
flag 45263 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 22257 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
flag 74284 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 29904 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
flag 72041 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 50580 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
flag 45256 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 12708 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1937 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 38825 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 71920 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 98550 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 97153 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 14862 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 98787 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 39318 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 27 server 1 vote for server 0
term 27 server 0 get vote from server 1
term 27 server 0 become leader
------------------------------------------------------
flag 35885 term 27 leader 0 nextIndex[1]: 159  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 59555 term 27 leader 0 nextIndex[2]: 159  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158}]
------------------------------------------------------
flag 66696 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 6731 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
client write log 3319718993687283563 (index 159) to leader 0
flag 1191 term 27 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 27 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 31871 term 27 leader 0 nextIndex[2]: 159  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 149} {7693119574739896046 24 150} {7212805485779700995 24 151} {5496069990333021230 24 152} {6195859653111451760 24 153} {5852197314599788936 24 154} {8963728482125125880 24 155} {2704374443777325736 24 156} {1055195515594518616 24 157} {1055195515594518616 26 158} {3319718993687283563 27 159}]
------------------------------------------------------
term 27 Server0 start snapshot! index=159
term 27 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 91781 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 28868 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 37533 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 159  matchIndex[2]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 6352 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 41647 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 27 Server1 start snapshot! index=159
term 27 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
client write log 7008363650571734691 (index 160) to leader 0
client write log 6464517652108084747 (index 161) to leader 0
client write log 2981626046146611989 (index 162) to leader 0
client write log 9011258794965900457 (index 163) to leader 0
client write log 7821655273669429929 (index 164) to leader 0
client write log 773118742566482819 (index 165) to leader 0
client write log 5464587496076954941 (index 166) to leader 0
client write log 1309633575501197746 (index 167) to leader 0
client write log 5403730792034244859 (index 168) to leader 0
flag 64304 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 159  matchIndex[2]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 17233 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 43149 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4842 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 159  matchIndex[2]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7276602084314957663 (index 159) to leader 2
flag 7999 term 26 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 46749 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 27 server 1 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 27 server 0 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50855 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 159  matchIndex[2]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 2 InstallSnapshot success
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 27 rf.commitIndex 159 rf.lastApplied 159
term 27 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 72137 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 72822 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 7244 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 12164 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 90511 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 63066 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 14043 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 74931 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 49046 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 75715 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 782 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 92967 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 8396 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 21963 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 13277 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 3798 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 38065 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 85806 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 96952 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 91147 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19742 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 17019 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 74710 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 6022 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 5512 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 48049 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 16598 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 59007 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 18145 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 67823 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 676 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 87907 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 20452 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 30643 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 98198 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 96563 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
flag 55541 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 70959 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168}]
------------------------------------------------------
client write log 7276602084314957663 (index 169) to leader 0
flag 66894 term 27 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
flag 20494 term 27 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 27 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 168 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168} {7276602084314957663 27 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 159} {7008363650571734691 27 160} {6464517652108084747 27 161} {2981626046146611989 27 162} {9011258794965900457 27 163} {7821655273669429929 27 164} {773118742566482819 27 165} {5464587496076954941 27 166} {1309633575501197746 27 167} {5403730792034244859 27 168} {7276602084314957663 27 169}]
------------------------------------------------------
term 27 Server0 start snapshot! index=169
term 27 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66218 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 47773 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
term 27 Server2 start snapshot! index=169
term 27 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 27 Server1 start snapshot! index=169
term 27 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
flag 7864 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 94089 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1958 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 13623 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
flag 93733 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 1453 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
flag 86774 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 64253 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 169}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8234925796378955895 (index 170) to leader 0
flag 60326 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
flag 14652 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 169 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 27 169} {8234925796378955895 27 170}]
------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
flag 49937 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 170 
------------------------------------------------------
flag 11878 term 27 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 170 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 27 169} {8234925796378955895 27 170}]
------------------------------------------------------
client write log 5657181354667202142 (index 171) to leader 0
client write log 3199154174825486330 (index 172) to leader 0
client write log 9197013753395794197 (index 173) to leader 0
client write log 6815867997760740930 (index 174) to leader 0
client write log 602518362428494703 (index 175) to leader 0
client write log 100731826402026009 (index 176) to leader 0
client write log 1106068902334790045 (index 177) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85654 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 170 
------------------------------------------------------
flag 75901 term 27 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 27 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 27 leaderCommit: 170 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177}]
------------------------------------------------------
flag 77645 term 27 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 27 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 827 term 27 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 27 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 2700066515429421208 (index 178) to leader 0
term 27 server 0 not vote for server 1, 日志不够新
term 27 server 2 not vote for server 1, 日志不够新
term 29 server 2 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 1 vote for server 0
term 29 server 0 become leader
------------------------------------------------------
term 29 server 0 get outdate rpc reply from server 1
flag 61324 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 69997 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 179->178
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 179->178
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48240 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 97561 term 29 leader 0 nextIndex[2]: 178  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 80389 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 92792 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 22171 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 15164 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 12866 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 32184 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 18421 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 11231 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 33723 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 19525 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90891 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 92360 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 4810 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 80906 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 71660 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 40582 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 71382 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 5504 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73222 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 64307 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 64101 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 10826 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 67237 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 70167 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 2 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3372 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 39343 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37878 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 64564 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33489 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 39242 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 31285 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 16166 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 23994 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 99220 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
flag 89381 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 99226 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=177
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178}]
------------------------------------------------------
client write log 2700066515429421208 (index 179) to leader 0
flag 28168 term 29 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
flag 26363 term 29 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 29 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 27 leaderCommit: 177 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178} {2700066515429421208 29 179}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 27 169} {8234925796378955895 27 170} {5657181354667202142 27 171} {3199154174825486330 27 172} {9197013753395794197 27 173} {6815867997760740930 27 174} {602518362428494703 27 175} {100731826402026009 27 176} {1106068902334790045 27 177} {2700066515429421208 27 178} {2700066515429421208 29 179}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69004 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 37369 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 94350 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 70920 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26106 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 11139 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 92286 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 13917 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 68478 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 63960 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
flag 11584 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 21176 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7273155812772762987 (index 180) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39307 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
flag 58754 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7273155812772762987 29 180}]
------------------------------------------------------
flag 1844 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 43113 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7273155812772762987 29 180}]
------------------------------------------------------
client write log 3138173872581776155 (index 181) to leader 0
client write log 7208311169359154396 (index 182) to leader 0
client write log 8164406879293786839 (index 183) to leader 0
client write log 4674088658452835090 (index 184) to leader 0
client write log 1203995996555373426 (index 185) to leader 0
client write log 8704548947486605595 (index 186) to leader 0
client write log 7481696616408531916 (index 187) to leader 0
client write log 2441596844429270616 (index 188) to leader 0
client write log 3581501832713231209 (index 189) to leader 0
client write log 7971922542959326263 (index 190) to leader 0
client write log 8367538436984822620 (index 191) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64564 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 89735 term 29 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 179} {7273155812772762987 29 180} {3138173872581776155 29 181} {7208311169359154396 29 182} {8164406879293786839 29 183} {4674088658452835090 29 184} {1203995996555373426 29 185} {8704548947486605595 29 186} {7481696616408531916 29 187} {2441596844429270616 29 188} {3581501832713231209 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=191
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 96502 term 29 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 29 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 191 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191}]
------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=191
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7949349424750089585 (index 192) to leader 0
term 29 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 56413 term 29 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 29 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 191 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 0 get outdate rpc reply from server 1
flag 33852 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 62556 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 193->192
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 90486 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
flag 45268 term 31 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 12973 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98845 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 9740 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
flag 56609 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 40471 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
flag 75622 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 70239 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34755 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 57962 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
flag 7588 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 10712 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86351 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 52835 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 31821 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 46237 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 85646 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 70423 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81273 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 55458 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 2 become leader
------------------------------------------------------
flag 97797 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 57764 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192}]
------------------------------------------------------
client write log 5190614854462575023 (index 193) to leader 2
flag 2952 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 14435 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 58067 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 31677 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193}]
------------------------------------------------------
flag 62386 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 9983 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 26659 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 57419 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193}]
------------------------------------------------------
client write log 9189838434118811377 (index 194) to leader 2
flag 66022 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 51755 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 96626 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 17516 term 32 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 32 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194}]
------------------------------------------------------
flag 1263 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 56317 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 8794 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 73511 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7065692322400173524 (index 195) to leader 2
flag 52424 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 81080 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4169 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 194 
------------------------------------------------------
flag 89464 term 32 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 32 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 194 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
flag 48138 term 32 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 75214 term 32 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
flag 17952 term 32 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 96014 term 32 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80693 term 32 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 58573 term 32 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
flag 16661 term 32 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 39310 term 32 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
flag 1163 term 32 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 75587 term 32 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3838248794286760752 (index 196) to leader 2
flag 39721 term 32 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
flag 51541 term 32 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 195 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195} {3838248794286760752 32 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21099 term 32 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
flag 46968 term 32 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 32 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195} {3838248794286760752 32 196}]
------------------------------------------------------
client write log 7650964107721170235 (index 197) to leader 2
client write log 2660952452743931250 (index 198) to leader 2
client write log 4020349926764278567 (index 199) to leader 2
client write log 6362961041425262810 (index 200) to leader 2
client write log 901683229190935571 (index 201) to leader 2
client write log 9152233765807213273 (index 202) to leader 2
client write log 5986854561622393703 (index 203) to leader 2
client write log 6341135585264736082 (index 204) to leader 2
client write log 5830317035169682064 (index 205) to leader 2
client write log 7123082997419783824 (index 206) to leader 2
flag 89288 term 32 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
flag 58255 term 32 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 32 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 189} {7971922542959326263 29 190} {8367538436984822620 29 191} {7949349424750089585 29 192} {5190614854462575023 32 193} {9189838434118811377 32 194} {7065692322400173524 32 195} {3838248794286760752 32 196} {7650964107721170235 32 197} {2660952452743931250 32 198} {4020349926764278567 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206}]
------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
term 32 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 74619 term 32 leader 2 nextIndex[1]: 207  matchIndex[1]: 206
term 32 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206}]
------------------------------------------------------
term 32 Server1 start snapshot! index=199
term 32 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8545339488923672440 (index 207) to leader 2
term 32 server 2 not vote for server 0, 日志不够新
term 32 server 1 not vote for server 0, 日志不够新
term 34 server 1 vote for server 2
term 34 server 2 get vote from server 1
term 34 server 2 become leader
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get outdate rpc reply from server 0
flag 72994 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 77814 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 208->207
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 208->207
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 30019 term 34 leader 2 nextIndex[1]: 207  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
term 34 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50823 term 34 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 34 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 42218 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42525 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 79780 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 93935 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 12122 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 39124 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 22531 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61441 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 220 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63180 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 98714 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 83204 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 24645 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 87890 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 60718 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
flag 50092 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 91470 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3383 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 45900 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 24142 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 36950 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 52131 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 9140 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63950 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 44481 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 89063 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 86589 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 92838 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 64284 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 62266 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 6598 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 41771 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 63590 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
flag 66319 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 19827 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=206
leader log:
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207}]
------------------------------------------------------
client write log 8545339488923672440 (index 208) to leader 2
term 34 server 0 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 0
flag 16343 term 34 leader 2 nextIndex[0]: 208  matchIndex[0]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
flag 22237 term 34 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 32 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
flag 69871 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 60379 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1652 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 60894 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
flag 57066 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 4240 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
flag 50309 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 59771 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18796 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 51317 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4019817079136140500 (index 209) to leader 2
flag 38772 term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 26735 term 34 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 34 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 199} {6362961041425262810 32 200} {901683229190935571 32 201} {9152233765807213273 32 202} {5986854561622393703 32 203} {6341135585264736082 32 204} {5830317035169682064 32 205} {7123082997419783824 32 206} {8545339488923672440 32 207} {8545339488923672440 34 208} {4019817079136140500 34 209}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 67045 term 34 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
term 34 Server1 start snapshot! index=209
term 34 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
client write log 36488219526050623 (index 210) to leader 2
client write log 1364776022383768570 (index 211) to leader 2
client write log 6732766655532121617 (index 212) to leader 2
client write log 3327644865348638093 (index 213) to leader 2
client write log 562723976018395451 (index 214) to leader 2
client write log 9023819634608781356 (index 215) to leader 2
client write log 5821220765089147279 (index 216) to leader 2
client write log 9070125718794134321 (index 217) to leader 2
client write log 1736775992115211498 (index 218) to leader 2
client write log 3012497126025089210 (index 219) to leader 2
client write log 5783945084269984769 (index 220) to leader 2
term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 23546 term 34 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 209} {36488219526050623 34 210} {1364776022383768570 34 211} {6732766655532121617 34 212} {3327644865348638093 34 213} {562723976018395451 34 214} {9023819634608781356 34 215} {5821220765089147279 34 216} {9070125718794134321 34 217} {1736775992115211498 34 218} {3012497126025089210 34 219} {5783945084269984769 34 220}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 96123 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220}]
------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
!!!!!!connect server 0
client write log 568126647727440210 (index 221) to leader 2
term 34 server 2 not vote for server 0, 日志不够新
term 34 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 0 vote for server 2
term 36 server 2 get outdate rpc reply from server 0
flag 78372 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 82845 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 222->221
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 222->221
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 209  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 11847 term 36 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
flag 96802 term 36 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 30292 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75038 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 78931 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 30767 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 88833 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91998 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 1518 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 88166 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 60874 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 41353 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 62545 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82362 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 53004 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 40710 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 56137 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 14036 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 1444 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38081 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 36699 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 56485 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 55097 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 16207 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 99596 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26659 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 54716 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 85117 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 65830 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 87985 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 6967 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 425 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 51799 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
flag 3422 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 40594 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221}]
------------------------------------------------------
client write log 568126647727440210 (index 222) to leader 2
flag 99941 term 36 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
flag 49758 term 36 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
flag 26710 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 99226 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4052 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 61765 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
flag 51435 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 35787 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
flag 89885 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 436 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 89402 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 17773 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
flag 39172 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 56076 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 45508 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 59977 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32902 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 23434 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 43918 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 30215 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 37 server 1 vote for server 0
term 37 server 0 get vote from server 1
term 37 server 0 become leader
------------------------------------------------------
flag 55995 term 37 leader 0 nextIndex[1]: 223  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 31048 term 37 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222}]
------------------------------------------------------
client write log 4475047145553662428 (index 223) to leader 0
flag 17291 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 39249 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 19264 term 37 leader 0 nextIndex[1]: 223  matchIndex[1]: 222
term 37 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 96131 term 37 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222} {4475047145553662428 37 223}]
------------------------------------------------------
flag 76073 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 59039 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 46741 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 2832 term 37 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222} {4475047145553662428 37 223}]
------------------------------------------------------
client write log 6353083271562281488 (index 224) to leader 0
client write log 4934082867239864207 (index 225) to leader 0
client write log 4705897199520685930 (index 226) to leader 0
client write log 3949995334847950536 (index 227) to leader 0
client write log 5753948348198755425 (index 228) to leader 0
client write log 8840010865459094498 (index 229) to leader 0
client write log 7547035964675660754 (index 230) to leader 0
client write log 3330266749710440948 (index 231) to leader 0
client write log 1880564255433358150 (index 232) to leader 0
client write log 4725338701383816152 (index 233) to leader 0
flag 42764 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 18997 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 55208 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 37 leaderCommit: 223 
------------------------------------------------------
flag 79838 term 37 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 219} {5783945084269984769 34 220} {568126647727440210 34 221} {568126647727440210 36 222} {4475047145553662428 37 223} {6353083271562281488 37 224} {4934082867239864207 37 225} {4705897199520685930 37 226} {3949995334847950536 37 227} {5753948348198755425 37 228} {8840010865459094498 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 Server0 start snapshot! index=229
term 37 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=233
-------------------------------------------------------------
flag 89149 term 36 leader 2 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
flag 83871 term 36 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 36 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 223->222
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 223->222
------------------------------------------------------
flag 14473 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 Server1 start snapshot! index=229
term 37 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=233
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 222
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 0  matchIndex[1]: 222
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
!!!!!!connect server 2
client write log 5700143378554695573 (index 223) to leader 2
flag 85803 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 223  matchIndex[2]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 2 InstallSnapshot success
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 37 rf.commitIndex 229 rf.lastApplied 229
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80573 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 26513 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10690 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 35026 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 234->233
------------------------------------------------------
flag 29410 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 0  matchIndex[2]: 233
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 2 InstallSnapshot fail
rf.commitIndex 233 args.LastIncludedIndex 229
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 18547 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 55708 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 72678 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 59904 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 63363 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 20156 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 83476 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 86728 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97776 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 9539 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 73744 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 19942 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 2848 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 25868 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 63628 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 12471 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 46979 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 14947 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 234->233
------------------------------------------------------
flag 27169 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 0  matchIndex[2]: 233
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 2 InstallSnapshot fail
rf.commitIndex 233 args.LastIncludedIndex 229
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 69583 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 72272 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 89238 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 77708 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19688 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 65587 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 7417 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 1801 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 93218 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 89637 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
flag 171 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 63960 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233}]
------------------------------------------------------
client write log 5700143378554695573 (index 234) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56400 term 37 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
flag 32468 term 37 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 37 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 37 leaderCommit: 233 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
term 37 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18468 term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
flag 20105 term 37 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30684 term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
flag 48115 term 37 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
flag 87935 term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
flag 69279 term 37 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10549 term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
flag 5763 term 37 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
flag 93925 term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
flag 4762 term 37 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
flag 34323 term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
flag 26494 term 37 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3929645359322449721 (index 235) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6308 term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
flag 4022 term 37 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 234 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234} {3929645359322449721 37 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25396 term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 10391 term 37 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234} {3929645359322449721 37 235}]
------------------------------------------------------
client write log 6731817135242429803 (index 236) to leader 0
client write log 5541444766869712963 (index 237) to leader 0
client write log 2520501217608062377 (index 238) to leader 0
client write log 2603403360732983569 (index 239) to leader 0
client write log 2226005878463311384 (index 240) to leader 0
client write log 284799978252395533 (index 241) to leader 0
client write log 2940424438517073785 (index 242) to leader 0
client write log 5067243929324574834 (index 243) to leader 0
client write log 3966142000991181312 (index 244) to leader 0
client write log 2549574882574620033 (index 245) to leader 0
client write log 1113700502233169550 (index 246) to leader 0
client write log 6131599919569406916 (index 247) to leader 0
client write log 1860277657014372958 (index 248) to leader 0
client write log 4372583982848505820 (index 249) to leader 0
client write log 3212141972725868120 (index 250) to leader 0
flag 46837 term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 5340 term 37 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 37 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 37 229} {7547035964675660754 37 230} {3330266749710440948 37 231} {1880564255433358150 37 232} {4725338701383816152 37 233} {5700143378554695573 37 234} {3929645359322449721 37 235} {6731817135242429803 37 236} {5541444766869712963 37 237} {2520501217608062377 37 238} {2603403360732983569 37 239} {2226005878463311384 37 240} {284799978252395533 37 241} {2940424438517073785 37 242} {5067243929324574834 37 243} {3966142000991181312 37 244} {2549574882574620033 37 245} {1113700502233169550 37 246} {6131599919569406916 37 247} {1860277657014372958 37 248} {4372583982848505820 37 249} {3212141972725868120 37 250}]
------------------------------------------------------
term 37 Server0 start snapshot! index=239
term 37 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=250
-------------------------------------------------------------
term 37 Server0 start snapshot! index=249
term 37 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=250
-------------------------------------------------------------
term 37 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 63670 term 37 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 37 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250}]
------------------------------------------------------
term 37 Server2 start snapshot! index=239
term 37 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=250
-------------------------------------------------------------
term 37 Server2 start snapshot! index=249
term 37 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=250
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3829676777346872631 (index 251) to leader 0
term 37 server 2 not vote for server 1, 日志不够新
term 37 server 0 not vote for server 1, 日志不够新
term 39 server 2 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 0 become leader
------------------------------------------------------
term 39 server 1 vote for server 0
term 39 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71832 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 49680 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 252->251
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 252->251
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 235  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 8871 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 37 rf.commitIndex 249 rf.lastApplied 249
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 16989 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 16766 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3427 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 16718 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 96550 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 98442 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30461 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 22841 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 10830 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 99690 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 58314 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 7471 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 21274 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 76747 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 62440 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 66364 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69129 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 66614 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 89300 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 67800 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96966 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 92929 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 93813 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 23245 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 96165 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 73751 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12594 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 93188 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 2
flag 39312 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 64033 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 29106 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 54023 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 56246 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 36141 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
flag 91158 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 65623 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251}]
------------------------------------------------------
client write log 3829676777346872631 (index 252) to leader 0
flag 71281 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 34127 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
flag 39211 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
flag 64497 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
flag 83313 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
flag 91004 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15890 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
flag 13648 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
flag 93689 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
flag 15356 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
flag 71888 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
flag 92696 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59364 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
flag 44891 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1634666603771540942 (index 253) to leader 0
flag 1313 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
flag 99858 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252} {1634666603771540942 39 253}]
------------------------------------------------------
flag 28200 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 1858 term 39 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252} {1634666603771540942 39 253}]
------------------------------------------------------
client write log 370912334959397259 (index 254) to leader 0
client write log 988774219603537694 (index 255) to leader 0
client write log 1792576951263390508 (index 256) to leader 0
client write log 6049801954968631342 (index 257) to leader 0
client write log 3007539998175788447 (index 258) to leader 0
client write log 788793434749330213 (index 259) to leader 0
client write log 2181503400964000431 (index 260) to leader 0
client write log 1906618778972169795 (index 261) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6179 term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
flag 46323 term 39 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 39 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 37 249} {3212141972725868120 37 250} {3829676777346872631 37 251} {3829676777346872631 39 252} {1634666603771540942 39 253} {370912334959397259 39 254} {988774219603537694 39 255} {1792576951263390508 39 256} {6049801954968631342 39 257} {3007539998175788447 39 258} {788793434749330213 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261}]
------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=261
-------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 253  matchIndex[1]: 252
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 46360 term 39 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261}]
------------------------------------------------------
term 39 Server2 start snapshot! index=259
term 39 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=261
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3883714473112045533 (index 262) to leader 0
term 39 server 0 not vote for server 1, 日志不够新
term 39 server 2 not vote for server 1, 日志不够新
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 0 get outdate rpc reply from server 1
flag 6551 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 89390 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 263->262
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 263->262
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 253  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 89751 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 39 rf.commitIndex 259 rf.lastApplied 259
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 15383 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 27214 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 56989 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 99710 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 55153 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 21619 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 37471 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 52255 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 95647 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 75935 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 99315 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 67911 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 49756 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 86468 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 67785 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 35086 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 93732 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 71641 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 38174 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 49858 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 94850 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 58179 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 55233 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 16396 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 22140 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 34399 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94942 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 825 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 5646 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 96977 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 6326 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 17386 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33984 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 89590 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
flag 27950 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 31438 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262}]
------------------------------------------------------
client write log 3883714473112045533 (index 263) to leader 0
flag 87821 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
flag 77243 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
flag 19964 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 91547 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
flag 27273 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 43876 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
flag 52838 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 19421 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
flag 84499 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 79668 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50754 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 70342 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
flag 5286 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 26734 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 59539 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 94883 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 3033 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 11814 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 1102 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 92579 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
flag 21541 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 31514 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263}]
------------------------------------------------------
flag 19989 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 91454 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1481001276741351915 (index 264) to leader 2
flag 45387 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 43793 term 42 leader 2 nextIndex[1]: 264  matchIndex[1]: 263
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264}]
------------------------------------------------------
flag 63769 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 23663 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 70550 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 99873 term 42 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264}]
------------------------------------------------------
flag 58356 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 82262 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
client write log 1429534490502393869 (index 265) to leader 2
flag 84766 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 36200 term 42 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 42 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 264 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265}]
------------------------------------------------------
flag 41160 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 585 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 8710 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 73549 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265}]
------------------------------------------------------
flag 33912 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 41403 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
!!!!!!connect server 0
client write log 1757038804075777709 (index 266) to leader 2
flag 13734 term 42 leader 2 nextIndex[0]: 264  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 265 
------------------------------------------------------
flag 43090 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 65012 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 57624 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 42 server 2 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
term 42 server 1 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6736 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 48045 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18236 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 64598 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
flag 18327 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 72466 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33460 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 50251 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42237 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 78069 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2403396614012816392 (index 267) to leader 2
flag 8457 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 3643 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266} {2403396614012816392 42 267}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92626 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 37533 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266} {2403396614012816392 42 267}]
------------------------------------------------------
client write log 3702043647029364282 (index 268) to leader 2
client write log 7526590452418439992 (index 269) to leader 2
client write log 2729942560015974442 (index 270) to leader 2
client write log 1618175255132953224 (index 271) to leader 2
client write log 2833376034613875683 (index 272) to leader 2
client write log 3917834187613784071 (index 273) to leader 2
client write log 4017856692128643749 (index 274) to leader 2
client write log 1374243362911184168 (index 275) to leader 2
client write log 5396730715764699690 (index 276) to leader 2
client write log 3828167139970489276 (index 277) to leader 2
client write log 9144147687066390054 (index 278) to leader 2
flag 87650 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 97972 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 39 259} {2181503400964000431 39 260} {1906618778972169795 39 261} {3883714473112045533 39 262} {3883714473112045533 41 263} {1481001276741351915 42 264} {1429534490502393869 42 265} {1757038804075777709 42 266} {2403396614012816392 42 267} {3702043647029364282 42 268} {7526590452418439992 42 269} {2729942560015974442 42 270} {1618175255132953224 42 271} {2833376034613875683 42 272} {3917834187613784071 42 273} {4017856692128643749 42 274} {1374243362911184168 42 275} {5396730715764699690 42 276} {3828167139970489276 42 277} {9144147687066390054 42 278}]
------------------------------------------------------
term 42 Server2 start snapshot! index=269
term 42 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=278
-------------------------------------------------------------
term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 44811 term 42 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 42 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 42 269} {2729942560015974442 42 270} {1618175255132953224 42 271} {2833376034613875683 42 272} {3917834187613784071 42 273} {4017856692128643749 42 274} {1374243362911184168 42 275} {5396730715764699690 42 276} {3828167139970489276 42 277} {9144147687066390054 42 278}]
------------------------------------------------------
term 42 Server1 start snapshot! index=269
term 42 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=278
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3983994807520570511 (index 279) to leader 2
term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 17868 term 42 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 42 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 269} {2729942560015974442 42 270} {1618175255132953224 42 271} {2833376034613875683 42 272} {3917834187613784071 42 273} {4017856692128643749 42 274} {1374243362911184168 42 275} {5396730715764699690 42 276} {3828167139970489276 42 277} {9144147687066390054 42 278} {3983994807520570511 42 279}]
------------------------------------------------------
term 43 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 Server2 start snapshot! index=279
term 43 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
term 44 server 0 vote for server 2
term 44 server 2 get outdate rpc reply from server 0
flag 2427 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
flag 60469 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 279}]
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 280->279
------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 27020 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
term 44 server 0 InstallSnapshot success
------------------------------------------------------
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 279}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 42 rf.commitIndex 279 rf.lastApplied 279
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79256 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
flag 48828 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 279}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 279}]
------------------------------------------------------
flag 92061 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
flag 74384 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 279}]
------------------------------------------------------
flag 96813 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
flag 5323 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 279}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 279}]
------------------------------------------------------
term 44 server 1 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 1
flag 22093 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
flag 45718 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
term 44 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
[{snapshot 42 279}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 42 279}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7469801219937834647 (index 280) to leader 2
flag 67259 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
flag 12505 term 44 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 279 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {7469801219937834647 44 280}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64014 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 280 
------------------------------------------------------
flag 6815 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 42 279} {7469801219937834647 44 280}]
------------------------------------------------------
client write log 3692118215338783272 (index 281) to leader 2
client write log 5291257209466917712 (index 282) to leader 2
client write log 9216225028437172059 (index 283) to leader 2
client write log 1831347872695954212 (index 284) to leader 2
client write log 4732316973825495341 (index 285) to leader 2
client write log 4270036268966614678 (index 286) to leader 2
client write log 3260100165007703011 (index 287) to leader 2
client write log 4614925524970230443 (index 288) to leader 2
client write log 3907508549271629481 (index 289) to leader 2
client write log 2720752751877678166 (index 290) to leader 2
client write log 6610215363713657197 (index 291) to leader 2
client write log 6049484267255247530 (index 292) to leader 2
client write log 842202852082040330 (index 293) to leader 2
client write log 1540342604322110795 (index 294) to leader 2
flag 62860 term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 280 
------------------------------------------------------
flag 72514 term 44 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 44 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 44 leaderCommit: 280 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 42 279} {7469801219937834647 44 280} {3692118215338783272 44 281} {5291257209466917712 44 282} {9216225028437172059 44 283} {1831347872695954212 44 284} {4732316973825495341 44 285} {4270036268966614678 44 286} {3260100165007703011 44 287} {4614925524970230443 44 288} {3907508549271629481 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294}]
------------------------------------------------------
term 44 Server2 start snapshot! index=289
term 44 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=294
-------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 2639 term 44 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 44 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294}]
------------------------------------------------------
term 44 Server1 start snapshot! index=289
term 44 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=294
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8408735479594244765 (index 295) to leader 2
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get outdate rpc reply from server 0
flag 59972 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 61089 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 296->295
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 296->295
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 57900 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 44 rf.commitIndex 289 rf.lastApplied 289
flag 46064 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 98317 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 55936 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 4424 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 12729 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 97393 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18013 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 48447 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78721 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 60795 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90983 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 99631 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 90192 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 20202 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 75515 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 27339 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16337 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 48355 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 52089 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 88460 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57774 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 23379 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 38156 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 97303 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55631 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 56447 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 6819 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 4707 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 61860 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 53595 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91198 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 88927 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 28166 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 30239 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
flag 5553 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 68421 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295}]
------------------------------------------------------
client write log 8408735479594244765 (index 296) to leader 2
flag 45207 term 46 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
flag 49277 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36223 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 11105 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
flag 20477 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 95732 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
flag 2963 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 11022 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94469 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 19154 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27531 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 73854 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
!!!!!!diconnect server 2
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92641 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 15357 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28815 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 8347 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 7659 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 42035 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64340 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 14042 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 47 server 1 vote for server 0
term 47 server 0 get vote from server 1
term 47 server 0 become leader
------------------------------------------------------
flag 13500 term 47 leader 0 nextIndex[1]: 297  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 49711 term 47 leader 0 nextIndex[2]: 297  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296}]
------------------------------------------------------
client write log 6122836443630339463 (index 297) to leader 0
flag 41508 term 46 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 89667 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 19256 term 47 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 47 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 65929 term 47 leader 0 nextIndex[2]: 297  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296} {6122836443630339463 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 297->296
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 296
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 341 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 49355 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 26797 term 47 leader 0 nextIndex[2]: 297  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296} {6122836443630339463 47 297}]
------------------------------------------------------
client write log 363775147802716976 (index 298) to leader 0
client write log 6516529276819057197 (index 299) to leader 0
client write log 3410734808617941115 (index 300) to leader 0
client write log 7452024044819495621 (index 301) to leader 0
client write log 3400446887222851103 (index 302) to leader 0
client write log 3927639719263004741 (index 303) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 297->296
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 296
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 296
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 64005 term 47 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 47 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 297 
------------------------------------------------------
flag 91030 term 47 leader 0 nextIndex[2]: 297  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 44 289} {2720752751877678166 44 290} {6610215363713657197 44 291} {6049484267255247530 44 292} {842202852082040330 44 293} {1540342604322110795 44 294} {8408735479594244765 44 295} {8408735479594244765 46 296} {6122836443630339463 47 297} {363775147802716976 47 298} {6516529276819057197 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 47 Server0 start snapshot! index=299
term 47 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=303
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 296
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 296
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 77690 term 47 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 47 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 297  matchIndex[2]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 47 Server1 start snapshot! index=299
term 47 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=303
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7283132049886688903 (index 297) to leader 2
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 296
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 296
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39929 term 47 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 47 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 297  matchIndex[2]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
term 47 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
rf.lastIncludedIndex 299 rf.lastIncludedTerm 47 rf.commitIndex 299 rf.lastApplied 299
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 0 not vote for server 2, 日志不够新
term 49 server 2 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 0 become leader
------------------------------------------------------
term 49 server 1 vote for server 0
term 49 server 0 get outdate rpc reply from server 1
flag 89312 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 34826 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 304->303
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 0 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 0
flag 36529 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 89717 term 49 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 18606 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 53 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20410 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 61940 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54251 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 90677 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 63999 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 145 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 19607 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 99495 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23976 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 62264 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 5443 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 25042 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58546 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 21457 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 22316 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 79108 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 25422 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 80586 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 28269 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 83044 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14647 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 98458 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19232 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 2709 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7341 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 14039 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 94578 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 4653 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 38835 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 13613 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
flag 82881 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 42460 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7283132049886688903 (index 304) to leader 0
flag 42956 term 49 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
flag 24614 term 49 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 49 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 47 leaderCommit: 303 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3884 term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
flag 16429 term 49 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37342 term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
flag 92044 term 49 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
flag 33070 term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
flag 19646 term 49 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
term 49 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
flag 29964 term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
flag 95322 term 49 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
flag 47750 term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
flag 45199 term 49 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
flag 43002 term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
flag 66112 term 49 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3466415776129540464 (index 305) to leader 0
flag 40044 term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
flag 84015 term 49 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 304 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304} {3466415776129540464 49 305}]
------------------------------------------------------
flag 61023 term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 18176 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304} {3466415776129540464 49 305}]
------------------------------------------------------
client write log 4076343115078617783 (index 306) to leader 0
client write log 8944236003594954562 (index 307) to leader 0
client write log 7881834606813243416 (index 308) to leader 0
client write log 5162021803674250289 (index 309) to leader 0
client write log 8009628191967200190 (index 310) to leader 0
client write log 5825642502191761067 (index 311) to leader 0
client write log 2440147434936269892 (index 312) to leader 0
client write log 6211450563135569787 (index 313) to leader 0
client write log 3100733897712366019 (index 314) to leader 0
client write log 7819352429613816721 (index 315) to leader 0
client write log 126031875407661053 (index 316) to leader 0
client write log 5015834429965173653 (index 317) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52900 term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
flag 99562 term 49 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 49 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 49 leaderCommit: 305 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 47 299} {3410734808617941115 47 300} {7452024044819495621 47 301} {3400446887222851103 47 302} {3927639719263004741 47 303} {7283132049886688903 49 304} {3466415776129540464 49 305} {4076343115078617783 49 306} {8944236003594954562 49 307} {7881834606813243416 49 308} {5162021803674250289 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317}]
------------------------------------------------------
term 49 Server0 start snapshot! index=309
term 49 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=317
-------------------------------------------------------------
term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 85113 term 49 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 49 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 49 leaderCommit: 317 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317}]
------------------------------------------------------
term 49 Server2 start snapshot! index=309
term 49 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=317
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6854630120111020185 (index 318) to leader 0
term 49 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 79499 term 49 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 49 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 49 leaderCommit: 317 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
term 50 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 2 vote for server 0
term 51 server 0 get vote from server 2
term 51 server 0 become leader
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get outdate rpc reply from server 1
flag 2100 term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
flag 16563 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 319->318
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 305  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 8599 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 49 rf.commitIndex 309 rf.lastApplied 309
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 3844 term 51 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 51 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
flag 80474 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
flag 80368 term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
flag 63620 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
flag 56577 term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
flag 3601 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35390 term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
flag 18974 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:318 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
flag 69608 term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
flag 99667 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
flag 1885 term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
flag 38818 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
flag 25090 term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
flag 87843 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6888245941268519518 (index 319) to leader 0
flag 54109 term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
flag 82387 term 51 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 49 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 49 309} {8009628191967200190 49 310} {5825642502191761067 49 311} {2440147434936269892 49 312} {6211450563135569787 49 313} {3100733897712366019 49 314} {7819352429613816721 49 315} {126031875407661053 49 316} {5015834429965173653 49 317} {6854630120111020185 49 318} {6888245941268519518 51 319}]
------------------------------------------------------
term 51 Server0 start snapshot! index=319
term 51 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 92428 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
term 51 Server2 start snapshot! index=319
term 51 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
client write log 7902577439516113183 (index 320) to leader 0
client write log 5222872177526979121 (index 321) to leader 0
client write log 2110143013221803746 (index 322) to leader 0
client write log 3692771919567958376 (index 323) to leader 0
client write log 1635271690331401068 (index 324) to leader 0
client write log 8439966993777937706 (index 325) to leader 0
client write log 4587779745777209148 (index 326) to leader 0
client write log 3794655699193718914 (index 327) to leader 0
client write log 6399794369396358717 (index 328) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 68955 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328}]
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 59771 term 51 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 51 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5991565194798132805 (index 329) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 0 not vote for server 1, 日志不够新
term 51 server 2 not vote for server 1, 日志不够新
term 53 server 2 vote for server 0
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 0 get outdate rpc reply from server 1
flag 78884 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 79599 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 330->329
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 330->329
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 33718 term 53 leader 0 nextIndex[2]: 329  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28193 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 34757 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 28177 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 55450 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89056 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 57935 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 82607 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 43090 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28563 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 76985 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 23607 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 58857 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 33488 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 66780 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25193 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 39125 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 2 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43109 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 53192 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 48289 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 70186 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16136 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 17652 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62166 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 44757 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 450 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 40112 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 2 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 2
flag 43998 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 74216 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 53750 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 6572 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 10545 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 96566 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 44559 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 69838 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
flag 96339 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 70604 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329}]
------------------------------------------------------
client write log 5991565194798132805 (index 330) to leader 0
flag 72914 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 36648 term 53 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 319} {7902577439516113183 51 320} {5222872177526979121 51 321} {2110143013221803746 51 322} {3692771919567958376 51 323} {1635271690331401068 51 324} {8439966993777937706 51 325} {4587779745777209148 51 326} {3794655699193718914 51 327} {6399794369396358717 51 328} {5991565194798132805 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
term 53 Server0 start snapshot! index=329
term 53 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61993 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 93628 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
term 53 Server1 start snapshot! index=329
term 53 Server2 start snapshot! index=329
term 53 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
term 53 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
flag 47729 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 71617 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
flag 781 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 1015 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20747 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 23544 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
flag 57947 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 33839 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
flag 11344 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 52973 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5991565194798132805 53 330}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 98951 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 66139 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 47732 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 82056 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 6018 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 88385 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 1 become leader
------------------------------------------------------
client write log 572836008808292665 (index 331) to leader 1
flag 30319 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 28217 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {5991565194798132805 53 330} {572836008808292665 54 331}]
------------------------------------------------------
flag 37242 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 90660 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 197 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 331 
------------------------------------------------------
flag 26093 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 331 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {5991565194798132805 53 330} {572836008808292665 54 331}]
------------------------------------------------------
flag 50062 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 16529 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
client write log 1189544689938013392 (index 332) to leader 1
client write log 4119931094265163730 (index 333) to leader 1
client write log 4548341820861779700 (index 334) to leader 1
client write log 7112189173430245830 (index 335) to leader 1
client write log 4367459897918459859 (index 336) to leader 1
client write log 8289318339990142248 (index 337) to leader 1
client write log 2169301777459241442 (index 338) to leader 1
client write log 3327320046348518746 (index 339) to leader 1
client write log 2818280175093119929 (index 340) to leader 1
client write log 6832609872915482805 (index 341) to leader 1
client write log 731844477186927934 (index 342) to leader 1
client write log 7830255037233558610 (index 343) to leader 1
client write log 2904403379520050023 (index 344) to leader 1
flag 31803 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 331 
------------------------------------------------------
flag 18194 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 331 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 51 329} {5991565194798132805 53 330} {572836008808292665 54 331} {1189544689938013392 54 332} {4119931094265163730 54 333} {4548341820861779700 54 334} {7112189173430245830 54 335} {4367459897918459859 54 336} {8289318339990142248 54 337} {2169301777459241442 54 338} {3327320046348518746 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344}]
------------------------------------------------------
term 54 Server1 start snapshot! index=339
term 54 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=344
-------------------------------------------------------------
flag 12856 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 77948 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 2915 term 54 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 54 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344}]
------------------------------------------------------
term 54 Server2 start snapshot! index=339
term 54 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
flag 7062 term 53 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 75269 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
!!!!!!connect server 0
client write log 1226550490059362211 (index 345) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 331->330
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 331->330
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 52983 term 54 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 54 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 54 rf.commitIndex 339 rf.lastApplied 339
flag 82725 term 54 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 54 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
flag 70928 term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72937 term 54 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
flag 66838 term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
flag 76847 term 54 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
flag 57406 term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
flag 95300 term 54 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
flag 78830 term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
flag 42682 term 54 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
flag 6534 term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 346->345
------------------------------------------------------
term 54 leader 1 nextIndex[0]: 0  matchIndex[0]: 345
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 91345 term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345}]
------------------------------------------------------
term 54 server 0 InstallSnapshot fail
rf.commitIndex 345 args.LastIncludedIndex 339
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 844626256646326516 (index 346) to leader 1
flag 13792 term 54 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 54 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
flag 81584 term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 345 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345} {844626256646326516 54 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93333 term 54 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 54 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 85079 term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345} {844626256646326516 54 346}]
------------------------------------------------------
client write log 1969621217525843313 (index 347) to leader 1
client write log 8466651684502477915 (index 348) to leader 1
client write log 221672784149447575 (index 349) to leader 1
client write log 3445078317461780693 (index 350) to leader 1
client write log 7482425984893192663 (index 351) to leader 1
client write log 4655360009278888655 (index 352) to leader 1
flag 21986 term 54 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 54 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 3088 term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 54 339} {2818280175093119929 54 340} {6832609872915482805 54 341} {731844477186927934 54 342} {7830255037233558610 54 343} {2904403379520050023 54 344} {1226550490059362211 54 345} {844626256646326516 54 346} {1969621217525843313 54 347} {8466651684502477915 54 348} {221672784149447575 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352}]
------------------------------------------------------
term 54 Server1 start snapshot! index=349
term 54 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=352
-------------------------------------------------------------
flag 7926 term 54 leader 1 nextIndex[0]: 353  matchIndex[0]: 352
term 54 leader 1 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352}]
------------------------------------------------------
term 54 Server0 start snapshot! index=349
term 54 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=352
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6036319106669457676 (index 353) to leader 1
term 54 server 1 not vote for server 2, 日志不够新
term 54 server 0 not vote for server 2, 日志不够新
term 56 server 2 vote for server 1
term 56 server 0 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 1 get outdate rpc reply from server 0
flag 43226 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 90680 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 354->353
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 354->353
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40167 term 56 leader 1 nextIndex[0]: 353  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 346  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 54
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 54 rf.commitIndex 349 rf.lastApplied 349
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37846 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 67039 term 56 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 56 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 75992 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 21708 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96719 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 99453 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22659 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 87121 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29110 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 18337 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 48703 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 64213 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71028 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 58660 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 54012 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 19583 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 23346 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 31423 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 62698 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 4976 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 53290 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 37424 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85843 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 98447 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86978 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 3352 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 63488 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 46296 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 48588 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 12780 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 96838 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 63501 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
flag 86690 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 59940 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=352
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353}]
------------------------------------------------------
client write log 6036319106669457676 (index 354) to leader 1
flag 65338 term 56 leader 1 nextIndex[0]: 354  matchIndex[0]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
flag 27556 term 56 leader 1 nextIndex[2]: 354  matchIndex[2]: 353
term 56 leader 1 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 352 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
term 56 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
flag 5250 term 56 leader 1 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 90891 term 56 leader 1 nextIndex[2]: 355  matchIndex[2]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
flag 95946 term 56 leader 1 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 30746 term 56 leader 1 nextIndex[2]: 355  matchIndex[2]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
flag 85145 term 56 leader 1 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 4669 term 56 leader 1 nextIndex[2]: 355  matchIndex[2]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
flag 98212 term 56 leader 1 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 84513 term 56 leader 1 nextIndex[2]: 355  matchIndex[2]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
flag 50014 term 56 leader 1 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 9625 term 56 leader 1 nextIndex[2]: 355  matchIndex[2]: 354
term 56 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 54 349} {3445078317461780693 54 350} {7482425984893192663 54 351} {4655360009278888655 54 352} {6036319106669457676 54 353} {6036319106669457676 56 354}]
------------------------------------------------------
  ... Passed --  80.3  3 1824  786549  354
--- PASS: TestSnapshotInstall2D (80.34s)
PASS
