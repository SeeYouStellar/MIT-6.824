=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 37349 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 56145 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 4139495343121443767 (index 1) to leader 0
flag 98883 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 65748 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
flag 80388 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98751 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
flag 76008 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 60044 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
flag 20612 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45314 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
flag 95024 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98499 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
flag 76064 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 42296 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4139495343121443767 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5549904738950942329 (index 2) to leader 0
flag 74320 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 77537 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4139495343121443767 1 1} {5549904738950942329 1 2}]
------------------------------------------------------
flag 73732 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 20853 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4139495343121443767 1 1} {5549904738950942329 1 2}]
------------------------------------------------------
client write log 6636390117138993696 (index 3) to leader 0
client write log 361762417157562713 (index 4) to leader 0
client write log 7533365989620630115 (index 5) to leader 0
client write log 7282961506818347701 (index 6) to leader 0
client write log 7840801337332573926 (index 7) to leader 0
client write log 3803857193505602757 (index 8) to leader 0
client write log 8154131900183842436 (index 9) to leader 0
client write log 8687988571161316416 (index 10) to leader 0
flag 29690 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 67719 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {4139495343121443767 1 1} {5549904738950942329 1 2} {6636390117138993696 1 3} {361762417157562713 1 4} {7533365989620630115 1 5} {7282961506818347701 1 6} {7840801337332573926 1 7} {3803857193505602757 1 8} {8154131900183842436 1 9} {8687988571161316416 1 10}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 20007 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {8687988571161316416 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7453757477798832754 (index 11) to leader 0
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 57530 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 2 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 1 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 79265 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 66174 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 84648 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 83566 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 17195 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
flag 34418 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 44873 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 server 2 not vote for server 1, 任期不够新
term 3 server 1 get outdate rpc reply from server 2
flag 5722 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 65266 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92950 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 46466 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
flag 74423 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 732 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
flag 86527 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 29710 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
flag 58672 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 21603 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 25597 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 55824 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 38636 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 57171 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 60681 term 3 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 45191 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
flag 52785 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 36814 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 43038 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
client write log 1329246612368174491 (index 12) to leader 2
flag 23227 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 68945 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 58417 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 44806 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 42394 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12}]
------------------------------------------------------
client write log 3328988541708094421 (index 13) to leader 2
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 44821 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 96436 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 35157 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13}]
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 68986 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 64876 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 96645 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8109924539432379605 (index 14) to leader 2
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 61658 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24938 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 78204 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
flag 61730 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 33104 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
flag 14888 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 28789 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90572 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 61483 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
flag 6164 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 62272 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
flag 57402 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 43307 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
flag 67029 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 1192 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8675354387893605997 (index 15) to leader 2
flag 31670 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 21636 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14} {8675354387893605997 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81305 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 7538 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14} {8675354387893605997 4 15}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6122103358878734609 (index 16) to leader 2
client write log 7505668679523016614 (index 17) to leader 2
client write log 792333030213793098 (index 18) to leader 2
client write log 8042058529053180563 (index 19) to leader 2
client write log 1720488506196125298 (index 20) to leader 2
client write log 8324483556953140018 (index 21) to leader 2
client write log 1561857246408909283 (index 22) to leader 2
client write log 5474758364902649990 (index 23) to leader 2
client write log 6958853442345774883 (index 24) to leader 2
client write log 6908147400398030682 (index 25) to leader 2
client write log 1951677570558483712 (index 26) to leader 2
client write log 2295589231986275210 (index 27) to leader 2
client write log 2391890753234775776 (index 28) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66807 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 57632 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 1 9} {8687988571161316416 1 10} {7453757477798832754 1 11} {1329246612368174491 4 12} {3328988541708094421 4 13} {8109924539432379605 4 14} {8675354387893605997 4 15} {6122103358878734609 4 16} {7505668679523016614 4 17} {792333030213793098 4 18} {8042058529053180563 4 19} {1720488506196125298 4 20} {8324483556953140018 4 21} {1561857246408909283 4 22} {5474758364902649990 4 23} {6958853442345774883 4 24} {6908147400398030682 4 25} {1951677570558483712 4 26} {2295589231986275210 4 27} {2391890753234775776 4 28}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=28
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 95590 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1720488506196125298 4 20} {8324483556953140018 4 21} {1561857246408909283 4 22} {5474758364902649990 4 23} {6958853442345774883 4 24} {6908147400398030682 4 25} {1951677570558483712 4 26} {2295589231986275210 4 27} {2391890753234775776 4 28}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=28
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2702874626970620179 (index 29) to leader 2
term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 27888 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {1720488506196125298 4 20} {8324483556953140018 4 21} {1561857246408909283 4 22} {5474758364902649990 4 23} {6958853442345774883 4 24} {6908147400398030682 4 25} {1951677570558483712 4 26} {2295589231986275210 4 27} {2391890753234775776 4 28} {2702874626970620179 4 29}]
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 5 Server2 start snapshot! index=29
term 5 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 16591 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 60684 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 30->29
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 15  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 36309 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
flag 20058 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 64556 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85038 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 10764 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74265 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 41749 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5774 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 65819 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 36697 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 45191 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 0
client write log 5586628345636042962 (index 30) to leader 2
flag 10527 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 60832 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5586628345636042962 6 30}]
------------------------------------------------------
flag 8052 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 2886 term 6 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {5586628345636042962 6 30}]
------------------------------------------------------
client write log 2663178785191441236 (index 31) to leader 2
client write log 165919661445064699 (index 32) to leader 2
client write log 3923780773759558758 (index 33) to leader 2
client write log 4282384554289465927 (index 34) to leader 2
client write log 3943427424960526222 (index 35) to leader 2
client write log 3074953705995789496 (index 36) to leader 2
client write log 831485713597264927 (index 37) to leader 2
client write log 3484943744312924219 (index 38) to leader 2
client write log 3524929409397988574 (index 39) to leader 2
client write log 3912363689265916268 (index 40) to leader 2
client write log 18146487684898477 (index 41) to leader 2
client write log 305083058619151740 (index 42) to leader 2
client write log 696651203919630849 (index 43) to leader 2
client write log 4960418039063066428 (index 44) to leader 2
client write log 3993686954001190844 (index 45) to leader 2
flag 66034 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 94732 term 6 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 29} {5586628345636042962 6 30} {2663178785191441236 6 31} {165919661445064699 6 32} {3923780773759558758 6 33} {4282384554289465927 6 34} {3943427424960526222 6 35} {3074953705995789496 6 36} {831485713597264927 6 37} {3484943744312924219 6 38} {3524929409397988574 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=45
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 44542 term 6 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=45
-------------------------------------------------------------
!!!!!!connect server 0
client write log 761369796029686204 (index 46) to leader 2
term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 31240 term 6 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
term 7 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 0 vote for server 2
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 43004 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 93247 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 47->46
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 13711 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
flag 16491 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 64298 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
flag 51594 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 14935 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54387 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 67300 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
flag 79294 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 95571 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
flag 33586 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 57060 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
flag 76021 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 72835 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 86163 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 69849 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99555 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 50742 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 47->46
------------------------------------------------------
flag 29086 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
client write log 5502550616251977982 (index 47) to leader 0
flag 11606 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 87707 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46} {5502550616251977982 9 47}]
------------------------------------------------------
flag 87209 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 10113 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 82725 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46} {5502550616251977982 9 47}]
------------------------------------------------------
flag 78375 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
client write log 3487334310622795512 (index 48) to leader 0
client write log 2533415568823143096 (index 49) to leader 0
client write log 8653161650805829031 (index 50) to leader 0
client write log 6426737278628127585 (index 51) to leader 0
client write log 3226794481832367235 (index 52) to leader 0
client write log 2353882221826932401 (index 53) to leader 0
client write log 5052305620162159042 (index 54) to leader 0
client write log 5779930049315707203 (index 55) to leader 0
client write log 8145750113315517831 (index 56) to leader 0
client write log 2025982726992008597 (index 57) to leader 0
client write log 1267029153920965255 (index 58) to leader 0
flag 86521 term 9 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 63579 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 39} {3912363689265916268 6 40} {18146487684898477 6 41} {305083058619151740 6 42} {696651203919630849 6 43} {4960418039063066428 6 44} {3993686954001190844 6 45} {761369796029686204 6 46} {5502550616251977982 9 47} {3487334310622795512 9 48} {2533415568823143096 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=58
-------------------------------------------------------------
flag 66023 term 8 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
flag 4756 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 47->46
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 46
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 54393 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=58
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5305299095293276831 (index 47) to leader 2
term 8 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
flag 7540 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 10641 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 26944 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 0 not vote for server 1, 任期不够新
term 9 server 1 get outdate rpc reply from server 0
flag 87970 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 53220 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 1514 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 69813 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98490 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 59475 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3851 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 99053 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57997 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 48864 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38684 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 7409 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 76665 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 4440 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 23181 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 58877 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 20926 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 5306 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 54434 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 71898 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 5718 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 94776 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 47652 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 75145 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86574 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 61848 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15049 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 63986 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 18559 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 30530 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
flag 36989 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 46641 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
flag 81567 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 60829 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 59->58
------------------------------------------------------
flag 87452 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 58
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 58 args.LastIncludedIndex 49
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58}]
------------------------------------------------------
client write log 5305299095293276831 (index 59) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6933 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 61631 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58} {5305299095293276831 9 59}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {8653161650805829031 9 50} {6426737278628127585 9 51} {3226794481832367235 9 52} {2353882221826932401 9 53} {5052305620162159042 9 54} {5779930049315707203 9 55} {8145750113315517831 9 56} {2025982726992008597 9 57} {1267029153920965255 9 58} {5305299095293276831 9 59}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 2
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25646 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 14281 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 87086 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 43322 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
flag 44410 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 35573 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
flag 25191 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 96186 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11699 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 60412 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 444206058393788871 (index 60) to leader 0
flag 92034 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
flag 16913 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {444206058393788871 9 60}]
------------------------------------------------------
flag 91296 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 75862 term 9 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {444206058393788871 9 60}]
------------------------------------------------------
client write log 918889503744409113 (index 61) to leader 0
client write log 476313129800073958 (index 62) to leader 0
client write log 994188816223681837 (index 63) to leader 0
client write log 7912972062672822712 (index 64) to leader 0
client write log 249239316409281902 (index 65) to leader 0
client write log 7306929922454420083 (index 66) to leader 0
client write log 7911358185019406314 (index 67) to leader 0
flag 51696 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 36173 term 9 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67}]
------------------------------------------------------
flag 78630 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 15603 term 9 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 9 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6315114011462111847 (index 68) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 84349 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 89864 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 69->68
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 69->68
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 634 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 18797 term 11 leader 0 nextIndex[2]: 68  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 38475 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 26823 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 86572 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 92412 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81593 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 82392 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75277 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 68714 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
flag 70491 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 65760 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70968 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 82862 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54191 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 46330 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39248 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 11491 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 85787 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 3137 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 6815 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 65424 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 83633 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 39950 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 37506 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 21927 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 97271 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 53083 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 12543 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 47300 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79238 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 91564 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 94803 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 31923 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 90782 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 19433 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
flag 31323 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 38401 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68}]
------------------------------------------------------
client write log 6315114011462111847 (index 69) to leader 0
flag 27941 term 11 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 74146 term 11 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68} {6315114011462111847 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {444206058393788871 9 60} {918889503744409113 9 61} {476313129800073958 9 62} {994188816223681837 9 63} {7912972062672822712 9 64} {249239316409281902 9 65} {7306929922454420083 9 66} {7911358185019406314 9 67} {6315114011462111847 9 68} {6315114011462111847 11 69}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 66885 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 24931 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 55354 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 21395 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 56881 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 15411 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 76683 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 55743 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 10357 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 29038 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 63218 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 57656 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1294158216284546148 (index 70) to leader 0
flag 44611 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 92934 term 11 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {1294158216284546148 11 70}]
------------------------------------------------------
flag 81686 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 28524 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {1294158216284546148 11 70}]
------------------------------------------------------
client write log 1691822317145834872 (index 71) to leader 0
client write log 4530934548021120927 (index 72) to leader 0
client write log 7903786960777874730 (index 73) to leader 0
client write log 7547141827841408671 (index 74) to leader 0
client write log 4071795309831650136 (index 75) to leader 0
client write log 1064261541848967441 (index 76) to leader 0
client write log 7467112203964683525 (index 77) to leader 0
client write log 1174644771096826395 (index 78) to leader 0
client write log 9038360851590503712 (index 79) to leader 0
client write log 8175071736106542283 (index 80) to leader 0
client write log 7664783196968336121 (index 81) to leader 0
client write log 4891708134054421539 (index 82) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21006 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 25783 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 69} {1294158216284546148 11 70} {1691822317145834872 11 71} {4530934548021120927 11 72} {7903786960777874730 11 73} {7547141827841408671 11 74} {4071795309831650136 11 75} {1064261541848967441 11 76} {7467112203964683525 11 77} {1174644771096826395 11 78} {9038360851590503712 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82}]
------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 74168 term 11 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 11 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7043757371827006792 (index 83) to leader 0
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 8061 term 11 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 11 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 82 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 1 vote for server 0
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 23069 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 91019 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 24137 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
flag 29027 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 38606 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
flag 79440 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 10086 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
flag 57365 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 88417 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
flag 10787 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 7438 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
flag 29804 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 94389 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91497 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 44428 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
term 13 server 2 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 2
flag 77873 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 10731 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 51674 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 59609 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 70066 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 3735 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 61868 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 19829 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 80501 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 60098 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
flag 63632 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 28680 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83}]
------------------------------------------------------
client write log 744496560552253152 (index 84) to leader 1
flag 64281 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 94600 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 45126 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 15399 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83} {744496560552253152 14 84}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54139 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 48700 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 85086 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 54042 term 14 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83} {744496560552253152 14 84}]
------------------------------------------------------
client write log 2561662533096605843 (index 85) to leader 1
client write log 4085816251507671459 (index 86) to leader 1
client write log 5352044329005396106 (index 87) to leader 1
client write log 2730129757328607710 (index 88) to leader 1
client write log 6634071439254603415 (index 89) to leader 1
client write log 304748756748834229 (index 90) to leader 1
client write log 4340404636805552282 (index 91) to leader 1
client write log 2090409322253990526 (index 92) to leader 1
flag 22005 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 42469 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 28104 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 83451 term 14 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 14 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 11 79} {8175071736106542283 11 80} {7664783196968336121 11 81} {4891708134054421539 11 82} {7043757371827006792 11 83} {744496560552253152 14 84} {2561662533096605843 14 85} {4085816251507671459 14 86} {5352044329005396106 14 87} {2730129757328607710 14 88} {6634071439254603415 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=92
-------------------------------------------------------------
flag 46857 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 86583 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 27465 term 14 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 14 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=92
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5069512280302781492 (index 93) to leader 1
flag 55351 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 36671 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 77665 term 14 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 14 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
flag 695 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 6233 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
flag 31834 term 14 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 11847 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
flag 81314 term 14 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 54717 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77087 term 14 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 90905 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
flag 40723 term 14 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 4897 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44008 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 32416 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4303994573997312147 (index 94) to leader 1
flag 36313 term 14 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 13487 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93} {4303994573997312147 14 94}]
------------------------------------------------------
flag 48459 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 90981 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93} {4303994573997312147 14 94}]
------------------------------------------------------
client write log 3796140173408299978 (index 95) to leader 1
client write log 7441156957026234173 (index 96) to leader 1
client write log 3371136823963238077 (index 97) to leader 1
client write log 6691339203784877301 (index 98) to leader 1
client write log 5712857751369370101 (index 99) to leader 1
client write log 7096019701645936158 (index 100) to leader 1
client write log 7069751047818067279 (index 101) to leader 1
client write log 2497191609765467002 (index 102) to leader 1
client write log 317040372413783573 (index 103) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22012 term 14 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 18719 term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 89} {304748756748834229 14 90} {4340404636805552282 14 91} {2090409322253990526 14 92} {5069512280302781492 14 93} {4303994573997312147 14 94} {3796140173408299978 14 95} {7441156957026234173 14 96} {3371136823963238077 14 97} {6691339203784877301 14 98} {5712857751369370101 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103}]
------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=103
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 104->103
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 103
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
flag 90684 term 14 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6793983360540344231 (index 104) to leader 1
flag 12709 term 14 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 14 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get outdate rpc reply from server 0
flag 91552 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 15176 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 105->104
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 31296 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30498 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 5211 term 16 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 55186 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 55891 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 34857 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 79170 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 90354 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 15423 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 38894 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 99854 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 5816 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 79537 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34494 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 59010 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18330 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 54574 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 601 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 94356 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 64915 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 35885 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 25953 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 74183 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
flag 64846 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 53363 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 33567 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 40988 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 93068 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 93060 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 82969 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 43904 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 82228 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 35235 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
flag 14830 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 24175 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104}]
------------------------------------------------------
client write log 6793983360540344231 (index 105) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33920 term 16 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 11839 term 16 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
flag 2436 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 48786 term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
flag 3021 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 78172 term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
flag 38662 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 65815 term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91745 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 93084 term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
flag 72619 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 93811 term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
flag 33858 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 77335 term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7186784720353461246 (index 106) to leader 1
flag 53681 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 17589 term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105} {7186784720353461246 16 106}]
------------------------------------------------------
flag 77183 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
flag 2573 term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105} {7186784720353461246 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5689956020163256962 (index 107) to leader 1
client write log 4500865203264575084 (index 108) to leader 1
client write log 4750021205624126344 (index 109) to leader 1
client write log 5972624915418053445 (index 110) to leader 1
client write log 8100498510331342739 (index 111) to leader 1
client write log 338104210234289980 (index 112) to leader 1
client write log 904452670895176106 (index 113) to leader 1
client write log 4527578209006874715 (index 114) to leader 1
client write log 3750228627307673358 (index 115) to leader 1
client write log 4435708961824124861 (index 116) to leader 1
client write log 2064558470782283498 (index 117) to leader 1
client write log 6047897052798071407 (index 118) to leader 1
client write log 1899815835631987478 (index 119) to leader 1
client write log 4664825606550559699 (index 120) to leader 1
flag 5050 term 16 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 16 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
flag 79091 term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 14 99} {7096019701645936158 14 100} {7069751047818067279 14 101} {2497191609765467002 14 102} {317040372413783573 14 103} {6793983360540344231 14 104} {6793983360540344231 16 105} {7186784720353461246 16 106} {5689956020163256962 16 107} {4500865203264575084 16 108} {4750021205624126344 16 109} {5972624915418053445 16 110} {8100498510331342739 16 111} {338104210234289980 16 112} {904452670895176106 16 113} {4527578209006874715 16 114} {3750228627307673358 16 115} {4435708961824124861 16 116} {2064558470782283498 16 117} {6047897052798071407 16 118} {1899815835631987478 16 119} {4664825606550559699 16 120}]
------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=120
-------------------------------------------------------------
term 16 Server1 start snapshot! index=119
term 16 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35367 term 16 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 16 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4664825606550559699 16 120}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=120
-------------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6325067725436346720 (index 121) to leader 1
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 51002 term 16 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 16 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 106  matchIndex[2]: 105
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 83243 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 4442 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 122->121
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
flag 73279 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 106  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78926 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 66995 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 1 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 1
flag 80620 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 27523 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67224 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 72745 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
flag 71172 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 78004 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
flag 91225 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 62197 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
flag 98346 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 25945 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 60745 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 9632 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35328 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 61861 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 57354 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 83576 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
flag 35109 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 46087 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121}]
------------------------------------------------------
client write log 8340929366378808349 (index 122) to leader 0
flag 30926 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 43003 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 61767 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 50306 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59522 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 66199 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 26058 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 122 
------------------------------------------------------
flag 69057 term 19 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122}]
------------------------------------------------------
flag 72442 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 22124 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
client write log 2850633251012486246 (index 123) to leader 0
flag 96363 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 122 
------------------------------------------------------
flag 35055 term 19 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 19 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 11998 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 21435 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 94065 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 67890 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 25576 term 18 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 93245 term 18 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 7156228463201582001 (index 122) to leader 1
flag 51997 term 19 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 36772 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68192 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 32980 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 not vote for server 0, 日志不够新
term 19 server 0 get outdate rpc reply from server 1
flag 58779 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 77628 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95915 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 12110 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15542 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 4080 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77623 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 25893 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9204 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 56547 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48298 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 88680 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1472 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 1194 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 77163 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 55878 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 94520 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 7695 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14707 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 9887 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 5777 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 43344 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 38784 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 65245 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 65771 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 28758 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 54156 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 24613 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 83266 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 61318 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35664 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 27094 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
flag 64995 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 99345 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68662 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 33629 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123}]
------------------------------------------------------
client write log 7156228463201582001 (index 124) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81405 term 19 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
flag 8065 term 19 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 19 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
flag 93419 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 64060 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
flag 96249 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 10476 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
flag 20911 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 79354 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
flag 86106 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 71601 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
flag 64005 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 40166 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 125->124
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 124
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 54781 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124}]
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 124 args.LastIncludedIndex 119
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 4331490598315237870 (index 125) to leader 0
flag 19086 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 55847 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124} {4331490598315237870 19 125}]
------------------------------------------------------
flag 23360 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 71871 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124} {4331490598315237870 19 125}]
------------------------------------------------------
client write log 4489898826133504340 (index 126) to leader 0
client write log 3450867281145812435 (index 127) to leader 0
client write log 1193797454177839156 (index 128) to leader 0
client write log 819937039104149255 (index 129) to leader 0
client write log 3433194171881585100 (index 130) to leader 0
client write log 7439908581647893640 (index 131) to leader 0
client write log 3437244651481885197 (index 132) to leader 0
client write log 4600276538287788075 (index 133) to leader 0
client write log 7832346633664108515 (index 134) to leader 0
client write log 6039108602683630167 (index 135) to leader 0
client write log 6687723230190938976 (index 136) to leader 0
client write log 2367799725594765041 (index 137) to leader 0
flag 76344 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 67572 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 16 119} {4664825606550559699 16 120} {6325067725436346720 16 121} {8340929366378808349 19 122} {2850633251012486246 19 123} {7156228463201582001 19 124} {4331490598315237870 19 125} {4489898826133504340 19 126} {3450867281145812435 19 127} {1193797454177839156 19 128} {819937039104149255 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137}]
------------------------------------------------------
term 19 Server0 start snapshot! index=129
term 19 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=137
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 120->119
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 119
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 81999 term 19 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 19 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=137
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3692837160577457569 (index 138) to leader 0
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 74963 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 39579 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 139->138
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 139->138
------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 17856 term 21 leader 0 nextIndex[2]: 138  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
flag 12575 term 21 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 65905 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 97704 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 40041 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95682 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 37867 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 93918 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 79058 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 48572 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 38297 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 57909 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 9303 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 83844 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 28125 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 57683 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 5485 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 72133 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 66578 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79752 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 13363 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 68891 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 2981 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 69748 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 63266 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90087 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 2418 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 93008 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 66154 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 31070 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 26726 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 69332 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 99352 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
flag 40354 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 61767 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66066 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 14719 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138}]
------------------------------------------------------
client write log 3692837160577457569 (index 139) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39072 term 21 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 24528 term 21 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 21 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138} {3692837160577457569 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 129} {3433194171881585100 19 130} {7439908581647893640 19 131} {3437244651481885197 19 132} {4600276538287788075 19 133} {7832346633664108515 19 134} {6039108602683630167 19 135} {6687723230190938976 19 136} {2367799725594765041 19 137} {3692837160577457569 19 138} {3692837160577457569 21 139}]
------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 55622 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 92243 term 21 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 Server1 start snapshot! index=139
term 21 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 34501 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 58546 term 21 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44531 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 7313 term 21 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
flag 7812 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 56140 term 21 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57787 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 71553 term 21 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
flag 29099 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 15187 term 21 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3677779074525161271 (index 140) to leader 0
flag 54201 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 74872 term 21 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {3677779074525161271 21 140}]
------------------------------------------------------
flag 95702 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 72955 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {3677779074525161271 21 140}]
------------------------------------------------------
client write log 4470800340127173772 (index 141) to leader 0
client write log 3948280297983199870 (index 142) to leader 0
client write log 8232305059849653966 (index 143) to leader 0
client write log 7482308096417501677 (index 144) to leader 0
client write log 7654989186149966771 (index 145) to leader 0
client write log 5127526630465632446 (index 146) to leader 0
client write log 5193107494898807769 (index 147) to leader 0
client write log 415023178011082967 (index 148) to leader 0
client write log 8152658368130069318 (index 149) to leader 0
client write log 6460892048503264319 (index 150) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99318 term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 438 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 21 139} {3677779074525161271 21 140} {4470800340127173772 21 141} {3948280297983199870 21 142} {8232305059849653966 21 143} {7482308096417501677 21 144} {7654989186149966771 21 145} {5127526630465632446 21 146} {5193107494898807769 21 147} {415023178011082967 21 148} {8152658368130069318 21 149} {6460892048503264319 21 150}]
------------------------------------------------------
term 21 Server0 start snapshot! index=149
term 21 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 21859 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150}]
------------------------------------------------------
term 21 Server2 start snapshot! index=149
term 21 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5013726132520499893 (index 151) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 35496 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 64277 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 152->151
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 152->151
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 39810 term 23 leader 0 nextIndex[2]: 151  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 21 rf.commitIndex 149 rf.lastApplied 149
flag 49081 term 23 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 53177 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 31061 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 4144 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44661 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 13404 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 19066 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 46440 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 52780 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 32637 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 31092 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 83396 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 61861 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 6368 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 11655 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 12373 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95488 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 99216 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99677 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 95860 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 25531 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 9780 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89734 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 72335 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 60615 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 69764 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 30390 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 79306 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 37097 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 85304 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 44345 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 39701 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
flag 9683 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 16476 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151}]
------------------------------------------------------
client write log 5013726132520499893 (index 152) to leader 0
flag 60412 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
flag 74733 term 23 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
flag 20700 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 83536 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42491 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 46522 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
flag 98783 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 17635 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
flag 88503 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 27975 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
flag 40559 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 49667 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
flag 34038 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 46021 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 32204 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 77161 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 67455 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 6544 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 6330 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 60872 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 1 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
flag 97290 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 9482 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 84852 term 24 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 50974 term 24 leader 2 nextIndex[1]: 153  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152}]
------------------------------------------------------
client write log 7823197242593637739 (index 153) to leader 2
flag 34345 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 43902 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 61349 term 24 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 41842 term 24 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153}]
------------------------------------------------------
flag 46937 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 60008 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 23057 term 24 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 97392 term 24 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 24 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153}]
------------------------------------------------------
client write log 2246460432414330139 (index 154) to leader 2
flag 69480 term 23 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 84007 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 43223 term 24 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 153 
------------------------------------------------------
flag 38390 term 24 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 24 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 153->152
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 152
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 46913 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
flag 187 term 24 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 44218 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5664200137715727425 (index 155) to leader 2
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 152
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 27822 term 23 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 23 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84659 term 24 leader 2 nextIndex[0]: 153  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 70296 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99488 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 74443 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
flag 98418 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 76085 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
flag 44145 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 62436 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10597 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 72151 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
flag 49996 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 92577 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
flag 81807 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 55046 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8131595596783891208 (index 156) to leader 2
flag 82788 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 51092 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155} {8131595596783891208 24 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 64471 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155} {8131595596783891208 24 156}]
------------------------------------------------------
client write log 5860898874959813035 (index 157) to leader 2
client write log 7935711083334000053 (index 158) to leader 2
client write log 8395813236030320867 (index 159) to leader 2
client write log 6765523219139630320 (index 160) to leader 2
client write log 9211172906759285264 (index 161) to leader 2
client write log 9078365535166700414 (index 162) to leader 2
client write log 5118857672359441438 (index 163) to leader 2
flag 69868 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
flag 86163 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 21 149} {6460892048503264319 21 150} {5013726132520499893 21 151} {5013726132520499893 23 152} {7823197242593637739 24 153} {2246460432414330139 24 154} {5664200137715727425 24 155} {8131595596783891208 24 156} {5860898874959813035 24 157} {7935711083334000053 24 158} {8395813236030320867 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 156->155
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 155
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 94727 term 24 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163}]
------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6295704711560569886 (index 164) to leader 2
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 155
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 97309 term 24 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 vote for server 2
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 0
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96094 term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 88998 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 165->164
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 156  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 27192 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
flag 33121 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 87449 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20129 term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 92146 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
flag 66844 term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 40463 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
flag 27083 term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 12907 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
update nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
flag 11929 term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 39623 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
flag 15041 term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 82773 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5317744284026752987 (index 165) to leader 2
flag 84468 term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
flag 78411 term 26 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 164 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164} {5317744284026752987 26 165}]
------------------------------------------------------
flag 74934 term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 61666 term 26 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164} {5317744284026752987 26 165}]
------------------------------------------------------
client write log 920909883490235361 (index 166) to leader 2
client write log 8051364258677274873 (index 167) to leader 2
client write log 5367780674293867530 (index 168) to leader 2
client write log 6307853077361399209 (index 169) to leader 2
client write log 3440847184024293396 (index 170) to leader 2
client write log 6771998748173072436 (index 171) to leader 2
client write log 3117948032117795943 (index 172) to leader 2
client write log 7466760058847167666 (index 173) to leader 2
client write log 3820262260985163164 (index 174) to leader 2
client write log 5447484162095662240 (index 175) to leader 2
client write log 7147920295117126033 (index 176) to leader 2
client write log 2621949910953898024 (index 177) to leader 2
client write log 6360456288463435826 (index 178) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23532 term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 24 leaderCommit: 165 
------------------------------------------------------
flag 15368 term 26 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 24 159} {6765523219139630320 24 160} {9211172906759285264 24 161} {9078365535166700414 24 162} {5118857672359441438 24 163} {6295704711560569886 24 164} {5317744284026752987 26 165} {920909883490235361 26 166} {8051364258677274873 26 167} {5367780674293867530 26 168} {6307853077361399209 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=178
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 54267 term 26 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 26 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=178
-------------------------------------------------------------
!!!!!!connect server 0
client write log 384074751166194260 (index 179) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 1 not vote for server 0, 日志不够新
term 26 server 2 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 35561 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 37494 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 180->179
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 78811 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16012 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 42526 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 72038 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 37396 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 54384 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 26094 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 70773 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 4494 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 29277 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 80236 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94322 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 90353 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 92296 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 56536 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 44074 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 66248 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 71902 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 90946 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 59315 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 70037 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 39645 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 79785 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 75933 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 63028 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 server 2 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 2
flag 64347 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 82088 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 94798 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 99417 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 38848 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 11064 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80727 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 15971 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
flag 51798 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 88488 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70989 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 42406 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179}]
------------------------------------------------------
client write log 384074751166194260 (index 180) to leader 2
flag 33227 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 51655 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179} {384074751166194260 28 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 169} {3440847184024293396 26 170} {6771998748173072436 26 171} {3117948032117795943 26 172} {7466760058847167666 26 173} {3820262260985163164 26 174} {5447484162095662240 26 175} {7147920295117126033 26 176} {2621949910953898024 26 177} {6360456288463435826 26 178} {384074751166194260 26 179} {384074751166194260 28 180}]
------------------------------------------------------
term 28 Server2 start snapshot! index=179
term 28 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
flag 76838 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 1837 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
term 28 Server1 start snapshot! index=179
term 28 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
term 28 Server0 start snapshot! index=179
term 28 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
flag 85356 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 48658 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
flag 14453 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 13580 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9959 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 93438 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
flag 33521 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 28042 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
flag 63318 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 57499 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 23141 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 53073 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 93850 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 83353 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71721 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 63227 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 6346 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 76152 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 0
term 29 server 1 become leader
------------------------------------------------------
flag 40613 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 18552 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {384074751166194260 28 180}]
------------------------------------------------------
client write log 5916527051556401638 (index 181) to leader 1
flag 15423 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 48677 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 35137 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 14438 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46603 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 46541 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 96983 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 24053 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181}]
------------------------------------------------------
client write log 6827925956000739768 (index 182) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 181->180
------------------------------------------------------
flag 10029 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 180
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 66946 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 41276 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182}]
------------------------------------------------------
flag 22379 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 180
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 67622 term 29 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 56485 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2947981766430838019 (index 183) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7485 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 180
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 974 term 29 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 29 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 29 leaderCommit: 182 
------------------------------------------------------
flag 95727 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
flag 68849 term 29 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 49147 term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
flag 86050 term 29 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 97966 term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
flag 44129 term 29 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 11819 term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95730 term 29 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71 term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63022 term 29 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 61221 term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
flag 29513 term 29 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 44115 term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7581802032964313494 (index 184) to leader 1
flag 2362 term 29 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 99130 term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183} {7581802032964313494 29 184}]
------------------------------------------------------
flag 58792 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 84695 term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183} {7581802032964313494 29 184}]
------------------------------------------------------
client write log 5155109980508984184 (index 185) to leader 1
client write log 2203821784096430050 (index 186) to leader 1
client write log 8792006437438543978 (index 187) to leader 1
client write log 488941527077525329 (index 188) to leader 1
client write log 5398424673038151115 (index 189) to leader 1
client write log 1075535142428595598 (index 190) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33471 term 29 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 29 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 71666 term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 179} {384074751166194260 28 180} {5916527051556401638 29 181} {6827925956000739768 29 182} {2947981766430838019 29 183} {7581802032964313494 29 184} {5155109980508984184 29 185} {2203821784096430050 29 186} {8792006437438543978 29 187} {488941527077525329 29 188} {5398424673038151115 29 189} {1075535142428595598 29 190}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 74144 term 29 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
!!!!!!connect server 2
client write log 524185715270830274 (index 191) to leader 1
flag 1354 term 29 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 29 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 30 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get outdate rpc reply from server 0
flag 66887 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 9483 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 192->191
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14006 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 184  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 94656 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 23342 term 31 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 31 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70305 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 71327 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 87374 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 99455 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 64909 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 25750 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 79673 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 43906 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25821 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 42843 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 15951 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 43701 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 89763 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 12367 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90866 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 81693 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 38047 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 50536 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 42649 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 5985 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 70359 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 40404 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 58263 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 74746 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 1 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 1
flag 98620 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 40412 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38968 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 56542 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
flag 66880 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 51063 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191}]
------------------------------------------------------
client write log 524185715270830274 (index 192) to leader 1
flag 45895 term 31 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
flag 11747 term 31 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 31 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 29 leaderCommit: 190 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64900 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 11500 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
flag 77472 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 69402 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
flag 55516 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 38725 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
flag 11380 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 96984 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
flag 43919 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 94546 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 80391 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 45216 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1488694240316811032 (index 193) to leader 1
flag 93101 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 96928 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192} {1488694240316811032 31 193}]
------------------------------------------------------
flag 51014 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 39091 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192} {1488694240316811032 31 193}]
------------------------------------------------------
client write log 2356413418652266207 (index 194) to leader 1
client write log 2090158203976940560 (index 195) to leader 1
client write log 4013051161043177507 (index 196) to leader 1
client write log 65538452336451896 (index 197) to leader 1
client write log 8688414680768387786 (index 198) to leader 1
client write log 5816292520069629994 (index 199) to leader 1
client write log 3023492170752814802 (index 200) to leader 1
client write log 3096453123537019131 (index 201) to leader 1
client write log 5125524281537877356 (index 202) to leader 1
flag 32509 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 78951 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 189} {1075535142428595598 29 190} {524185715270830274 29 191} {524185715270830274 31 192} {1488694240316811032 31 193} {2356413418652266207 31 194} {2090158203976940560 31 195} {4013051161043177507 31 196} {65538452336451896 31 197} {8688414680768387786 31 198} {5816292520069629994 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202}]
------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=202
-------------------------------------------------------------
flag 22383 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5392107973457040353 (index 203) to leader 1
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
term 31 server 1 not vote for server 2, 日志不够新
term 31 server 0 not vote for server 2, 日志不够新
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 47576 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 35848 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 204->203
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 204->203
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14909 term 33 leader 1 nextIndex[0]: 203  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72427 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 45010 term 33 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 44513 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 95594 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 36288 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 39709 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 52659 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 33248 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23139 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 40930 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6373 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 85972 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 81629 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 6633 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25318 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 61445 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 46047 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 83694 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12864 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 14059 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 87133 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 3313 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 11011 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 6211 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 84420 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 62865 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 92319 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 27336 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76841 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 73207 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 72773 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 61274 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 36513 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 6494 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
flag 21783 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 65014 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203}]
------------------------------------------------------
client write log 5392107973457040353 (index 204) to leader 1
flag 78820 term 33 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 56627 term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
flag 99684 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 96500 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
flag 93458 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 53555 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
flag 30878 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 83798 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
flag 16322 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 55042 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22016 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 63337 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 5439 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 71389 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 71938 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 46561 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 10462 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 30438 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
flag 43669 term 34 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 40504 term 34 leader 0 nextIndex[2]: 205  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204}]
------------------------------------------------------
client write log 7778956987438192906 (index 205) to leader 0
flag 9015 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 3007 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 44069 term 34 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 43817 term 34 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205}]
------------------------------------------------------
flag 10326 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 91715 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 7115 term 34 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 31935 term 34 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205}]
------------------------------------------------------
client write log 7040350635990694058 (index 206) to leader 0
flag 44509 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 71737 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 38973 term 34 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 30538 term 34 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 85643 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 38635 term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 205->204
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 45946 term 34 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 82447 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4769297095574867950 (index 205) to leader 1
flag 49565 term 33 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 33 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 204
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4949 term 34 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 35972 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 45574 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 61841 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 92018 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 1822 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 59848 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 73872 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 48160 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 51152 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42771 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 41651 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 35799 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 97511 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 96326 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 32914 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 33731 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 88526 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 44899 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 53912 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61936 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 32421 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 207->206
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 206
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 15916 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 206 args.LastIncludedIndex 199
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 33659 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 206 
------------------------------------------------------
flag 22075 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40637 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 60834 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54094 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 74765 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 99209 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 44955 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 48181 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 75856 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
flag 82711 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 18187 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 not vote for server 0, 日志不够新
term 34 server 0 get outdate rpc reply from server 1
flag 1838 term 34 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 12940 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 207->206
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 206
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 62230 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206}]
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 206 args.LastIncludedIndex 199
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
client write log 4769297095574867950 (index 207) to leader 0
flag 60180 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 206 
------------------------------------------------------
flag 36866 term 34 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 34 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
flag 95326 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 1531 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
flag 19452 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 27140 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31548 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 83310 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
flag 35446 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 48940 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48638 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 82913 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8883401728962430530 (index 208) to leader 0
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31283 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
flag 94487 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207} {8883401728962430530 34 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52866 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 4326 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207} {8883401728962430530 34 208}]
------------------------------------------------------
client write log 1091572777359081261 (index 209) to leader 0
client write log 5762670003308035259 (index 210) to leader 0
client write log 1620604088726380802 (index 211) to leader 0
client write log 7457234630483717313 (index 212) to leader 0
client write log 6297847965613973501 (index 213) to leader 0
client write log 8226714476670242758 (index 214) to leader 0
client write log 3299153823133578856 (index 215) to leader 0
client write log 79575485296709863 (index 216) to leader 0
client write log 9118205242786865629 (index 217) to leader 0
client write log 8107758816589347052 (index 218) to leader 0
client write log 2919979534513928736 (index 219) to leader 0
client write log 1215700452744999444 (index 220) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52080 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
flag 65655 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 199} {3023492170752814802 31 200} {3096453123537019131 31 201} {5125524281537877356 31 202} {5392107973457040353 31 203} {5392107973457040353 33 204} {7778956987438192906 34 205} {7040350635990694058 34 206} {4769297095574867950 34 207} {8883401728962430530 34 208} {1091572777359081261 34 209} {5762670003308035259 34 210} {1620604088726380802 34 211} {7457234630483717313 34 212} {6297847965613973501 34 213} {8226714476670242758 34 214} {3299153823133578856 34 215} {79575485296709863 34 216} {9118205242786865629 34 217} {8107758816589347052 34 218} {2919979534513928736 34 219} {1215700452744999444 34 220}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=220
-------------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 208->207
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 207
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 67259 term 34 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {1215700452744999444 34 220}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=220
-------------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 6599399552249978965 (index 221) to leader 0
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 207
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 69291 term 34 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
flag 71035 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 50359 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 222->221
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 47287 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
flag 94428 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 42675 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
flag 77715 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 12996 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
flag 55213 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 24365 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
flag 84905 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 76010 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
flag 68345 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 2124 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
flag 21794 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 17225 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 11309 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 88625 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
client write log 3901446393774961830 (index 222) to leader 0
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221} {3901446393774961830 36 222}]
------------------------------------------------------
flag 34119 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 737 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221} {3901446393774961830 36 222}]
------------------------------------------------------
flag 83146 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 43673 term 36 leader 0 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221} {3901446393774961830 36 222}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 62117355804334017 (index 223) to leader 0
client write log 4674375300032534480 (index 224) to leader 0
client write log 2753040206168768023 (index 225) to leader 0
client write log 6608285339299558128 (index 226) to leader 0
client write log 1675945858198505028 (index 227) to leader 0
client write log 4508222031086995045 (index 228) to leader 0
client write log 8547288998630919484 (index 229) to leader 0
client write log 1886658653136206420 (index 230) to leader 0
client write log 3201643701685768359 (index 231) to leader 0
client write log 2177120789064435429 (index 232) to leader 0
client write log 1562668984559743987 (index 233) to leader 0
client write log 772697271820583166 (index 234) to leader 0
client write log 2515076234488663333 (index 235) to leader 0
client write log 6552288744678925081 (index 236) to leader 0
client write log 1227139141263133272 (index 237) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 222->221
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 221
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 88013 term 36 leader 0 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 219} {1215700452744999444 34 220} {6599399552249978965 34 221} {3901446393774961830 36 222} {62117355804334017 36 223} {4674375300032534480 36 224} {2753040206168768023 36 225} {6608285339299558128 36 226} {1675945858198505028 36 227} {4508222031086995045 36 228} {8547288998630919484 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237}]
------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=237
-------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 221
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 34282 term 36 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237}]
------------------------------------------------------
term 36 Server2 start snapshot! index=229
term 36 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=237
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9133543969210322062 (index 238) to leader 0
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 221
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 86967 term 36 leader 0 nextIndex[2]: 238  matchIndex[2]: 237
term 36 leader 0 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 1 vote for server 0
term 38 server 0 get outdate rpc reply from server 1
flag 3282 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 90362 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 239->238
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 222  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 87574 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
term 38 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 36 rf.commitIndex 229 rf.lastApplied 229
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 513 term 38 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 72898 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
flag 32312 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 857 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63250 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 18290 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
flag 38201 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 79152 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
flag 15909 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 93562 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
flag 22752 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 34227 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
flag 5254 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 87140 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90571 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 83781 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
flag 31812 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 44291 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
flag 32219 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 1708 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
flag 26269 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 36926 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
flag 18010 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 96631 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28312 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 31122 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41764 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 23663 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65516 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 4367 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70387 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 40085 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53083 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 418 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=239
update matchIndex[2]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238}]
------------------------------------------------------
client write log 9133543969210322062 (index 239) to leader 0
flag 76922 term 38 leader 0 nextIndex[1]: 239  matchIndex[1]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 19826 term 38 leader 0 nextIndex[2]: 239  matchIndex[2]: 238
term 38 leader 0 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238} {9133543969210322062 38 239}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 229} {1886658653136206420 36 230} {3201643701685768359 36 231} {2177120789064435429 36 232} {1562668984559743987 36 233} {772697271820583166 36 234} {2515076234488663333 36 235} {6552288744678925081 36 236} {1227139141263133272 36 237} {9133543969210322062 36 238} {9133543969210322062 38 239}]
------------------------------------------------------
term 38 Server0 start snapshot! index=239
term 38 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 46597 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 41909 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
term 38 Server2 start snapshot! index=239
term 38 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 38 Server1 start snapshot! index=239
term 38 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 12688 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 44008 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
term 38 server 0 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 0
flag 55799 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 92211 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
flag 43214 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 92504 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
flag 31094 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 48568 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
flag 86572 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 2727 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
term 38 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
[{snapshot 38 239}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 44053 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 33114 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
flag 99977 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 66388 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 75074 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 14352 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 7821 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 58405 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 39 server 2 not vote for server 1, 投给了其他人
term 39 server 1 not vote for server 2, 投给了其他人
flag 22068 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 11431 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 99667 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 83531 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 88113 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 29118 term 38 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 240->239
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79515 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 52334 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
flag 1886 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 80122 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 239}]
------------------------------------------------------
client write log 3923458785728299384 (index 240) to leader 2
flag 40075 term 38 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 38 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 90766 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
flag 5482 term 40 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 239 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {3923458785728299384 40 240}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 240->239
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 70444 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 240 
------------------------------------------------------
flag 36236 term 40 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {3923458785728299384 40 240}]
------------------------------------------------------
client write log 2256805369080047617 (index 241) to leader 2
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 10932 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 240 
------------------------------------------------------
flag 12004 term 40 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 40 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 240->239
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 16908 term 40 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 40 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 241 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4951554052595201662 (index 242) to leader 2
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 239
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 7785 term 40 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 40 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 241 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 40 server 0 InstallSnapshot fail
rf.commitIndex 239 args.LastIncludedIndex 239
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
term 40 server 2 not vote for server 0, 日志不够新
term 40 server 1 not vote for server 0, 日志不够新
term 42 server 1 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
term 42 server 0 vote for server 2
term 42 server 2 get outdate rpc reply from server 0
flag 80610 term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 54105 term 42 leader 2 nextIndex[1]: 243  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 243->242
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54236 term 42 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
flag 95612 term 42 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
flag 6647 term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 66627 term 42 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
flag 82233 term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 26576 term 42 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74436 term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 92406 term 42 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
flag 59354 term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 99288 term 42 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
flag 19062 term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 66147 term 42 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3817464623295330271 (index 243) to leader 2
flag 43576 term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 13202 term 42 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242} {3817464623295330271 42 243}]
------------------------------------------------------
flag 65919 term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 243 
------------------------------------------------------
flag 30165 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242} {3817464623295330271 42 243}]
------------------------------------------------------
client write log 7253190374473748881 (index 244) to leader 2
client write log 8775779577588284961 (index 245) to leader 2
client write log 1068402320103524614 (index 246) to leader 2
client write log 5966641276607900146 (index 247) to leader 2
client write log 5800083493343201380 (index 248) to leader 2
client write log 1611695746121421440 (index 249) to leader 2
client write log 7042428985352912122 (index 250) to leader 2
client write log 5347552175851241745 (index 251) to leader 2
client write log 6759727418552527605 (index 252) to leader 2
flag 60348 term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 243 
------------------------------------------------------
flag 3754 term 42 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 42 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 38 239} {3923458785728299384 40 240} {2256805369080047617 40 241} {4951554052595201662 40 242} {3817464623295330271 42 243} {7253190374473748881 42 244} {8775779577588284961 42 245} {1068402320103524614 42 246} {5966641276607900146 42 247} {5800083493343201380 42 248} {1611695746121421440 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252}]
------------------------------------------------------
term 42 Server2 start snapshot! index=249
term 42 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=252
-------------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 34054 term 42 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 42 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252}]
------------------------------------------------------
term 42 Server1 start snapshot! index=249
term 42 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=252
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8827667505971148862 (index 253) to leader 2
term 42 server 2 not vote for server 0, 日志不够新
term 42 server 1 not vote for server 0, 日志不够新
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
term 44 server 0 vote for server 2
term 44 server 2 get outdate rpc reply from server 0
flag 32921 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 48263 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 254->253
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 254->253
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 50413 term 44 leader 2 nextIndex[1]: 253  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 42 rf.commitIndex 249 rf.lastApplied 249
flag 86855 term 44 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 44 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 54026 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
flag 87368 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 61468 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71893 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 55787 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28883 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 24646 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
flag 82687 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 97145 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7531 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 36887 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 0
flag 67496 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 32570 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 0
flag 56841 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 46929 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
flag 18976 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 45379 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65873 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 91450 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
flag 91175 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 16117 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
flag 26669 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 44448 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53689 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 53617 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
flag 44442 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 72774 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73103 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 38206 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
flag 263 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 68680 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18423 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 73477 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
flag 19412 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 63253 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253}]
------------------------------------------------------
client write log 8827667505971148862 (index 254) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34126 term 44 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 65541 term 44 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 44 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
flag 39801 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 71776 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
flag 50979 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 48756 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59378 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 75333 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99839 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 41884 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36361 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 95765 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64733 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 2245 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5488190616316287646 (index 255) to leader 2
flag 68295 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
flag 9239 term 44 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 254 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254} {5488190616316287646 44 255}]
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85104 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 85748 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254} {5488190616316287646 44 255}]
------------------------------------------------------
client write log 4059216847051073256 (index 256) to leader 2
client write log 1162357028804329178 (index 257) to leader 2
client write log 724771662937912290 (index 258) to leader 2
client write log 6056069939533689884 (index 259) to leader 2
client write log 8239299684399095371 (index 260) to leader 2
client write log 7078420375713767920 (index 261) to leader 2
client write log 3621732441874700257 (index 262) to leader 2
client write log 3082395833979830292 (index 263) to leader 2
client write log 8693189969965212701 (index 264) to leader 2
client write log 511104755438947915 (index 265) to leader 2
client write log 8948222827668126216 (index 266) to leader 2
client write log 3041052130906047584 (index 267) to leader 2
client write log 1972120552061774852 (index 268) to leader 2
client write log 3791995988819251855 (index 269) to leader 2
client write log 2875955134314401231 (index 270) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7591 term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
flag 69349 term 44 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 44 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 44 leaderCommit: 255 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 42 249} {7042428985352912122 42 250} {5347552175851241745 42 251} {6759727418552527605 42 252} {8827667505971148862 42 253} {8827667505971148862 44 254} {5488190616316287646 44 255} {4059216847051073256 44 256} {1162357028804329178 44 257} {724771662937912290 44 258} {6056069939533689884 44 259} {8239299684399095371 44 260} {7078420375713767920 44 261} {3621732441874700257 44 262} {3082395833979830292 44 263} {8693189969965212701 44 264} {511104755438947915 44 265} {8948222827668126216 44 266} {3041052130906047584 44 267} {1972120552061774852 44 268} {3791995988819251855 44 269} {2875955134314401231 44 270}]
------------------------------------------------------
term 44 Server2 start snapshot! index=259
term 44 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=270
-------------------------------------------------------------
term 44 Server2 start snapshot! index=269
term 44 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=270
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 64829 term 44 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 44 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270}]
------------------------------------------------------
term 44 Server1 start snapshot! index=259
term 44 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=270
-------------------------------------------------------------
term 44 Server1 start snapshot! index=269
term 44 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=270
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6995565145349065749 (index 271) to leader 2
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 46 server 1 vote for server 2
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
term 46 server 2 get outdate rpc reply from server 1
flag 89625 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 66145 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 272->271
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 272->271
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 255  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 1706 term 46 leader 2 nextIndex[1]: 271  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
Server0 get CondInstallSnapshot!
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
rf.lastIncludedIndex 269 rf.lastIncludedTerm 44 rf.commitIndex 269 rf.lastApplied 269
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
flag 50054 term 46 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 46 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 47962 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6617 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 27676 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 54952 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 31014 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11932 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 29867 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 48766 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 42847 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 45364 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 24497 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 57081 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 60418 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 33567 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 68678 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 59429 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 45464 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25281 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 20012 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 93901 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 26326 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 28212 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 46050 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73311 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 14946 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 98770 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 16595 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91704 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 9221 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 83181 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 47680 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
flag 81587 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 2516 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11601 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 27790 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271}]
------------------------------------------------------
client write log 6995565145349065749 (index 272) to leader 2
flag 99287 term 46 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
flag 37537 term 46 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 46 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 44 leaderCommit: 270 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6980 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 55674 term 46 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
flag 21495 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 24547 term 46 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
flag 64664 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 95931 term 46 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
flag 96325 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 65040 term 46 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
flag 65784 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 77849 term 46 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
flag 53953 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 86391 term 46 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 91276 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 59498 term 46 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81281 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 79769 term 46 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 273->272
------------------------------------------------------
flag 48752 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 272
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 1 vote for server 0
term 47 server 0 get vote from server 1
term 47 server 0 become leader
------------------------------------------------------
flag 22345 term 47 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 97430 term 47 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272}]
------------------------------------------------------
client write log 611054598651174254 (index 273) to leader 0
flag 51109 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 272
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 18565 term 47 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 47 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 77859 term 47 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272} {611054598651174254 47 273}]
------------------------------------------------------
flag 34314 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 272
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 17258 term 47 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 47 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 47 leaderCommit: 273 
------------------------------------------------------
flag 45335 term 47 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272} {611054598651174254 47 273}]
------------------------------------------------------
client write log 6828986070145911176 (index 274) to leader 0
client write log 7146332052818062205 (index 275) to leader 0
client write log 7568913529744140392 (index 276) to leader 0
client write log 195635140683080497 (index 277) to leader 0
client write log 853731483807799702 (index 278) to leader 0
client write log 6405208068503720079 (index 279) to leader 0
client write log 1906930402298504265 (index 280) to leader 0
client write log 5065961261493651764 (index 281) to leader 0
client write log 1896856625653043693 (index 282) to leader 0
client write log 4813266975992450239 (index 283) to leader 0
flag 94071 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 272
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 3860 term 47 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 47 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 47 leaderCommit: 273 
------------------------------------------------------
flag 52124 term 47 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 44 269} {2875955134314401231 44 270} {6995565145349065749 44 271} {6995565145349065749 46 272} {611054598651174254 47 273} {6828986070145911176 47 274} {7146332052818062205 47 275} {7568913529744140392 47 276} {195635140683080497 47 277} {853731483807799702 47 278} {6405208068503720079 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 47 Server0 start snapshot! index=279
term 47 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
flag 23996 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 272
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 66414 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 47 Server1 start snapshot! index=279
term 47 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7779092892188240034 (index 273) to leader 2
flag 80429 term 46 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 272
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 server 0 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37323 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 2 InstallSnapshot success
------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 47 rf.commitIndex 279 rf.lastApplied 279
term 47 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 0 not vote for server 2, 日志不够新
term 49 server 2 vote for server 0
term 49 server 1 vote for server 0
term 49 server 0 get vote from server 2
term 49 server 0 become leader
------------------------------------------------------
term 49 server 0 get outdate rpc reply from server 1
flag 40180 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 23162 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 284->283
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 37517 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 13727 term 49 leader 0 nextIndex[2]: 280  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 98610 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 65365 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 22206 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 98749 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89561 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 57981 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11812 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 99269 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63934 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 76093 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 7759 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 66517 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 50220 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 77764 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 33183 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 86733 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 90237 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 23160 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 40229 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 93216 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76587 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 39983 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18130 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 65687 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 31865 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 97301 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 58296 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 55169 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
flag 53181 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 51087 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80798 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 14442 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40216 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 98797 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283}]
------------------------------------------------------
client write log 7779092892188240034 (index 284) to leader 0
flag 93344 term 49 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 45906 term 49 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 49 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
flag 68356 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
flag 89483 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54341 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
flag 81323 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9679 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
flag 71932 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
flag 81520 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
flag 95689 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95661 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
flag 13255 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
flag 52514 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
flag 82238 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1720080524138373237 (index 285) to leader 0
flag 89892 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
flag 19489 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 284 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284} {1720080524138373237 49 285}]
------------------------------------------------------
flag 69457 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 99891 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284} {1720080524138373237 49 285}]
------------------------------------------------------
client write log 353982193354222507 (index 286) to leader 0
client write log 3039002565099954439 (index 287) to leader 0
client write log 7305692403315066731 (index 288) to leader 0
client write log 1309560034442461366 (index 289) to leader 0
client write log 2251838594989016593 (index 290) to leader 0
client write log 6508776215024320092 (index 291) to leader 0
client write log 4771036100990959780 (index 292) to leader 0
client write log 6116769450632778924 (index 293) to leader 0
client write log 8991398565662225000 (index 294) to leader 0
client write log 170145123254971431 (index 295) to leader 0
client write log 4539701206988412627 (index 296) to leader 0
client write log 9128961414657109065 (index 297) to leader 0
client write log 8697468340372966782 (index 298) to leader 0
client write log 7064723264151388125 (index 299) to leader 0
client write log 2501041992621599024 (index 300) to leader 0
flag 89495 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 54407 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 47 279} {1906930402298504265 47 280} {5065961261493651764 47 281} {1896856625653043693 47 282} {4813266975992450239 47 283} {7779092892188240034 49 284} {1720080524138373237 49 285} {353982193354222507 49 286} {3039002565099954439 49 287} {7305692403315066731 49 288} {1309560034442461366 49 289} {2251838594989016593 49 290} {6508776215024320092 49 291} {4771036100990959780 49 292} {6116769450632778924 49 293} {8991398565662225000 49 294} {170145123254971431 49 295} {4539701206988412627 49 296} {9128961414657109065 49 297} {8697468340372966782 49 298} {7064723264151388125 49 299} {2501041992621599024 49 300}]
------------------------------------------------------
term 49 Server0 start snapshot! index=289
term 49 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=300
-------------------------------------------------------------
term 49 Server0 start snapshot! index=299
term 49 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=300
-------------------------------------------------------------
term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 32662 term 49 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 49 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300}]
------------------------------------------------------
term 49 Server2 start snapshot! index=289
term 49 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=300
-------------------------------------------------------------
term 49 Server2 start snapshot! index=299
term 49 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=300
-------------------------------------------------------------
!!!!!!connect server 1
client write log 870995881904049422 (index 301) to leader 0
term 49 server 2 not vote for server 1, 日志不够新
term 49 server 0 not vote for server 1, 日志不够新
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 2 vote for server 0
term 51 server 0 get vote from server 2
term 51 server 0 become leader
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get outdate rpc reply from server 1
flag 50912 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 27324 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 302->301
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 302->301
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 44372 term 51 leader 0 nextIndex[2]: 301  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 49 rf.commitIndex 299 rf.lastApplied 299
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
flag 80557 term 51 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 15083 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5728 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 28814 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 99543 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 34260 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 42170 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 92372 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76646 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 5718 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 93169 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 63285 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 65682 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 21463 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 80124 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 16028 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89680 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 34176 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 2 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 2
flag 3219 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 70016 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58311 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 15313 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 38426 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 27803 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 48913 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 71782 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 42209 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 23749 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57159 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 3802 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 5302 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 29372 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 17954 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 9072 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
flag 53427 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 16221 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301}]
------------------------------------------------------
client write log 870995881904049422 (index 302) to leader 0
flag 92616 term 51 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 68189 term 51 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 51 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87299 term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
flag 72407 term 51 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
flag 32518 term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
flag 43670 term 51 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
flag 92101 term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
flag 23044 term 51 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
flag 49721 term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
flag 71589 term 51 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
flag 77808 term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
flag 17877 term 51 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
flag 76432 term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
flag 83150 term 51 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3134122588853459844 (index 303) to leader 0
flag 19098 term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
flag 41219 term 51 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 302 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302} {3134122588853459844 51 303}]
------------------------------------------------------
flag 8359 term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 13849 term 51 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 51 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302} {3134122588853459844 51 303}]
------------------------------------------------------
client write log 6870207091622746630 (index 304) to leader 0
client write log 1507203263891133121 (index 305) to leader 0
client write log 2490242712130166625 (index 306) to leader 0
client write log 8402586471613292447 (index 307) to leader 0
client write log 5634842936599838565 (index 308) to leader 0
client write log 458007990553191271 (index 309) to leader 0
client write log 4690505766280256879 (index 310) to leader 0
client write log 692893961093453562 (index 311) to leader 0
client write log 6922089113790029642 (index 312) to leader 0
client write log 7182009194571609229 (index 313) to leader 0
client write log 8417098384748492605 (index 314) to leader 0
client write log 1638600983255028387 (index 315) to leader 0
client write log 2502755419994656059 (index 316) to leader 0
flag 39763 term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 57109 term 51 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 51 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 299} {2501041992621599024 49 300} {870995881904049422 49 301} {870995881904049422 51 302} {3134122588853459844 51 303} {6870207091622746630 51 304} {1507203263891133121 51 305} {2490242712130166625 51 306} {8402586471613292447 51 307} {5634842936599838565 51 308} {458007990553191271 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316}]
------------------------------------------------------
term 51 Server0 start snapshot! index=309
term 51 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=316
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 60826 term 51 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 51 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316}]
------------------------------------------------------
term 51 Server2 start snapshot! index=309
term 51 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=316
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5639359339101361547 (index 317) to leader 0
term 51 server 2 not vote for server 1, 日志不够新
term 51 server 0 not vote for server 1, 日志不够新
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 1 vote for server 0
term 53 server 0 become leader
------------------------------------------------------
term 53 server 0 get outdate rpc reply from server 1
flag 62768 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 41507 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 318->317
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 318->317
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 303  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 48955 term 53 leader 0 nextIndex[2]: 317  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 99727 term 53 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 89067 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13130 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 19416 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 30120 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 94495 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 27986 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 11855 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33551 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 84254 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 27732 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 50246 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 36658 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 41354 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 30103 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 74668 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 72553 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 37456 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 12616 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 75001 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 42681 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 58383 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 46619 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 58919 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 83557 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 94832 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 75242 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 48967 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 68766 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 71657 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35033 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 10619 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
flag 27689 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 81427 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317}]
------------------------------------------------------
client write log 5639359339101361547 (index 318) to leader 0
flag 23021 term 53 leader 0 nextIndex[1]: 318  matchIndex[1]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 86754 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
flag 83156 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 19594 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
flag 6336 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 12890 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
flag 96706 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 12919 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
flag 17824 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 26062 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
flag 55000 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 97940 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 37235 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 27499 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 91177 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 22899 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 89242 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 19883 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 37933 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 29410 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 54 server 2 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 1 become leader
------------------------------------------------------
flag 90952 term 54 leader 1 nextIndex[0]: 319  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 40155 term 54 leader 1 nextIndex[2]: 319  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318}]
------------------------------------------------------
client write log 8940596296192072449 (index 319) to leader 1
flag 50033 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 4216 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 61836 term 54 leader 1 nextIndex[0]: 319  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 70522 term 54 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 54 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 309} {4690505766280256879 51 310} {692893961093453562 51 311} {6922089113790029642 51 312} {7182009194571609229 51 313} {8417098384748492605 51 314} {1638600983255028387 51 315} {2502755419994656059 51 316} {5639359339101361547 51 317} {5639359339101361547 53 318} {8940596296192072449 54 319}]
------------------------------------------------------
term 54 Server1 start snapshot! index=319
term 54 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 43470 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 84692 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 54 leader 1 nextIndex[0]: 319  matchIndex[0]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 10849 term 54 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 54 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 54 319}]
------------------------------------------------------
term 54 Server2 start snapshot! index=319
term 54 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
client write log 5980224260133143418 (index 320) to leader 1
client write log 6124783639904525552 (index 321) to leader 1
client write log 660412236995525174 (index 322) to leader 1
client write log 7566186167788926560 (index 323) to leader 1
client write log 1238522885135342514 (index 324) to leader 1
client write log 3828728523967086822 (index 325) to leader 1
client write log 2854290992071595726 (index 326) to leader 1
client write log 90763601246732623 (index 327) to leader 1
client write log 152025975293313331 (index 328) to leader 1
client write log 8437741954712199401 (index 329) to leader 1
client write log 490145210695123070 (index 330) to leader 1
client write log 6667405728291838276 (index 331) to leader 1
flag 2861 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 64468 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 54 leader 1 nextIndex[0]: 319  matchIndex[0]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 16594 term 54 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 54 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 319 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 54 319} {5980224260133143418 54 320} {6124783639904525552 54 321} {660412236995525174 54 322} {7566186167788926560 54 323} {1238522885135342514 54 324} {3828728523967086822 54 325} {2854290992071595726 54 326} {90763601246732623 54 327} {152025975293313331 54 328} {8437741954712199401 54 329} {490145210695123070 54 330} {6667405728291838276 54 331}]
------------------------------------------------------
term 54 Server1 start snapshot! index=329
term 54 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
flag 27599 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 24005 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 leader 1 nextIndex[0]: 319  matchIndex[0]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 65491 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 331 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331}]
------------------------------------------------------
term 54 Server2 start snapshot! index=329
term 54 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 0
client write log 120479971518990181 (index 332) to leader 1
flag 47042 term 53 leader 0 nextIndex[1]: 319  matchIndex[1]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
flag 95017 term 53 leader 0 nextIndex[2]: 319  matchIndex[2]: 318
term 53 leader 0 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 53 leaderCommit: 318 
------------------------------------------------------
term 54 server 2 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
term 54 server 1 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 1 nextIndex[0]: 319  matchIndex[0]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 17964 term 54 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 331 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 54 rf.commitIndex 329 rf.lastApplied 329
term 54 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90454 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 70346 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 333->332
------------------------------------------------------
term 54 leader 1 nextIndex[0]: 0  matchIndex[0]: 332
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 63548 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
term 54 server 0 InstallSnapshot fail
rf.commitIndex 329 args.LastIncludedIndex 329
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20028 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 56163 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
flag 88222 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 47474 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
flag 56812 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 36861 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
flag 85565 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 44286 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
flag 40167 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 24534 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
flag 55699 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 44114 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3247232029077498155 (index 333) to leader 1
flag 39754 term 54 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
flag 60999 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 332 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332} {3247232029077498155 54 333}]
------------------------------------------------------
flag 82531 term 54 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 54 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 54 leaderCommit: 333 
------------------------------------------------------
flag 62678 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 333 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332} {3247232029077498155 54 333}]
------------------------------------------------------
client write log 482370093877963006 (index 334) to leader 1
client write log 8875889238531732181 (index 335) to leader 1
client write log 502932000859784523 (index 336) to leader 1
client write log 8519171304935434133 (index 337) to leader 1
client write log 2985772273147358633 (index 338) to leader 1
client write log 1574398255402837252 (index 339) to leader 1
client write log 2006953176339403264 (index 340) to leader 1
client write log 9037980607222388484 (index 341) to leader 1
client write log 8501174861439246813 (index 342) to leader 1
client write log 2233741807931842465 (index 343) to leader 1
client write log 2551257686748422159 (index 344) to leader 1
client write log 1238518209978073047 (index 345) to leader 1
client write log 8159798587522654620 (index 346) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 334->333
------------------------------------------------------
term 54 leader 1 nextIndex[0]: 0  matchIndex[0]: 333
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 60779 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 333 
------------------------------------------------------
term 54 server 0 InstallSnapshot fail
rf.commitIndex 333 args.LastIncludedIndex 329
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
flag 99375 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 333 
------------------------------------------------------
flag 70458 term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 54 leaderCommit: 333 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 54 329} {490145210695123070 54 330} {6667405728291838276 54 331} {120479971518990181 54 332} {3247232029077498155 54 333} {482370093877963006 54 334} {8875889238531732181 54 335} {502932000859784523 54 336} {8519171304935434133 54 337} {2985772273147358633 54 338} {1574398255402837252 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346}]
------------------------------------------------------
term 54 Server1 start snapshot! index=339
term 54 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=346
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48458 term 54 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 54 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346}]
------------------------------------------------------
term 54 Server0 start snapshot! index=339
term 54 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=346
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7932715337595406794 (index 347) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41275 term 54 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 54 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 55 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 2 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 0 vote for server 1
term 56 server 1 get outdate rpc reply from server 0
flag 4291 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 23104 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 348->347
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 31340 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 333  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 54 rf.commitIndex 339 rf.lastApplied 339
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 40338 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 86950 term 56 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 56 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 1 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 1
flag 5853 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 47429 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 43988 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 30670 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 28558 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 37969 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 84399 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 52955 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98139 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 88712 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 1465 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 55290 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 64 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 29369 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 18749 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 43441 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 83168 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 4356 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99016 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 36294 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11068 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 13474 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 75854 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 70251 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
flag 72702 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 66995 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61870 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 16238 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30663 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 44444 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=346
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7932715337595406794 (index 348) to leader 1
flag 42225 term 56 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
flag 66386 term 56 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 56 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 54 leaderCommit: 346 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
flag 2901 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
flag 74797 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 0 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 0
flag 23485 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
flag 86800 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
flag 28260 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
flag 21074 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29665 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
flag 73852 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
flag 75500 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
flag 90972 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39345 term 56 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
flag 24594 term 56 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 56 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 56 leaderCommit: 348 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 54 339} {2006953176339403264 54 340} {9037980607222388484 54 341} {8501174861439246813 54 342} {2233741807931842465 54 343} {2551257686748422159 54 344} {1238518209978073047 54 345} {8159798587522654620 54 346} {7932715337595406794 54 347} {7932715337595406794 56 348}]
------------------------------------------------------
  ... Passed --  74.2  3 1730  784718  348
--- PASS: TestSnapshotInstall2D (74.24s)
PASS
