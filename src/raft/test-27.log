=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 22990 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 33371 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 3441839890189906271 (index 1) to leader 1
flag 899 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 15178 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
flag 44936 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 42842 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
flag 50124 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 99863 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
flag 54988 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 91718 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
flag 37340 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84347 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
flag 87080 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 75734 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
flag 42257 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 41549 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3441839890189906271 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2181995942526097324 (index 2) to leader 1
flag 59474 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9387 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2}]
------------------------------------------------------
flag 9031 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 23032 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2}]
------------------------------------------------------
client write log 7771511848794209533 (index 3) to leader 1
client write log 3930035583514317100 (index 4) to leader 1
client write log 7929185073550546240 (index 5) to leader 1
client write log 2866278328460710701 (index 6) to leader 1
client write log 2280127831247640673 (index 7) to leader 1
client write log 4708859946725619840 (index 8) to leader 1
flag 47652 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 5724 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 2->1
------------------------------------------------------
flag 36647 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 0  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 0  LastIncludedTerm: 0
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2468416426218921454 (index 9) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 38269 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 0  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 0  LastIncludedTerm: 0
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 0 vote for server 1
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 31402 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 56904 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 96050 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 97599 term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 93190 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 12538 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 89578 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 63693 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 4506 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 66468 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 8891 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 87362 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 87061 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 6473 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 91415 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 69756 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 29855 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 84702 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 91838 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 46111 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 56937 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 77355 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 82461 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 78837 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 74154 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 95215 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 88983 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 36361 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 73901 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 87834 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 2149 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 14987 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 90713 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 2477 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 81004 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 99970 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
flag 57079 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 82426 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9}]
------------------------------------------------------
client write log 2468416426218921454 (index 10) to leader 1
flag 58979 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 10007 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {3441839890189906271 1 1} {2181995942526097324 1 2} {7771511848794209533 1 3} {3930035583514317100 1 4} {7929185073550546240 1 5} {2866278328460710701 1 6} {2280127831247640673 1 7} {4708859946725619840 1 8} {2468416426218921454 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
term 3 Server1 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 45868 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 76761 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 Server0 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 76762 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 26191 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
flag 64367 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 91823 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
flag 57363 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 60854 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
flag 63522 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 35095 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 12826 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 41007 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 1458 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 16387 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 52080 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 60792 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 77578 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 8954 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2468416426218921454 3 10}]
------------------------------------------------------
client write log 5079675440517260103 (index 11) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
flag 33724 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 69399 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 75810 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2468416426218921454 3 10} {5079675440517260103 4 11}]
------------------------------------------------------
flag 1306 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 83547 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 5170 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 2503 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2468416426218921454 3 10} {5079675440517260103 4 11}]
------------------------------------------------------
client write log 700113780315231238 (index 12) to leader 2
client write log 2936050870690144622 (index 13) to leader 2
client write log 5323638836414460253 (index 14) to leader 2
client write log 7045487695621138718 (index 15) to leader 2
client write log 5363579053720062085 (index 16) to leader 2
client write log 6303903620205205758 (index 17) to leader 2
client write log 8024998843412813510 (index 18) to leader 2
client write log 6248203561696776918 (index 19) to leader 2
client write log 6967397114955081846 (index 20) to leader 2
client write log 3339711199021422564 (index 21) to leader 2
client write log 7724106365322562512 (index 22) to leader 2
client write log 6860056689508447576 (index 23) to leader 2
client write log 5973791003274231966 (index 24) to leader 2
client write log 6485875979967762039 (index 25) to leader 2
client write log 8615971562555710979 (index 26) to leader 2
flag 39799 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 43236 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 0
flag 85436 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 96775 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 1 9} {2468416426218921454 3 10} {5079675440517260103 4 11} {700113780315231238 4 12} {2936050870690144622 4 13} {5323638836414460253 4 14} {7045487695621138718 4 15} {5363579053720062085 4 16} {6303903620205205758 4 17} {8024998843412813510 4 18} {6248203561696776918 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=26
-------------------------------------------------------------
flag 36592 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 48735 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 53948 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=26
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1584180320135599854 (index 11) to leader 1
flag 97669 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 95331 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40486 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 60257 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 51059 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 2 get outdate rpc reply from server 1
flag 29904 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 20039 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 77361 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 35518 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 79124 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 73147 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77688 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 75759 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 99729 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 32052 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 60109 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 86049 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 18549 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 47232 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 66788 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 54515 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 51909 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 98193 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 94372 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 18253 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56966 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 24697 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53151 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 54024 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 59888 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 81578 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87346 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 96983 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38467 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 51987 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 28547 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 75551 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
flag 50726 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 81550 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26}]
------------------------------------------------------
client write log 1584180320135599854 (index 27) to leader 2
flag 36715 term 4 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 38809 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 1
flag 30547 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 47034 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
flag 71056 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 2105 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16104 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 80836 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87383 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 38208 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68855 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 66416 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
flag 69927 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 50373 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1743956877218023570 (index 28) to leader 2
flag 45789 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 59838 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27} {1743956877218023570 4 28}]
------------------------------------------------------
flag 5935 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 4453 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27} {1743956877218023570 4 28}]
------------------------------------------------------
client write log 9157062988620185503 (index 29) to leader 2
client write log 8577272010989878272 (index 30) to leader 2
client write log 721232012171877337 (index 31) to leader 2
client write log 3752134984831542796 (index 32) to leader 2
client write log 2988844171865552656 (index 33) to leader 2
client write log 6103922453663941021 (index 34) to leader 2
flag 41359 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 96568 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 19} {6967397114955081846 4 20} {3339711199021422564 4 21} {7724106365322562512 4 22} {6860056689508447576 4 23} {5973791003274231966 4 24} {6485875979967762039 4 25} {8615971562555710979 4 26} {1584180320135599854 4 27} {1743956877218023570 4 28} {9157062988620185503 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=34
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 34
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 34890 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4930172103059895524 (index 35) to leader 2
term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 45184 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 75000 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 62696 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 36->35
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 28  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 47213 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
flag 48471 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 33040 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
flag 13759 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 85266 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36420 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 72936 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
flag 37288 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 87166 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
flag 62242 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 39766 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43780 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 90777 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5551545803554593670 (index 36) to leader 2
flag 61152 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 45325 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35} {5551545803554593670 6 36}]
------------------------------------------------------
flag 13042 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 10626 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35} {5551545803554593670 6 36}]
------------------------------------------------------
client write log 6027773209393514219 (index 37) to leader 2
client write log 1054559679289171184 (index 38) to leader 2
client write log 2607854387666982312 (index 39) to leader 2
client write log 7011929785549340256 (index 40) to leader 2
client write log 2743919638052107598 (index 41) to leader 2
client write log 8149671270906429637 (index 42) to leader 2
client write log 7028016744184053025 (index 43) to leader 2
client write log 1323174725328218866 (index 44) to leader 2
client write log 2541758710006785518 (index 45) to leader 2
client write log 2586977470555720175 (index 46) to leader 2
client write log 6160582401373321723 (index 47) to leader 2
client write log 2937248349843373271 (index 48) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 36->35
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 0  matchIndex[0]: 35
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 2018 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 29} {8577272010989878272 4 30} {721232012171877337 4 31} {3752134984831542796 4 32} {2988844171865552656 4 33} {6103922453663941021 4 34} {4930172103059895524 4 35} {5551545803554593670 6 36} {6027773209393514219 6 37} {1054559679289171184 6 38} {2607854387666982312 6 39} {7011929785549340256 6 40} {2743919638052107598 6 41} {8149671270906429637 6 42} {7028016744184053025 6 43} {1323174725328218866 6 44} {2541758710006785518 6 45} {2586977470555720175 6 46} {6160582401373321723 6 47} {2937248349843373271 6 48}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 0  matchIndex[0]: 35
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 19883 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7011929785549340256 6 40} {2743919638052107598 6 41} {8149671270906429637 6 42} {7028016744184053025 6 43} {1323174725328218866 6 44} {2541758710006785518 6 45} {2586977470555720175 6 46} {6160582401373321723 6 47} {2937248349843373271 6 48}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6902536228116089071 (index 49) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 30243 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 42558 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {7011929785549340256 6 40} {2743919638052107598 6 41} {8149671270906429637 6 42} {7028016744184053025 6 43} {1323174725328218866 6 44} {2541758710006785518 6 45} {2586977470555720175 6 46} {6160582401373321723 6 47} {2937248349843373271 6 48} {6902536228116089071 6 49}]
------------------------------------------------------
term 7 server 0 AppendEntries false 领导者任期过期 args.Term 6
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 7 Server2 start snapshot! index=49
term 7 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 7 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
term 9 server 2 get outdate rpc reply from server 0
flag 68640 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 22832 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 36  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 17587 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
flag 68549 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 87344 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
flag 10058 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 9749 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10619 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 67216 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
flag 19220 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 64359 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
flag 79502 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 65985 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 42152 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 95999 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 83315 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 84337 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 79578 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 82399 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 10 server 0 vote for server 1
term 10 server 1 get vote from server 0
term 10 server 1 become leader
------------------------------------------------------
flag 67403 term 10 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 31857 term 10 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
client write log 2602598345027282694 (index 50) to leader 1
flag 56812 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 95469 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50862 term 10 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 31094 term 10 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2602598345027282694 10 50}]
------------------------------------------------------
flag 53168 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 20692 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 80204 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 9986 term 10 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {2602598345027282694 10 50}]
------------------------------------------------------
client write log 3422724879552873624 (index 51) to leader 1
flag 94116 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 58938 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 3793 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 51384 term 10 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51}]
------------------------------------------------------
flag 99290 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 93126 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
flag 45306 term 10 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 10 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
flag 49593 term 10 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1335129973123229481 (index 52) to leader 1
flag 17601 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 server 0 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
flag 96166 term 10 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 10 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 10 server 2 InstallSnapshot fail
rf.commitIndex 49 args.LastIncludedIndex 49
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
term 10 server 1 not vote for server 2, 日志不够新
term 10 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 vote for server 1
term 12 server 0 vote for server 1
term 12 server 1 get vote from server 2
term 12 server 1 become leader
------------------------------------------------------
term 12 server 1 get outdate rpc reply from server 0
flag 55137 term 12 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 53857 term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 53->52
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97092 term 12 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 10124 term 12 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18214 term 12 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 36244 term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42468 term 12 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 27562 term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
flag 9210 term 12 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 47300 term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
term 12 server 2 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 2
flag 88513 term 12 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 60014 term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 1 not vote for server 0, 任期不够新
term 12 server 0 get outdate rpc reply from server 1
flag 76387 term 12 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 48067 term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5364687678004842066 (index 53) to leader 1
flag 7268 term 12 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 66492 term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52} {5364687678004842066 12 53}]
------------------------------------------------------
flag 26634 term 12 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 12 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 12 leaderCommit: 53 
------------------------------------------------------
flag 36311 term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52} {5364687678004842066 12 53}]
------------------------------------------------------
client write log 920271234381873697 (index 54) to leader 1
client write log 4246210092486764029 (index 55) to leader 1
client write log 976071888753816504 (index 56) to leader 1
client write log 2875067916264254656 (index 57) to leader 1
client write log 9181908599811883511 (index 58) to leader 1
client write log 594424000692721777 (index 59) to leader 1
client write log 7315231144168664604 (index 60) to leader 1
client write log 5589491450772300123 (index 61) to leader 1
flag 35684 term 12 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 12 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 12 leaderCommit: 53 
------------------------------------------------------
flag 84133 term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 49} {2602598345027282694 10 50} {3422724879552873624 10 51} {1335129973123229481 10 52} {5364687678004842066 12 53} {920271234381873697 12 54} {4246210092486764029 12 55} {976071888753816504 12 56} {2875067916264254656 12 57} {9181908599811883511 12 58} {594424000692721777 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61}]
------------------------------------------------------
term 12 Server1 start snapshot! index=59
term 12 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
flag 26945 term 12 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 12 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61}]
------------------------------------------------------
term 12 Server0 start snapshot! index=59
term 12 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8802562731195753537 (index 62) to leader 1
flag 82228 term 12 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 12 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
term 13 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 0
term 14 server 1 become leader
------------------------------------------------------
term 14 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10478 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 2583 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 63->62
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32661 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 53  matchIndex[2]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 12
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 12 rf.commitIndex 59 rf.lastApplied 59
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 3298 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 73222 term 14 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 14 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 78133 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 42698 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 5776 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 53981 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 39089 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 5807 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79902 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 3722 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 78700 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 80916 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
flag 7483 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 39235 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 77147 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 33285 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 80704 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 75693 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
flag 68570 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 383 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 76272 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 48515 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6657 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 95665 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 32918 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 85856 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 73067 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 49553 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 77597 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 82463 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 94406 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 67272 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
flag 91534 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 64033 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62}]
------------------------------------------------------
client write log 8802562731195753537 (index 63) to leader 1
flag 82385 term 14 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
flag 75104 term 14 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 14 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 12 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
flag 75704 term 14 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 41933 term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
flag 38534 term 14 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 52596 term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74945 term 14 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 74961 term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62985 term 14 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 39037 term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
flag 87896 term 14 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 75415 term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
flag 5992 term 14 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 68325 term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6270924066398335893 (index 64) to leader 1
flag 8837 term 14 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
flag 80239 term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 63 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63} {6270924066398335893 14 64}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19116 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
flag 62730 term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63} {6270924066398335893 14 64}]
------------------------------------------------------
client write log 1711187311836075956 (index 65) to leader 1
client write log 5950107908021779773 (index 66) to leader 1
client write log 8631173449039428585 (index 67) to leader 1
client write log 5016113523599000950 (index 68) to leader 1
client write log 3723620214793999179 (index 69) to leader 1
client write log 8735069018719805044 (index 70) to leader 1
client write log 5195563430478809540 (index 71) to leader 1
client write log 2022106248028886081 (index 72) to leader 1
client write log 5298242853333116944 (index 73) to leader 1
client write log 1448231535068636113 (index 74) to leader 1
client write log 3215736231887338584 (index 75) to leader 1
client write log 7828423009563292999 (index 76) to leader 1
flag 88261 term 14 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 14 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
flag 83650 term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 14 leaderCommit: 64 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 12 59} {7315231144168664604 12 60} {5589491450772300123 12 61} {8802562731195753537 12 62} {8802562731195753537 14 63} {6270924066398335893 14 64} {1711187311836075956 14 65} {5950107908021779773 14 66} {8631173449039428585 14 67} {5016113523599000950 14 68} {3723620214793999179 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76}]
------------------------------------------------------
term 14 Server1 start snapshot! index=69
term 14 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
flag 59407 term 14 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76}]
------------------------------------------------------
term 14 Server0 start snapshot! index=69
term 14 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7264642985574144985 (index 77) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48889 term 14 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 14 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 94319 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 15584 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 78->77
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 82464 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 64  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 14 rf.commitIndex 69 rf.lastApplied 69
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10697 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 56341 term 16 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 16 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 75513 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 51424 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 90977 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 89775 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76798 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 45381 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96085 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 98848 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 12629 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 60869 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21816 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 61316 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 71978 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 10468 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 17430 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 94946 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72444 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 75254 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
flag 52868 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 52360 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 85108 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 61515 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 68936 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 58459 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49493 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 54702 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 36457 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 56492 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 47395 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 70618 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
flag 75773 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 40365 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=76
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77}]
------------------------------------------------------
client write log 7264642985574144985 (index 78) to leader 1
flag 50030 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
flag 54633 term 16 leader 1 nextIndex[2]: 78  matchIndex[2]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 17848 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 4242 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
flag 14188 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 62913 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:78 
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
flag 47404 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 86400 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
flag 28830 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 1109 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
flag 6272 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 33617 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
flag 72265 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 6978 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 30392 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 26415 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 92084 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 33207 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 12670 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 25403 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 58743 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 40041 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 17 server 2 vote for server 0
term 17 server 0 get vote from server 2
term 17 server 0 become leader
------------------------------------------------------
flag 58997 term 17 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 66302 term 17 leader 0 nextIndex[2]: 79  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78}]
------------------------------------------------------
flag 68278 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 36560 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
client write log 8702366931641724757 (index 79) to leader 0
flag 64025 term 17 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 98057 term 17 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 17 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 69} {8735069018719805044 14 70} {5195563430478809540 14 71} {2022106248028886081 14 72} {5298242853333116944 14 73} {1448231535068636113 14 74} {3215736231887338584 14 75} {7828423009563292999 14 76} {7264642985574144985 14 77} {7264642985574144985 16 78} {8702366931641724757 17 79}]
------------------------------------------------------
term 17 Server0 start snapshot! index=79
term 17 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 4039 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 58361 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
flag 87767 term 17 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 17 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 17 leaderCommit: 79 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 17 79}]
------------------------------------------------------
term 17 Server2 start snapshot! index=79
term 17 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 88857 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 77303 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
client write log 7823499322267952171 (index 80) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 79->78
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
flag 45950 term 17 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 17 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 17 leaderCommit: 79 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 16 leader 1 nextIndex[0]: 0  matchIndex[0]: 78
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 46534 term 16 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
flag 34059 term 17 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 17 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5687212057857619175 (index 79) to leader 1
term 16 leader 1 nextIndex[0]: 0  matchIndex[0]: 78
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 78
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 17 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 leader 0 nextIndex[1]: 79  matchIndex[1]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 17
------------------------------------------------------
flag 2335 term 17 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 17 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
term 17 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 17 rf.commitIndex 79 rf.lastApplied 79
term 17 server 2 not vote for server 1, 日志不够新
term 17 server 0 not vote for server 1, 日志不够新
term 19 server 2 vote for server 0
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
term 19 server 0 get outdate rpc reply from server 1
flag 6820 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 95549 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95294 term 19 leader 0 nextIndex[1]: 80  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 66722 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 79451 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 18312 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 99217 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 36936 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 68477 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 51318 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 96800 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 53551 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
flag 64628 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 10635 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 29465 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 38038 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 80002 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 14546 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20346 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 63448 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89468 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 16305 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 83276 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 83388 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 43510 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 22787 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 3442 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 51177 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65860 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 19147 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88856 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 3794 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 63526 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 3795 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
flag 97565 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 3288 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 17 79} {7823499322267952171 17 80}]
------------------------------------------------------
client write log 5687212057857619175 (index 81) to leader 0
flag 45092 term 19 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 22797 term 19 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 19 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
flag 34419 term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
flag 75577 term 19 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
flag 37414 term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
flag 12512 term 19 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8038 term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
flag 50184 term 19 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
flag 17836 term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
flag 26394 term 19 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
flag 50603 term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
flag 44371 term 19 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
flag 57431 term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
flag 11871 term 19 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4917304248376121698 (index 82) to leader 0
flag 48466 term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
flag 66416 term 19 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 81 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81} {4917304248376121698 19 82}]
------------------------------------------------------
flag 27047 term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 82 
------------------------------------------------------
flag 15125 term 19 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 19 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 19 leaderCommit: 82 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81} {4917304248376121698 19 82}]
------------------------------------------------------
client write log 6812788503051923841 (index 83) to leader 0
client write log 8182287603622638024 (index 84) to leader 0
client write log 4330518156733714362 (index 85) to leader 0
client write log 8595798360620446264 (index 86) to leader 0
client write log 1332572023371146550 (index 87) to leader 0
client write log 905863446702599740 (index 88) to leader 0
client write log 4440052610325920837 (index 89) to leader 0
client write log 6739565756750756648 (index 90) to leader 0
client write log 2264844410801097707 (index 91) to leader 0
client write log 8032275640738726601 (index 92) to leader 0
client write log 4042177859329057754 (index 93) to leader 0
client write log 2635836153804820016 (index 94) to leader 0
client write log 7881682540725971060 (index 95) to leader 0
flag 670 term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 19 leaderCommit: 82 
------------------------------------------------------
flag 79934 term 19 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 19 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 19 leaderCommit: 82 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 17 79} {7823499322267952171 17 80} {5687212057857619175 19 81} {4917304248376121698 19 82} {6812788503051923841 19 83} {8182287603622638024 19 84} {4330518156733714362 19 85} {8595798360620446264 19 86} {1332572023371146550 19 87} {905863446702599740 19 88} {4440052610325920837 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95}]
------------------------------------------------------
term 19 Server0 start snapshot! index=89
term 19 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=95
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
flag 31864 term 19 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 19 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95}]
------------------------------------------------------
term 19 Server2 start snapshot! index=89
term 19 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=95
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4165719161521639687 (index 96) to leader 0
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 2 vote for server 0
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 1
flag 1213 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 59788 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 97->96
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 97->96
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
flag 40611 term 21 leader 0 nextIndex[2]: 96  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 19 rf.commitIndex 89 rf.lastApplied 89
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 39698 term 21 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 21 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 54207 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
flag 94434 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 48377 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87484 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 81309 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39173 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 9293 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
flag 68843 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 23091 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71307 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 96261 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
flag 22764 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 39600 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
flag 68847 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 93726 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16673 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 79524 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
flag 69262 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 908 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
flag 96511 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 12173 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62896 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 49599 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
flag 23871 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 26275 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96559 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 49844 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87837 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 37340 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
flag 46501 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 35490 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
flag 7167 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 21138 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96}]
------------------------------------------------------
client write log 4165719161521639687 (index 97) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87517 term 21 leader 0 nextIndex[1]: 97  matchIndex[1]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
flag 48446 term 21 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 19 leaderCommit: 95 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
flag 86430 term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
flag 52499 term 21 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
flag 78821 term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
flag 13637 term 21 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4564 term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
flag 55369 term 21 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
flag 80132 term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
flag 1033 term 21 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
flag 25886 term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
flag 84196 term 21 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
flag 46264 term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
flag 24706 term 21 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4497924200841191580 (index 98) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93509 term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
flag 64502 term 21 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97} {4497924200841191580 21 98}]
------------------------------------------------------
flag 33373 term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 98 
------------------------------------------------------
flag 19833 term 21 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 21 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 21 leaderCommit: 98 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97} {4497924200841191580 21 98}]
------------------------------------------------------
client write log 9051811154236118918 (index 99) to leader 0
client write log 252949489230902335 (index 100) to leader 0
client write log 8543220745781124216 (index 101) to leader 0
client write log 1917580240232491978 (index 102) to leader 0
client write log 3840051865459456383 (index 103) to leader 0
client write log 5453139317183730926 (index 104) to leader 0
client write log 1304632565251103196 (index 105) to leader 0
client write log 8867032459792858153 (index 106) to leader 0
client write log 101041573161388068 (index 107) to leader 0
client write log 3365908936768552198 (index 108) to leader 0
client write log 58048835246352468 (index 109) to leader 0
client write log 3806126343232142905 (index 110) to leader 0
client write log 6154811918838407829 (index 111) to leader 0
client write log 6701476948074486454 (index 112) to leader 0
flag 85230 term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 98 
------------------------------------------------------
flag 82161 term 21 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 21 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 21 leaderCommit: 98 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 89} {6739565756750756648 19 90} {2264844410801097707 19 91} {8032275640738726601 19 92} {4042177859329057754 19 93} {2635836153804820016 19 94} {7881682540725971060 19 95} {4165719161521639687 19 96} {4165719161521639687 21 97} {4497924200841191580 21 98} {9051811154236118918 21 99} {252949489230902335 21 100} {8543220745781124216 21 101} {1917580240232491978 21 102} {3840051865459456383 21 103} {5453139317183730926 21 104} {1304632565251103196 21 105} {8867032459792858153 21 106} {101041573161388068 21 107} {3365908936768552198 21 108} {58048835246352468 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112}]
------------------------------------------------------
term 21 Server0 start snapshot! index=99
term 21 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=112
-------------------------------------------------------------
term 21 Server0 start snapshot! index=109
term 21 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=112
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 6248 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112}]
------------------------------------------------------
term 21 Server2 start snapshot! index=99
term 21 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=112
-------------------------------------------------------------
term 21 Server2 start snapshot! index=109
term 21 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=112
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4030787954457655341 (index 113) to leader 0
term 21 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 6026 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 5924 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 50972 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 114->113
------------------------------------------------------
term 23 server 1 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 1
term 23 leader 0 nextIndex[1]: 98  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 83108 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 21 rf.commitIndex 109 rf.lastApplied 109
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 98754 term 23 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 23 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 95147 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
flag 87412 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 70731 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
flag 73202 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 69068 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
flag 88768 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 85760 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
flag 43815 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 76224 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
flag 53636 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 14424 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43350 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 84674 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
!!!!!!diconnect server 0
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
flag 85149 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 38066 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58125 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 26809 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 16790 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 23980 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 24 server 1 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
flag 87718 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 16925 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 80067 term 24 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 14844 term 24 leader 2 nextIndex[1]: 114  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113}]
------------------------------------------------------
client write log 3469523361068994837 (index 114) to leader 2
flag 10452 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 38978 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 52558 term 24 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 87280 term 24 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 24 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114}]
------------------------------------------------------
flag 12217 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 47141 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 53175 term 24 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 114->113
------------------------------------------------------
flag 82750 term 24 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114}]
------------------------------------------------------
client write log 7676825500217376669 (index 115) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1498 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 113
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 26307 term 24 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 86304 term 24 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 114->113
------------------------------------------------------
flag 9662 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 113
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 21753 term 24 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5953861380196478938 (index 116) to leader 2
flag 15983 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 113
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 92432 term 24 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 24 server 0 InstallSnapshot fail
rf.commitIndex 113 args.LastIncludedIndex 109
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
term 24 server 2 not vote for server 0, 日志不够新
term 24 server 1 not vote for server 0, 日志不够新
term 26 server 1 vote for server 2
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
flag 17700 term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
flag 31141 term 26 leader 2 nextIndex[1]: 117  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 117->116
------------------------------------------------------
flag 48279 term 26 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 72152 term 26 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
flag 34019 term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
flag 56498 term 26 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
flag 79753 term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
flag 94989 term 26 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
flag 48707 term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
flag 24424 term 26 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
flag 32710 term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
flag 59464 term 26 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
flag 94506 term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
flag 52469 term 26 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3342038058036338179 (index 117) to leader 2
flag 62620 term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
flag 31223 term 26 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116} {3342038058036338179 26 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58692 term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
flag 7784 term 26 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 26 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 26 leaderCommit: 117 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116} {3342038058036338179 26 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1835009961456848738 (index 118) to leader 2
client write log 4005584319528212494 (index 119) to leader 2
client write log 5138407906305999136 (index 120) to leader 2
client write log 3767576505506090119 (index 121) to leader 2
client write log 928816635719408744 (index 122) to leader 2
client write log 1834550876008705226 (index 123) to leader 2
client write log 800197704800101516 (index 124) to leader 2
client write log 8431294054901164323 (index 125) to leader 2
client write log 8527486289226077232 (index 126) to leader 2
client write log 6511515398240830306 (index 127) to leader 2
client write log 6089429152901316734 (index 128) to leader 2
flag 82005 term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 117 
------------------------------------------------------
flag 52603 term 26 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 26 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 26 leaderCommit: 117 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 109} {3806126343232142905 21 110} {6154811918838407829 21 111} {6701476948074486454 21 112} {4030787954457655341 21 113} {3469523361068994837 24 114} {7676825500217376669 24 115} {5953861380196478938 24 116} {3342038058036338179 26 117} {1835009961456848738 26 118} {4005584319528212494 26 119} {5138407906305999136 26 120} {3767576505506090119 26 121} {928816635719408744 26 122} {1834550876008705226 26 123} {800197704800101516 26 124} {8431294054901164323 26 125} {8527486289226077232 26 126} {6511515398240830306 26 127} {6089429152901316734 26 128}]
------------------------------------------------------
term 26 Server2 start snapshot! index=119
term 26 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=128
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 26
------------------------------------------------------
flag 17481 term 26 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 26 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 26 leaderCommit: 128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 26 119} {5138407906305999136 26 120} {3767576505506090119 26 121} {928816635719408744 26 122} {1834550876008705226 26 123} {800197704800101516 26 124} {8431294054901164323 26 125} {8527486289226077232 26 126} {6511515398240830306 26 127} {6089429152901316734 26 128}]
------------------------------------------------------
term 26 Server1 start snapshot! index=119
term 26 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=128
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8854750670018188071 (index 129) to leader 2
term 26 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 26
------------------------------------------------------
flag 52297 term 26 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 26 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 26 leaderCommit: 128 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 119} {5138407906305999136 26 120} {3767576505506090119 26 121} {928816635719408744 26 122} {1834550876008705226 26 123} {800197704800101516 26 124} {8431294054901164323 26 125} {8527486289226077232 26 126} {6511515398240830306 26 127} {6089429152901316734 26 128} {8854750670018188071 26 129}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 Server2 start snapshot! index=129
term 27 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 65348 term 28 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
flag 16108 term 28 leader 2 nextIndex[1]: 130  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 130->129
------------------------------------------------------
term 28 Server1 start snapshot! index=129
term 28 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 117  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 26
------------------------------------------------------
flag 9140 term 28 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 26 rf.commitIndex 129 rf.lastApplied 129
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95775 term 28 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
flag 84712 term 28 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36850 term 28 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
flag 95849 term 28 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
flag 98430 term 28 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
flag 30341 term 28 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
flag 40730 term 28 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
flag 60281 term 28 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 26 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2607281057970179713 (index 130) to leader 2
flag 99370 term 28 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
flag 87851 term 28 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 129 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 26 129} {2607281057970179713 28 130}]
------------------------------------------------------
flag 92276 term 28 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 82653 term 28 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 28 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 28 leaderCommit: 130 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 26 129} {2607281057970179713 28 130}]
------------------------------------------------------
client write log 5763875773667264327 (index 131) to leader 2
client write log 9181069904551737376 (index 132) to leader 2
client write log 4649646062571781938 (index 133) to leader 2
client write log 4369854019420681866 (index 134) to leader 2
client write log 7014641752602138461 (index 135) to leader 2
client write log 3533318418059041833 (index 136) to leader 2
client write log 424094780577357350 (index 137) to leader 2
flag 29408 term 28 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 130 
------------------------------------------------------
flag 35313 term 28 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 28 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 28 leaderCommit: 130 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137}]
------------------------------------------------------
flag 71478 term 28 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 28 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
flag 91534 term 28 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 28 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137}]
------------------------------------------------------
!!!!!!connect server 0
client write log 265112701715493352 (index 138) to leader 2
term 28 server 2 not vote for server 0, 日志不够新
term 28 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 0
term 30 server 2 become leader
------------------------------------------------------
term 30 server 2 get outdate rpc reply from server 1
flag 80519 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 14338 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 139->138
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 139->138
------------------------------------------------------
flag 66859 term 30 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 26 leaderCommit: 137 
------------------------------------------------------
flag 67025 term 30 leader 2 nextIndex[1]: 138  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 85126 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 72775 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 92784 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 19774 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 1211 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 45548 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 46209 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 5058 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 30705 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 40205 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 93241 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 29590 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56441 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 74245 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 62032 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 69967 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
term 30 server 0 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37743 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 50933 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 14243 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 33154 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64921 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 17275 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67739 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 15227 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 6795 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 16211 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 44765 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 22901 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 73188 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 96360 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 79415 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 68257 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
flag 71256 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 12341 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74255 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 58142 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138}]
------------------------------------------------------
client write log 265112701715493352 (index 139) to leader 2
flag 2679 term 30 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
flag 99163 term 30 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 30 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 28 leaderCommit: 137 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138} {265112701715493352 30 139}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 26 129} {2607281057970179713 28 130} {5763875773667264327 28 131} {9181069904551737376 28 132} {4649646062571781938 28 133} {4369854019420681866 28 134} {7014641752602138461 28 135} {3533318418059041833 28 136} {424094780577357350 28 137} {265112701715493352 28 138} {265112701715493352 30 139}]
------------------------------------------------------
term 30 Server2 start snapshot! index=139
term 30 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 79402 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 5589 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
term 30 Server0 start snapshot! index=139
term 30 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 30 Server1 start snapshot! index=139
term 30 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 99370 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 27132 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58040 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 5925 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64171 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 77921 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
flag 83476 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 91859 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81702 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 83164 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 49861 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 32010 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 33984 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 11435 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79863 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 21653 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 30 server 1 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 1
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 1
term 31 server 0 become leader
------------------------------------------------------
flag 9123 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 26657 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 98012 term 31 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 23718 term 31 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 30 139}]
------------------------------------------------------
client write log 930932385707674711 (index 140) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64183 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 17389 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 16236 term 31 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 31 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 68122 term 31 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 30 139} {930932385707674711 31 140}]
------------------------------------------------------
flag 82680 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 45563 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 45611 term 31 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 31 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 31 leaderCommit: 140 
------------------------------------------------------
flag 85152 term 31 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 140 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 30 139} {930932385707674711 31 140}]
------------------------------------------------------
client write log 6582783399836587744 (index 141) to leader 0
client write log 4713722251618628829 (index 142) to leader 0
client write log 8890644953761556505 (index 143) to leader 0
client write log 9069258115573281651 (index 144) to leader 0
client write log 6536144284376590236 (index 145) to leader 0
client write log 4233072829402755318 (index 146) to leader 0
client write log 2807786706516402432 (index 147) to leader 0
client write log 8440610713353830855 (index 148) to leader 0
client write log 4372467489427960914 (index 149) to leader 0
client write log 2433857445584452653 (index 150) to leader 0
client write log 915225626761408841 (index 151) to leader 0
flag 50561 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 99434 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 99016 term 31 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 31 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 31 leaderCommit: 140 
------------------------------------------------------
flag 62576 term 31 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 140 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 30 139} {930932385707674711 31 140} {6582783399836587744 31 141} {4713722251618628829 31 142} {8890644953761556505 31 143} {9069258115573281651 31 144} {6536144284376590236 31 145} {4233072829402755318 31 146} {2807786706516402432 31 147} {8440610713353830855 31 148} {4372467489427960914 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 Server0 start snapshot! index=149
term 31 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
flag 30162 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 42441 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 29790 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 Server1 start snapshot! index=149
term 31 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2915544008861955240 (index 140) to leader 2
flag 68189 term 30 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
flag 73925 term 30 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 30 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 30 leaderCommit: 139 
------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74696 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 31 rf.commitIndex 149 rf.lastApplied 149
flag 18933 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 78274 term 31 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 31 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
flag 33376 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 72675 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
flag 92155 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 38107 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
flag 81112 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 85568 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44607 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 88508 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
flag 29453 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 98164 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40096 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 81214 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92798 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 12382 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
flag 99582 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 55939 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
flag 58791 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 73119 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
flag 94646 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 67646 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 0 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 0
flag 54056 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 12797 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69068 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 68714 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28929 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 58249 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45279 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 41943 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77270 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 95538 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
flag 12797 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 55685 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
flag 25642 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 99497 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32076 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 6200 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151}]
------------------------------------------------------
client write log 2915544008861955240 (index 152) to leader 0
flag 90447 term 31 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
flag 87602 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 31 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34176 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
flag 75641 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
flag 1014 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
flag 98065 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
flag 15507 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
flag 47109 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
flag 21843 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
flag 24271 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 153->152
------------------------------------------------------
flag 43059 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 0  matchIndex[2]: 152
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 2 InstallSnapshot fail
rf.commitIndex 152 args.LastIncludedIndex 149
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
flag 54389 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
flag 73683 term 31 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 31 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6405468253467006904 (index 153) to leader 0
flag 31948 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
flag 1373 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 152 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152} {6405468253467006904 31 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95148 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 41924 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152} {6405468253467006904 31 153}]
------------------------------------------------------
client write log 982278510886761647 (index 154) to leader 0
client write log 1000333458424485139 (index 155) to leader 0
client write log 3162571749583461609 (index 156) to leader 0
client write log 7176058852834064866 (index 157) to leader 0
client write log 7422353850398733515 (index 158) to leader 0
client write log 8453142419235941042 (index 159) to leader 0
client write log 3284350460021900270 (index 160) to leader 0
client write log 5128048921659537603 (index 161) to leader 0
client write log 8620985458288952807 (index 162) to leader 0
client write log 8806675061960916091 (index 163) to leader 0
client write log 6609967307123527684 (index 164) to leader 0
client write log 3422271759084448137 (index 165) to leader 0
flag 24197 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 43155 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 31 149} {2433857445584452653 31 150} {915225626761408841 31 151} {2915544008861955240 31 152} {6405468253467006904 31 153} {982278510886761647 31 154} {1000333458424485139 31 155} {3162571749583461609 31 156} {7176058852834064866 31 157} {7422353850398733515 31 158} {8453142419235941042 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165}]
------------------------------------------------------
term 31 Server0 start snapshot! index=159
term 31 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=165
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 31
------------------------------------------------------
flag 67407 term 31 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 31 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165}]
------------------------------------------------------
term 31 Server2 start snapshot! index=159
term 31 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=165
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7056628604283313980 (index 166) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get outdate rpc reply from server 1
flag 78860 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 17000 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 167->166
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 167->166
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 31
------------------------------------------------------
flag 55877 term 33 leader 0 nextIndex[2]: 166  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 31 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 8174 term 33 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 33 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 36143 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 41031 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 12695 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 75281 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 48787 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 97200 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 58977 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31891 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 22844 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
flag 91850 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 57721 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38952 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 30523 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 97071 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 39100 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 37339 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 64029 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 52444 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 14918 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 67523 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 59623 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66877 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 86771 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 37993 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 43180 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 32772 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 75460 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 75089 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 55511 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 46604 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 51601 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
flag 95576 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 70523 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7056628604283313980 (index 167) to leader 0
flag 21151 term 33 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
flag 63128 term 33 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 33 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 31 leaderCommit: 165 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
flag 39243 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
flag 78192 term 33 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
flag 124 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
flag 64951 term 33 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
flag 40408 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
flag 48003 term 33 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
flag 30660 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
flag 30249 term 33 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
flag 83706 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
flag 85561 term 33 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3930027193705359083 (index 168) to leader 0
flag 39570 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
flag 53774 term 33 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 167 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167} {3930027193705359083 33 168}]
------------------------------------------------------
flag 16857 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 168 
------------------------------------------------------
flag 79583 term 33 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 33 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 33 leaderCommit: 168 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167} {3930027193705359083 33 168}]
------------------------------------------------------
client write log 6810874008019869186 (index 169) to leader 0
client write log 7063377234384386643 (index 170) to leader 0
client write log 8689618275032644428 (index 171) to leader 0
client write log 8678437787401735733 (index 172) to leader 0
client write log 8443662011969865278 (index 173) to leader 0
client write log 8157776229866113389 (index 174) to leader 0
flag 67486 term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 33 leaderCommit: 168 
------------------------------------------------------
flag 60803 term 33 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 33 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 33 leaderCommit: 168 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 159} {3284350460021900270 31 160} {5128048921659537603 31 161} {8620985458288952807 31 162} {8806675061960916091 31 163} {6609967307123527684 31 164} {3422271759084448137 31 165} {7056628604283313980 31 166} {7056628604283313980 33 167} {3930027193705359083 33 168} {6810874008019869186 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174}]
------------------------------------------------------
term 33 Server0 start snapshot! index=169
term 33 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=174
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 33
------------------------------------------------------
flag 30213 term 33 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 33 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174}]
------------------------------------------------------
term 33 Server2 start snapshot! index=169
term 33 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=174
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8660542645385510076 (index 175) to leader 0
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 35 server 2 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get outdate rpc reply from server 1
flag 17070 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 98836 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 176->175
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 176->175
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 168  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 33
------------------------------------------------------
flag 15330 term 35 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 33 rf.commitIndex 169 rf.lastApplied 169
flag 91780 term 35 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 35 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 27871 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64201 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 16811 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54609 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 82657 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 20389 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 69750 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3586 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 84174 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 72764 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 47067 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 36270 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 5858 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 13550 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 52941 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 66371 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 11347 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 3432 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 72782 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 61624 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 72742 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24145 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 33320 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 92550 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 75988 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33774 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 9948 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 90959 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 57528 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 52802 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 88891 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
flag 24410 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 40960 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21257 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 31702 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=174
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175}]
------------------------------------------------------
client write log 8660542645385510076 (index 176) to leader 0
flag 33976 term 35 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 92583 term 35 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 35 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
flag 45328 term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 46574 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
flag 34917 term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 482 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
flag 40602 term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 61199 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
flag 27920 term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 74243 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
flag 80942 term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 25544 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 93357 term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 87807 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 36089 term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 89791 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 98437 term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 21343 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
client write log 679003925673927842 (index 177) to leader 2
flag 5997 term 36 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 98634 term 36 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176} {679003925673927842 36 177}]
------------------------------------------------------
flag 6713 term 35 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 73957 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 177->176
------------------------------------------------------
flag 7672 term 36 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 177 
------------------------------------------------------
flag 74065 term 36 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 36 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 36 leaderCommit: 177 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176} {679003925673927842 36 177}]
------------------------------------------------------
client write log 220005847717195381 (index 178) to leader 2
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 176
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 33
------------------------------------------------------
flag 52950 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 59261 term 36 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 177 
------------------------------------------------------
flag 87282 term 36 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 36 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 36 leaderCommit: 177 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176} {679003925673927842 36 177} {220005847717195381 36 178}]
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 176
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 33
------------------------------------------------------
flag 58357 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
flag 20176 term 36 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 178 
------------------------------------------------------
flag 78038 term 36 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 36 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 36 leaderCommit: 178 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176} {679003925673927842 36 177} {220005847717195381 36 178}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2750089961505931358 (index 179) to leader 2
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 176
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 33
------------------------------------------------------
flag 42925 term 35 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 35 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 176 
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29306 term 36 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 35 leaderCommit: 178 
------------------------------------------------------
flag 81543 term 36 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 36 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 36 leaderCommit: 178 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176} {679003925673927842 36 177} {220005847717195381 36 178} {2750089961505931358 36 179}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 169} {7063377234384386643 33 170} {8689618275032644428 33 171} {8678437787401735733 33 172} {8443662011969865278 33 173} {8157776229866113389 33 174} {8660542645385510076 33 175} {8660542645385510076 35 176} {679003925673927842 36 177} {220005847717195381 36 178} {2750089961505931358 36 179}]
------------------------------------------------------
term 36 Server2 start snapshot! index=179
term 36 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 42188 term 36 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
flag 7651 term 36 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
term 36 Server0 start snapshot! index=179
term 36 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 36 Server1 start snapshot! index=179
term 36 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 77289 term 36 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
flag 39110 term 36 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
flag 84181 term 36 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
flag 82433 term 36 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93728 term 36 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
flag 79759 term 36 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
term 36 server 0 not vote for server 2, 日志不够新
term 36 server 2 get outdate rpc reply from server 0
flag 77336 term 36 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
flag 70621 term 36 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
flag 1880 term 36 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
flag 19612 term 36 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 36 179}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5036019104116576914 (index 180) to leader 2
flag 55093 term 36 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
flag 23324 term 36 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 36 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 36 leaderCommit: 179 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 36 179} {5036019104116576914 36 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 180->179
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 36
------------------------------------------------------
flag 87745 term 36 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 36 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 36 leaderCommit: 180 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 36 179} {5036019104116576914 36 180}]
------------------------------------------------------
client write log 4151851609638218857 (index 181) to leader 2
client write log 3597573348538115823 (index 182) to leader 2
client write log 1630357885460101672 (index 183) to leader 2
client write log 5374083562864627758 (index 184) to leader 2
client write log 5853289618332589533 (index 185) to leader 2
client write log 6075776554959484354 (index 186) to leader 2
client write log 8158675654572893208 (index 187) to leader 2
client write log 4743742827545615255 (index 188) to leader 2
client write log 7180219160887351097 (index 189) to leader 2
client write log 1489814289043171 (index 190) to leader 2
client write log 2832259425246772909 (index 191) to leader 2
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 36
------------------------------------------------------
flag 34462 term 36 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 36 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 36 leaderCommit: 180 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 36 179} {5036019104116576914 36 180} {4151851609638218857 36 181} {3597573348538115823 36 182} {1630357885460101672 36 183} {5374083562864627758 36 184} {5853289618332589533 36 185} {6075776554959484354 36 186} {8158675654572893208 36 187} {4743742827545615255 36 188} {7180219160887351097 36 189} {1489814289043171 36 190} {2832259425246772909 36 191}]
------------------------------------------------------
term 36 Server2 start snapshot! index=189
term 36 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=191
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 36
------------------------------------------------------
flag 19340 term 36 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 36 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 36 leaderCommit: 191 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191}]
------------------------------------------------------
term 36 Server1 start snapshot! index=189
term 36 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=191
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7713864860038215456 (index 192) to leader 2
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 36
------------------------------------------------------
flag 94435 term 36 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 36 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 36 leaderCommit: 191 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 67732 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
flag 83028 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 193->192
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 36
------------------------------------------------------
flag 79540 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 36 rf.commitIndex 189 rf.lastApplied 189
flag 94879 term 38 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 38 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
flag 38968 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
flag 55673 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
flag 33069 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
flag 89402 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
flag 86385 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
flag 77534 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
flag 10163 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
flag 66523 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
flag 45934 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
flag 85557 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
flag 92679 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
flag 50332 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
flag 59602 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
term 38 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4310025449322489111 (index 193) to leader 2
flag 39958 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
flag 44280 term 38 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192} {4310025449322489111 38 193}]
------------------------------------------------------
flag 56959 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 26004 term 38 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 38 leaderCommit: 193 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192} {4310025449322489111 38 193}]
------------------------------------------------------
client write log 2312320142714790383 (index 194) to leader 2
client write log 5776297751946654527 (index 195) to leader 2
client write log 7226520986028506461 (index 196) to leader 2
client write log 2185446933391928932 (index 197) to leader 2
client write log 1543041429810753702 (index 198) to leader 2
client write log 8919909373582364168 (index 199) to leader 2
client write log 6354696140617581545 (index 200) to leader 2
client write log 5285454442382092587 (index 201) to leader 2
client write log 3226245713943481147 (index 202) to leader 2
client write log 1046202479031392981 (index 203) to leader 2
client write log 4244999117956810933 (index 204) to leader 2
client write log 9067901952416323084 (index 205) to leader 2
client write log 5474606622607748681 (index 206) to leader 2
client write log 1950267371308640820 (index 207) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78137 term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 1642 term 38 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 38 leaderCommit: 193 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 36 189} {1489814289043171 36 190} {2832259425246772909 36 191} {7713864860038215456 36 192} {4310025449322489111 38 193} {2312320142714790383 38 194} {5776297751946654527 38 195} {7226520986028506461 38 196} {2185446933391928932 38 197} {1543041429810753702 38 198} {8919909373582364168 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207}]
------------------------------------------------------
term 38 Server2 start snapshot! index=199
term 38 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=207
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 79563 term 38 leader 2 nextIndex[1]: 208  matchIndex[1]: 207
term 38 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207}]
------------------------------------------------------
term 38 Server1 start snapshot! index=199
term 38 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=207
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 2942312269552905623 (index 208) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get outdate rpc reply from server 0
flag 6836 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 4855 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 209->208
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 209->208
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 93428 term 40 leader 2 nextIndex[1]: 208  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 38 rf.commitIndex 199 rf.lastApplied 199
flag 30215 term 40 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 40 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 98185 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43436 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 15054 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 85421 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 40067 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 51190 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 34465 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56248 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 6044 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 95578 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 39931 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 2112 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 71479 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 18783 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 92567 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87085 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 54887 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 16773 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 26727 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 65186 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 59696 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 95568 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 70986 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 24100 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 26132 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67923 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 26441 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 48769 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 88223 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98995 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 18120 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 67506 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 31142 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
flag 3233 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 85978 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=207
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208}]
------------------------------------------------------
client write log 2942312269552905623 (index 209) to leader 2
flag 11675 term 40 leader 2 nextIndex[0]: 209  matchIndex[0]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
flag 95075 term 40 leader 2 nextIndex[1]: 209  matchIndex[1]: 208
term 40 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 38 leaderCommit: 207 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208} {2942312269552905623 40 209}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 38 199} {6354696140617581545 38 200} {5285454442382092587 38 201} {3226245713943481147 38 202} {1046202479031392981 38 203} {4244999117956810933 38 204} {9067901952416323084 38 205} {5474606622607748681 38 206} {1950267371308640820 38 207} {2942312269552905623 38 208} {2942312269552905623 40 209}]
------------------------------------------------------
term 40 Server2 start snapshot! index=209
term 40 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 10682 term 40 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 29744 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
term 40 Server0 start snapshot! index=209
term 40 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 40 Server1 start snapshot! index=209
term 40 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 53866 term 40 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 71749 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28619 term 40 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 33868 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
flag 98289 term 40 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 91064 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
flag 71674 term 40 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 64962 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
flag 79681 term 40 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 49616 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 30640 term 40 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 97004 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 210->209
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 209
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
flag 99850 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 209
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
flag 86666 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 209
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
flag 33381 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 1
term 41 server 0 become leader
------------------------------------------------------
flag 63215 term 41 leader 0 nextIndex[1]: 210  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 11653 term 41 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 40 209}]
------------------------------------------------------
client write log 112573975081196119 (index 210) to leader 0
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 209
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
flag 50351 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17658 term 41 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 41 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 79053 term 41 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 40 209} {112573975081196119 41 210}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 209
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
flag 50296 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 95025 term 41 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 41 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 41 leaderCommit: 210 
------------------------------------------------------
flag 5961 term 41 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 210 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 40 209} {112573975081196119 41 210}]
------------------------------------------------------
client write log 2200185271529503070 (index 211) to leader 0
client write log 2105703672892104322 (index 212) to leader 0
client write log 1589014147315831026 (index 213) to leader 0
client write log 5432183207570330800 (index 214) to leader 0
client write log 7668024038450574611 (index 215) to leader 0
client write log 6504851950423076999 (index 216) to leader 0
client write log 7880110270799825939 (index 217) to leader 0
client write log 8515443345070251440 (index 218) to leader 0
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 209
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
flag 32481 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 28545 term 41 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 41 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 41 leaderCommit: 210 
------------------------------------------------------
flag 5229 term 41 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 210 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 209
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
flag 88093 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
flag 54702 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 24633 term 41 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 6208039978035637269 (index 210) to leader 2
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 209
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
flag 22852 term 40 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 209 
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3499 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 35359 term 41 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 96234 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 50707 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 33738 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 38888 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70983 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 6730 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 63874 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 11010 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 67348 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 27514 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36700 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 34701 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 51013 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 99527 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51245 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 64933 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 62403 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 11432 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 42733 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 19866 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 15131 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 76572 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 60616 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 99809 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 53037 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 63854 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 61624 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 14731 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 69062 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 76554 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25610 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 26479 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37117 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 94303 term 41 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 219->218
------------------------------------------------------
flag 89747 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 0  matchIndex[2]: 218
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
term 41 server 2 InstallSnapshot fail
rf.commitIndex 218 args.LastIncludedIndex 209
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
flag 1464 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 58285 term 41 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 41 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 40 leaderCommit: 218 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218}]
------------------------------------------------------
client write log 6208039978035637269 (index 219) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 219->218
------------------------------------------------------
flag 34498 term 41 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 41 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 0  matchIndex[2]: 218
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 40
------------------------------------------------------
term 41 server 2 InstallSnapshot fail
rf.commitIndex 218 args.LastIncludedIndex 209
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 40 209} {112573975081196119 41 210} {2200185271529503070 41 211} {2105703672892104322 41 212} {1589014147315831026 41 213} {5432183207570330800 41 214} {7668024038450574611 41 215} {6504851950423076999 41 216} {7880110270799825939 41 217} {8515443345070251440 41 218} {6208039978035637269 41 219}]
------------------------------------------------------
term 41 Server0 start snapshot! index=219
term 41 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 86691 term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 41 rf.commitIndex 219 rf.lastApplied 219
term 41 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
term 41 Server1 start snapshot! index=219
term 41 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57244 term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
flag 94533 term 41 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
flag 86014 term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
flag 91294 term 41 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
flag 64352 term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
flag 10705 term 41 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 220->219
------------------------------------------------------
flag 67935 term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 0  matchIndex[2]: 219
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 2 InstallSnapshot fail
rf.commitIndex 219 args.LastIncludedIndex 219
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8776 term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
flag 45242 term 41 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 41 219}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3771250763491082234 (index 220) to leader 0
flag 43997 term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
flag 85331 term 41 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 219 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 41 219} {3771250763491082234 41 220}]
------------------------------------------------------
flag 48179 term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 220 
------------------------------------------------------
flag 87489 term 41 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 41 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 41 leaderCommit: 220 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 41 219} {3771250763491082234 41 220}]
------------------------------------------------------
client write log 6091911808495266863 (index 221) to leader 0
client write log 8544918431761174437 (index 222) to leader 0
client write log 1473731008820069916 (index 223) to leader 0
client write log 7379931484955530118 (index 224) to leader 0
client write log 7945494616318766734 (index 225) to leader 0
client write log 5422890688975184694 (index 226) to leader 0
client write log 316579197216199716 (index 227) to leader 0
client write log 4830402211897655954 (index 228) to leader 0
client write log 7421947979261196374 (index 229) to leader 0
client write log 7384793694266131730 (index 230) to leader 0
client write log 5524433335115836063 (index 231) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1889 term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 220 
------------------------------------------------------
flag 89478 term 41 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 41 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 41 leaderCommit: 220 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 41 219} {3771250763491082234 41 220} {6091911808495266863 41 221} {8544918431761174437 41 222} {1473731008820069916 41 223} {7379931484955530118 41 224} {7945494616318766734 41 225} {5422890688975184694 41 226} {316579197216199716 41 227} {4830402211897655954 41 228} {7421947979261196374 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231}]
------------------------------------------------------
term 41 Server0 start snapshot! index=229
term 41 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=231
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
flag 82016 term 41 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 41 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231}]
------------------------------------------------------
term 41 Server2 start snapshot! index=229
term 41 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=231
-------------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 8680667297885088448 (index 232) to leader 0
term 41 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
flag 5833 term 41 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 41 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get vote from server 1
term 43 server 2 vote for server 0
term 43 server 0 become leader
------------------------------------------------------
term 43 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87924 term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 21967 term 43 leader 0 nextIndex[2]: 233  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 233->232
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 220  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
flag 20508 term 43 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 41 rf.commitIndex 229 rf.lastApplied 229
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 72693 term 43 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 43 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 53339 term 43 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
flag 265 term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 24168 term 43 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
flag 93279 term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 31169 term 43 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
flag 50577 term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 28992 term 43 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
flag 85360 term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 58718 term 43 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
flag 44734 term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 52773 term 43 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4053166249126000873 (index 233) to leader 0
flag 54098 term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
flag 65655 term 43 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 232 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232} {4053166249126000873 43 233}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41045 term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 45320 term 43 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232} {4053166249126000873 43 233}]
------------------------------------------------------
client write log 3389081365602501661 (index 234) to leader 0
client write log 9033002114075115904 (index 235) to leader 0
client write log 1565624969893058561 (index 236) to leader 0
client write log 8418955727674302571 (index 237) to leader 0
client write log 1798925842725948903 (index 238) to leader 0
client write log 833947977969804741 (index 239) to leader 0
client write log 5243524966517444495 (index 240) to leader 0
client write log 6288782021519751321 (index 241) to leader 0
client write log 9187952161848843716 (index 242) to leader 0
client write log 8544750922451967360 (index 243) to leader 0
client write log 571605135793357499 (index 244) to leader 0
client write log 2015555152266702541 (index 245) to leader 0
client write log 3561811584153153487 (index 246) to leader 0
client write log 300700310709902812 (index 247) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16475 term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 15441 term 43 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 43 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 43 leaderCommit: 233 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 41 229} {7384793694266131730 41 230} {5524433335115836063 41 231} {8680667297885088448 41 232} {4053166249126000873 43 233} {3389081365602501661 43 234} {9033002114075115904 43 235} {1565624969893058561 43 236} {8418955727674302571 43 237} {1798925842725948903 43 238} {833947977969804741 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247}]
------------------------------------------------------
term 43 Server0 start snapshot! index=239
term 43 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=247
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
flag 24838 term 43 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 43 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 247 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247}]
------------------------------------------------------
term 43 Server2 start snapshot! index=239
term 43 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=247
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3218413651948091442 (index 248) to leader 0
term 43 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
flag 55922 term 43 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 43 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 43 leaderCommit: 247 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 15732 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 23607 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 249->248
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 233  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
flag 54317 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 43 rf.commitIndex 239 rf.lastApplied 239
flag 68040 term 45 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 45 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 37460 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
flag 36445 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 58932 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91984 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 83631 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
flag 90478 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 46570 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39018 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 87851 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 45 server 2 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 2
flag 86451 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 9730 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
flag 84317 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 231 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:248 
term 45 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 72605 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 35431 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 16299 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 14802 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 35249 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 70944 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
flag 67257 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 48992 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248}]
------------------------------------------------------
client write log 4212747383730206571 (index 249) to leader 2
flag 17904 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 1993 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 38143 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 85935 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 43 239} {5243524966517444495 43 240} {6288782021519751321 43 241} {9187952161848843716 43 242} {8544750922451967360 43 243} {571605135793357499 43 244} {2015555152266702541 43 245} {3561811584153153487 43 246} {300700310709902812 43 247} {3218413651948091442 43 248} {4212747383730206571 46 249}]
------------------------------------------------------
term 46 Server2 start snapshot! index=249
term 46 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 18087 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
flag 38601 term 45 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 249->248
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 40400 term 46 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
term 46 Server1 start snapshot! index=249
term 46 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
client write log 6271495097868246552 (index 250) to leader 2
flag 42058 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 248
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 45614 term 46 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {6271495097868246552 46 250}]
------------------------------------------------------
flag 92822 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 248
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 71706 term 46 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {6271495097868246552 46 250}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7835268437205854659 (index 251) to leader 2
flag 36699 term 45 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 45 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 43 leaderCommit: 248 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 248
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 547 term 46 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 46 rf.commitIndex 249 rf.lastApplied 249
term 46 server 1 not vote for server 0, 日志不够新
term 46 server 2 not vote for server 0, 日志不够新
term 48 server 1 vote for server 2
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 98196 term 48 leader 2 nextIndex[0]: 252  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 71000 term 48 leader 2 nextIndex[1]: 252  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 252->251
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 2
flag 13917 term 48 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 66526 term 48 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40375 term 48 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 90009 term 48 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
flag 67203 term 48 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 36628 term 48 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
flag 26051 term 48 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 72011 term 48 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
flag 99879 term 48 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 5092 term 48 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
term 48 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
flag 95911 term 48 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 55058 term 48 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5653120229808410533 (index 252) to leader 2
flag 1088 term 48 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
flag 81818 term 48 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 251 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251} {5653120229808410533 48 252}]
------------------------------------------------------
flag 7520 term 48 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 252 
------------------------------------------------------
flag 63333 term 48 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251} {5653120229808410533 48 252}]
------------------------------------------------------
client write log 12243972875349064 (index 253) to leader 2
client write log 7867779179122531803 (index 254) to leader 2
client write log 704755806343068870 (index 255) to leader 2
client write log 1229883743706850957 (index 256) to leader 2
client write log 7399375999337042440 (index 257) to leader 2
client write log 6010311358432233969 (index 258) to leader 2
client write log 253522805721866487 (index 259) to leader 2
client write log 310308863584049264 (index 260) to leader 2
client write log 5336138644702706740 (index 261) to leader 2
client write log 3701109758806376676 (index 262) to leader 2
client write log 86473753232075473 (index 263) to leader 2
client write log 8135784366644905208 (index 264) to leader 2
client write log 1317135900420288974 (index 265) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93578 term 48 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 48 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 46 leaderCommit: 252 
------------------------------------------------------
flag 41242 term 48 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 48 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 48 leaderCommit: 252 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 46 249} {6271495097868246552 46 250} {7835268437205854659 46 251} {5653120229808410533 48 252} {12243972875349064 48 253} {7867779179122531803 48 254} {704755806343068870 48 255} {1229883743706850957 48 256} {7399375999337042440 48 257} {6010311358432233969 48 258} {253522805721866487 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265}]
------------------------------------------------------
term 48 Server2 start snapshot! index=259
term 48 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 252->251
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 251
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 48
------------------------------------------------------
flag 33834 term 48 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 48 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265}]
------------------------------------------------------
term 48 Server1 start snapshot! index=259
term 48 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3240515565529816104 (index 266) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 3502 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 8764 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 267->266
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 267->266
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 252  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 48
------------------------------------------------------
flag 54923 term 50 leader 2 nextIndex[1]: 266  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 48 rf.commitIndex 259 rf.lastApplied 259
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16660 term 50 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 50 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 84824 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 712 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 16138 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
flag 11590 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 89505 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 0
flag 94568 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 18883 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57971 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 31783 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
flag 35727 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 61367 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21988 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 41785 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95469 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 955 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
flag 59524 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 37405 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64215 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 36706 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2014 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 66013 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
flag 49163 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 89771 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
flag 7794 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 51060 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5404 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 69435 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
flag 73980 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 74322 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
flag 39407 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 12222 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
flag 87005 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 88756 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72734 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 83769 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266}]
------------------------------------------------------
client write log 3240515565529816104 (index 267) to leader 2
flag 17377 term 50 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
flag 96252 term 50 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 50 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 48 leaderCommit: 265 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
flag 70435 term 50 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
flag 9416 term 50 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10814 term 50 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
flag 52178 term 50 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50178 term 50 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
flag 14250 term 50 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
flag 5694 term 50 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
flag 17405 term 50 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
flag 48759 term 50 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
flag 10810 term 50 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6654815771997835340 (index 268) to leader 2
flag 45498 term 50 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
flag 7864 term 50 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 267 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267} {6654815771997835340 50 268}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31098 term 50 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 268 
------------------------------------------------------
flag 89904 term 50 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 50 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 50 leaderCommit: 268 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267} {6654815771997835340 50 268}]
------------------------------------------------------
client write log 7417940743716840606 (index 269) to leader 2
client write log 7978416965789295339 (index 270) to leader 2
client write log 7651314784725001303 (index 271) to leader 2
client write log 8036748892535814651 (index 272) to leader 2
client write log 7439352381029732668 (index 273) to leader 2
client write log 541214954393019986 (index 274) to leader 2
client write log 3834333304425841035 (index 275) to leader 2
client write log 3513362384853641881 (index 276) to leader 2
client write log 5380443515389656734 (index 277) to leader 2
client write log 940030455309725927 (index 278) to leader 2
client write log 6510082304651540772 (index 279) to leader 2
client write log 7070713183434545203 (index 280) to leader 2
client write log 213830740792735761 (index 281) to leader 2
client write log 4364644520332544558 (index 282) to leader 2
client write log 8543665500712261580 (index 283) to leader 2
flag 57138 term 50 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 50 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 50 leaderCommit: 268 
------------------------------------------------------
flag 42970 term 50 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 50 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 50 leaderCommit: 268 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 48 259} {310308863584049264 48 260} {5336138644702706740 48 261} {3701109758806376676 48 262} {86473753232075473 48 263} {8135784366644905208 48 264} {1317135900420288974 48 265} {3240515565529816104 48 266} {3240515565529816104 50 267} {6654815771997835340 50 268} {7417940743716840606 50 269} {7978416965789295339 50 270} {7651314784725001303 50 271} {8036748892535814651 50 272} {7439352381029732668 50 273} {541214954393019986 50 274} {3834333304425841035 50 275} {3513362384853641881 50 276} {5380443515389656734 50 277} {940030455309725927 50 278} {6510082304651540772 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283}]
------------------------------------------------------
term 50 Server2 start snapshot! index=269
term 50 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=283
-------------------------------------------------------------
term 50 Server2 start snapshot! index=279
term 50 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=283
-------------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
flag 33945 term 50 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 50 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283}]
------------------------------------------------------
term 50 Server1 start snapshot! index=269
term 50 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=283
-------------------------------------------------------------
term 50 Server1 start snapshot! index=279
term 50 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=283
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 2855819699690138023 (index 284) to leader 2
term 50 server 2 not vote for server 0, 日志不够新
term 50 server 1 not vote for server 0, 日志不够新
term 52 server 1 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 0 vote for server 2
term 52 server 2 become leader
------------------------------------------------------
term 52 server 2 get outdate rpc reply from server 0
flag 68112 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 37818 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 285->284
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 285->284
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 268  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
flag 56686 term 52 leader 2 nextIndex[1]: 284  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 50 rf.commitIndex 279 rf.lastApplied 279
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29251 term 52 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 52 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 73154 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
flag 54099 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 84343 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72593 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 32045 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 70886 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 62043 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 17034 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 72383 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 6497 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 37090 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 67380 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 43851 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16374 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 19011 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 71939 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 39438 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 96737 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 69959 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 26297 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 79296 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 54416 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 63982 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 255 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 18334 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 90995 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 94718 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 32735 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 26269 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 85395 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 91794 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 18499 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 73785 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
flag 65423 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 44603 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284}]
------------------------------------------------------
client write log 2855819699690138023 (index 285) to leader 2
flag 33004 term 52 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 46284 term 52 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
flag 62483 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 91331 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
term 52 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
flag 93955 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 95468 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
flag 40451 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 41297 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
flag 22117 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 90581 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
flag 56329 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 48885 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
flag 30603 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 70387 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 97683 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 89367 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 98203 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 10099 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 59872 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 88327 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get vote from server 0
term 53 server 1 become leader
------------------------------------------------------
flag 99341 term 53 leader 1 nextIndex[0]: 286  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 9323 term 53 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285}]
------------------------------------------------------
flag 68919 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 80083 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
client write log 733145099736816951 (index 286) to leader 1
flag 8233 term 53 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 53 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 80096 term 53 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286}]
------------------------------------------------------
flag 62372 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 43852 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 16469 term 53 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 53 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 53 leaderCommit: 286 
------------------------------------------------------
flag 41352 term 53 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286}]
------------------------------------------------------
flag 80919 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 41680 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
client write log 4686291357107281263 (index 287) to leader 1
flag 803 term 53 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 53 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 53 leaderCommit: 286 
------------------------------------------------------
flag 38037 term 53 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 286 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46383 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 65179 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 28072 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 53 leaderCommit: 287 
------------------------------------------------------
flag 43249 term 53 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 287 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287}]
------------------------------------------------------
flag 61752 term 52 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
flag 51805 term 52 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 52 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 285 
------------------------------------------------------
!!!!!!connect server 2
client write log 5698826737217225083 (index 288) to leader 1
flag 56336 term 53 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 53 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 53 leaderCommit: 287 
------------------------------------------------------
flag 90883 term 53 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 52 leaderCommit: 287 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92447 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 74276 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
flag 62501 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 98474 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
flag 40894 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 28880 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 289->288
------------------------------------------------------
flag 69655 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 288
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 2 InstallSnapshot fail
rf.commitIndex 288 args.LastIncludedIndex 279
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
flag 84498 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 13433 term 53 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 53 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 50 leaderCommit: 288 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 3924954472251910322 (index 289) to leader 1
flag 22501 term 53 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
flag 57270 term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 53 leaderCommit: 288 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 50 279} {7070713183434545203 50 280} {213830740792735761 50 281} {4364644520332544558 50 282} {8543665500712261580 50 283} {2855819699690138023 50 284} {2855819699690138023 52 285} {733145099736816951 53 286} {4686291357107281263 53 287} {5698826737217225083 53 288} {3924954472251910322 53 289}]
------------------------------------------------------
term 53 Server1 start snapshot! index=289
term 53 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 26144 term 53 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 53 leaderCommit: 289 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 53 289}]
------------------------------------------------------
term 53 Server0 start snapshot! index=289
term 53 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 4116207778834247240 (index 290) to leader 1
client write log 9067213134223477103 (index 291) to leader 1
client write log 3757583267393503651 (index 292) to leader 1
client write log 5343291817194587636 (index 293) to leader 1
client write log 5006426161364768025 (index 294) to leader 1
client write log 5352342687601040121 (index 295) to leader 1
client write log 2606507317156315552 (index 296) to leader 1
client write log 7735557132847704887 (index 297) to leader 1
flag 98142 term 53 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 53 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 53 leaderCommit: 289 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297}]
------------------------------------------------------
flag 6725 term 53 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 53 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4016489491060170251 (index 298) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 1 not vote for server 2, 日志不够新
term 53 server 0 not vote for server 2, 日志不够新
term 55 server 2 vote for server 1
term 55 server 0 vote for server 1
term 55 server 1 get vote from server 2
term 55 server 1 become leader
------------------------------------------------------
term 55 server 1 get outdate rpc reply from server 0
flag 34794 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 98856 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 299->298
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 299->298
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92308 term 55 leader 1 nextIndex[0]: 298  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 53
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 53 rf.commitIndex 289 rf.lastApplied 289
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 39373 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 56302 term 55 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 55 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80886 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 13386 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13338 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 8129 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40927 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 6045 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42439 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 15609 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7360 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 76635 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84271 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 84208 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 51856 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 98891 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 39146 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 67063 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79266 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 6958 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 68644 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 85956 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 13174 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 6462 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 9854 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 30741 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 57188 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 35598 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 18703 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 29311 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 52458 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 81248 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
flag 51253 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 39230 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4016489491060170251 (index 299) to leader 1
flag 62442 term 55 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
flag 54321 term 55 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 55 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 53 leaderCommit: 297 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298} {4016489491060170251 55 299}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 53 289} {4116207778834247240 53 290} {9067213134223477103 53 291} {3757583267393503651 53 292} {5343291817194587636 53 293} {5006426161364768025 53 294} {5352342687601040121 53 295} {2606507317156315552 53 296} {7735557132847704887 53 297} {4016489491060170251 53 298} {4016489491060170251 55 299}]
------------------------------------------------------
term 55 Server1 start snapshot! index=299
term 55 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68690 term 55 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
flag 56996 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
term 55 Server0 start snapshot! index=299
term 55 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 55 Server2 start snapshot! index=299
term 55 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 77711 term 55 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
flag 35915 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
flag 59436 term 55 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
flag 50451 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
flag 33727 term 55 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
flag 96721 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
flag 9533 term 55 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
flag 89220 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 55 299}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6753112062128572620 (index 300) to leader 1
flag 42268 term 55 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
flag 48406 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 299 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 55 299} {6753112062128572620 55 300}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26337 term 55 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 55 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 55 leaderCommit: 300 
------------------------------------------------------
flag 34442 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 300 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 55 299} {6753112062128572620 55 300}]
------------------------------------------------------
client write log 9220142188565192489 (index 301) to leader 1
client write log 6237013275751078879 (index 302) to leader 1
client write log 6333465383084755998 (index 303) to leader 1
client write log 17273043660106104 (index 304) to leader 1
client write log 8398644053793453244 (index 305) to leader 1
client write log 7999858851306881479 (index 306) to leader 1
client write log 5133306128443132086 (index 307) to leader 1
client write log 6529646059517527882 (index 308) to leader 1
client write log 6017777242280365748 (index 309) to leader 1
client write log 3192524249332101164 (index 310) to leader 1
client write log 283243874799107001 (index 311) to leader 1
client write log 8395603423167285435 (index 312) to leader 1
client write log 1527552714008173737 (index 313) to leader 1
client write log 646992262115409771 (index 314) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1743 term 55 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 55 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 55 leaderCommit: 300 
------------------------------------------------------
flag 71025 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 55 leaderCommit: 300 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 299} {6753112062128572620 55 300} {9220142188565192489 55 301} {6237013275751078879 55 302} {6333465383084755998 55 303} {17273043660106104 55 304} {8398644053793453244 55 305} {7999858851306881479 55 306} {5133306128443132086 55 307} {6529646059517527882 55 308} {6017777242280365748 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314}]
------------------------------------------------------
term 55 Server1 start snapshot! index=309
term 55 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
flag 81997 term 55 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 55 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314}]
------------------------------------------------------
term 55 Server0 start snapshot! index=309
term 55 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8352635190436552401 (index 315) to leader 1
term 55 server 1 not vote for server 2, 日志不够新
term 55 server 0 not vote for server 2, 日志不够新
term 57 server 2 vote for server 1
term 57 server 0 vote for server 1
term 57 server 1 get vote from server 2
term 57 server 1 become leader
------------------------------------------------------
term 57 server 1 get outdate rpc reply from server 0
flag 90248 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 6316 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 316->315
------------------------------------------------------
term 57 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 316->315
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58332 term 57 leader 1 nextIndex[0]: 315  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 300  matchIndex[2]: 0
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
term 57 server 2 InstallSnapshot success
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 55 rf.commitIndex 309 rf.lastApplied 309
flag 43659 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 69085 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 9688 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 508 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 54942 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 62422 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19354 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 58863 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 8708 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 1959 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38961 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 72065 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 69046 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 66456 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 23326 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 58926 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 9870 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 60223 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 93165 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 36029 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 97726 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 76901 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 59910 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 26598 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 83191 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 54096 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 78308 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 3379 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 92664 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 34998 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13004 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 20613 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 93095 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 13527 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
flag 66268 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 67737 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315}]
------------------------------------------------------
client write log 8352635190436552401 (index 316) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67122 term 57 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
flag 27504 term 57 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 57 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 55 leaderCommit: 314 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39440 term 57 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 80110 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8712 term 57 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 33232 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
flag 7223 term 57 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 45811 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32100 term 57 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 92052 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
flag 91859 term 57 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 62715 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
flag 60980 term 57 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 93473 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 19254 term 57 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 58440 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 62844 term 57 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 79246 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 317->316
------------------------------------------------------
term 57 leader 1 nextIndex[0]: 0  matchIndex[0]: 316
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 70996 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 58 server 0 vote for server 2
term 58 server 2 get vote from server 0
term 58 server 2 become leader
------------------------------------------------------
flag 77368 term 58 leader 2 nextIndex[0]: 317  matchIndex[0]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 78898 term 58 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316}]
------------------------------------------------------
client write log 6718275540961040401 (index 317) to leader 2
term 57 leader 1 nextIndex[0]: 0  matchIndex[0]: 316
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 9062 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 9700 term 58 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 58 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 65756 term 58 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316} {6718275540961040401 58 317}]
------------------------------------------------------
term 57 leader 1 nextIndex[0]: 0  matchIndex[0]: 316
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 77252 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 33454 term 58 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 58 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 58 leaderCommit: 317 
------------------------------------------------------
flag 52532 term 58 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 317 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316} {6718275540961040401 58 317}]
------------------------------------------------------
client write log 5310139805712015481 (index 318) to leader 2
client write log 3362123767815656657 (index 319) to leader 2
client write log 3027336393395662752 (index 320) to leader 2
client write log 6281687440770734959 (index 321) to leader 2
client write log 3689309669726911035 (index 322) to leader 2
client write log 5530393785274195784 (index 323) to leader 2
client write log 1002164664478768123 (index 324) to leader 2
client write log 6393620056526879462 (index 325) to leader 2
client write log 278901456038319905 (index 326) to leader 2
client write log 922517810101796013 (index 327) to leader 2
client write log 2405396625839736217 (index 328) to leader 2
client write log 8689991831119355071 (index 329) to leader 2
client write log 8245765205668025749 (index 330) to leader 2
client write log 1762756366072501720 (index 331) to leader 2
term 57 leader 1 nextIndex[0]: 0  matchIndex[0]: 316
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 6941 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 76645 term 58 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 58 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 58 leaderCommit: 317 
------------------------------------------------------
flag 32210 term 58 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 317 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 55 309} {3192524249332101164 55 310} {283243874799107001 55 311} {8395603423167285435 55 312} {1527552714008173737 55 313} {646992262115409771 55 314} {8352635190436552401 55 315} {8352635190436552401 57 316} {6718275540961040401 58 317} {5310139805712015481 58 318} {3362123767815656657 58 319} {3027336393395662752 58 320} {6281687440770734959 58 321} {3689309669726911035 58 322} {5530393785274195784 58 323} {1002164664478768123 58 324} {6393620056526879462 58 325} {278901456038319905 58 326} {922517810101796013 58 327} {2405396625839736217 58 328} {8689991831119355071 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 58 Server2 start snapshot! index=319
term 58 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=331
-------------------------------------------------------------
term 58 Server2 start snapshot! index=329
term 58 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
term 57 leader 1 nextIndex[0]: 0  matchIndex[0]: 316
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 30036 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
flag 30642 term 58 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 58 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 58 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 58
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 58 Server0 start snapshot! index=319
term 58 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=331
-------------------------------------------------------------
term 58 Server0 start snapshot! index=329
term 58 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 1
client write log 125369969073655143 (index 317) to leader 1
term 57 leader 1 nextIndex[0]: 0  matchIndex[0]: 316
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 80553 term 57 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 57 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 57 leaderCommit: 316 
------------------------------------------------------
term 58 server 2 AppendEntries false 领导者任期过期 args.Term 57
------------------------------------------------------
term 58 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 57 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89759 term 58 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 58 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 58 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 58 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 58
------------------------------------------------------
term 58 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 58 rf.commitIndex 329 rf.lastApplied 329
term 58 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 58 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 58 server 2 not vote for server 1, 日志不够新
term 58 server 0 not vote for server 1, 日志不够新
term 60 server 1 vote for server 2
term 60 server 2 get vote from server 1
term 60 server 2 become leader
------------------------------------------------------
term 60 server 0 vote for server 2
term 60 server 2 get outdate rpc reply from server 0
flag 72989 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 0
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 8571 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 0
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 332->331
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 77403 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 20307 term 60 leader 2 nextIndex[1]: 330  matchIndex[1]: 0
term 60 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18424 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 28668 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 9572 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 17085 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 server 1 not vote for server 2, 任期不够新
term 60 server 2 get outdate rpc reply from server 1
flag 49347 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 69324 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87776 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 6887 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 43562 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 16824 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 98654 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 7390 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66392 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 3630 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 16171 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 46446 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 4446 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 27954 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 2509 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 76185 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 2 not vote for server 1, 任期不够新
term 60 server 1 get outdate rpc reply from server 2
flag 77206 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 76006 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52152 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 28848 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 4586 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 75569 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 4918 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 1590 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 46893 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 77906 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
flag 72393 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 33838 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92934 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 59511 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331}]
------------------------------------------------------
client write log 125369969073655143 (index 332) to leader 2
flag 64008 term 60 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
flag 52579 term 60 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 60 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 58 leaderCommit: 331 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
flag 89806 term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
flag 93452 term 60 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
flag 88284 term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
flag 43618 term 60 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
term 60 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
flag 38406 term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
flag 36602 term 60 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
flag 80488 term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
flag 69730 term 60 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
term 60 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42151 term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
flag 29166 term 60 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43926 term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
flag 78208 term 60 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2867703059283761360 (index 333) to leader 2
flag 99732 term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
flag 28699 term 60 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 332 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332} {2867703059283761360 60 333}]
------------------------------------------------------
term 60 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14279 term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 333 
------------------------------------------------------
flag 94381 term 60 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 60 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 60 leaderCommit: 333 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332} {2867703059283761360 60 333}]
------------------------------------------------------
client write log 8866914089550946710 (index 334) to leader 2
client write log 3674444372561488266 (index 335) to leader 2
client write log 3967125048953755232 (index 336) to leader 2
client write log 4891278784053168915 (index 337) to leader 2
client write log 7776416266914914369 (index 338) to leader 2
client write log 2647984966888876283 (index 339) to leader 2
client write log 112557853640666118 (index 340) to leader 2
client write log 6209632700968770065 (index 341) to leader 2
client write log 1916926777279283202 (index 342) to leader 2
client write log 170802439172059735 (index 343) to leader 2
client write log 756079675194363053 (index 344) to leader 2
flag 19167 term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 60 leaderCommit: 333 
------------------------------------------------------
flag 3733 term 60 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 60 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 60 leaderCommit: 333 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 58 329} {8245765205668025749 58 330} {1762756366072501720 58 331} {125369969073655143 60 332} {2867703059283761360 60 333} {8866914089550946710 60 334} {3674444372561488266 60 335} {3967125048953755232 60 336} {4891278784053168915 60 337} {7776416266914914369 60 338} {2647984966888876283 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344}]
------------------------------------------------------
term 60 Server2 start snapshot! index=339
term 60 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=344
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 60 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 60
------------------------------------------------------
flag 54844 term 60 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 60 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344}]
------------------------------------------------------
term 60 Server1 start snapshot! index=339
term 60 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=344
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3484437914689556657 (index 345) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 server 2 not vote for server 0, 日志不够新
term 60 server 1 not vote for server 0, 日志不够新
term 62 server 1 vote for server 2
term 62 server 0 vote for server 2
term 62 server 2 get vote from server 1
term 62 server 2 become leader
------------------------------------------------------
term 62 server 2 get outdate rpc reply from server 0
flag 84874 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 0
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 1311 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 0
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 346->345
------------------------------------------------------
term 62 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 346->345
------------------------------------------------------
term 62 leader 2 nextIndex[0]: 333  matchIndex[0]: 0
term 62 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 60
------------------------------------------------------
flag 14084 term 62 leader 2 nextIndex[1]: 345  matchIndex[1]: 0
term 62 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 62 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 60 rf.commitIndex 339 rf.lastApplied 339
term 62 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46349 term 62 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 62 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 68243 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 80881 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 93080 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 93769 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 64549 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 90143 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 52758 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 46818 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 94042 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61911 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 67239 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 4109 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 57548 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 32974 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 99797 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97891 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 41155 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77793 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 5647 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 6915 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 59683 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83447 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 34139 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 55734 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 35709 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 1182 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 72270 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57415 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 52820 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
term 62 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16867 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 59190 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 26060 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 56740 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
flag 32203 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 26795 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345}]
------------------------------------------------------
client write log 3484437914689556657 (index 346) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15592 term 62 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
flag 51836 term 62 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 62 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 60 leaderCommit: 344 
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
flag 15903 term 62 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
flag 66495 term 62 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
flag 18462 term 62 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
flag 21933 term 62 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
flag 60260 term 62 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
flag 9253 term 62 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
term 62 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35725 term 62 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
flag 60018 term 62 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
term 62 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
flag 29860 term 62 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
flag 17508 term 62 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 62 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 62 leaderCommit: 346 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
term 62 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 60 339} {112557853640666118 60 340} {6209632700968770065 60 341} {1916926777279283202 60 342} {170802439172059735 60 343} {756079675194363053 60 344} {3484437914689556657 60 345} {3484437914689556657 62 346}]
------------------------------------------------------
  ... Passed --  75.5  3 1750  788857  346
--- PASS: TestSnapshotInstall2D (75.51s)
PASS
