=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 2223 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 51510 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7466723168440900307 (index 1) to leader 2
flag 70823 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 92996 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
flag 41809 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 16098 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
flag 83315 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 15610 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
flag 12980 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 83731 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
flag 20943 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 47628 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
flag 97449 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45269 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
flag 58807 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 36750 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7466723168440900307 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5155218315028332905 (index 2) to leader 2
flag 28560 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 37781 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7466723168440900307 1 1} {5155218315028332905 1 2}]
------------------------------------------------------
flag 21161 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 52216 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7466723168440900307 1 1} {5155218315028332905 1 2}]
------------------------------------------------------
client write log 5004600138699437678 (index 3) to leader 2
client write log 3775486724108237461 (index 4) to leader 2
client write log 11445714994931266 (index 5) to leader 2
client write log 6797547914449430098 (index 6) to leader 2
client write log 2885413138671685598 (index 7) to leader 2
client write log 9070339034628085354 (index 8) to leader 2
flag 97308 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 3260 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7466723168440900307 1 1} {5155218315028332905 1 2} {5004600138699437678 1 3} {3775486724108237461 1 4} {11445714994931266 1 5} {6797547914449430098 1 6} {2885413138671685598 1 7} {9070339034628085354 1 8}]
------------------------------------------------------
flag 547 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 63659 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7466723168440900307 1 1} {5155218315028332905 1 2} {5004600138699437678 1 3} {3775486724108237461 1 4} {11445714994931266 1 5} {6797547914449430098 1 6} {2885413138671685598 1 7} {9070339034628085354 1 8}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5023749555128060019 (index 9) to leader 2
flag 17446 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 98388 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {7466723168440900307 1 1} {5155218315028332905 1 2} {5004600138699437678 1 3} {3775486724108237461 1 4} {11445714994931266 1 5} {6797547914449430098 1 6} {2885413138671685598 1 7} {9070339034628085354 1 8} {5023749555128060019 1 9}]
------------------------------------------------------
term 2 server 0 AppendEntries false 领导者任期过期 args.Term 1
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 2 Server2 start snapshot! index=9
term 2 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 2 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get outdate rpc reply from server 0
flag 6918 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 13970 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
term 4 Server1 start snapshot! index=9
term 4 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 9637 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 69358 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 48528 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 21453 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 17822 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 11684 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 51456 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 4 server 1 not vote for server 0, 任期不够新
term 4 server 0 get outdate rpc reply from server 1
flag 34087 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 56437 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
flag 33379 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 77349 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 64487 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 99869 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 30154 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 8789 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 31408 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 19705 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 83101 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 13369 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 5 server 1 vote for server 0
term 5 server 0 get vote from server 1
term 5 server 0 become leader
------------------------------------------------------
flag 84680 term 5 leader 0 nextIndex[1]: 10  matchIndex[1]: 0
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 46021 term 5 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
client write log 2795880150689807936 (index 10) to leader 0
flag 38598 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 22291 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 83295 term 5 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 45998 term 5 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2795880150689807936 5 10}]
------------------------------------------------------
flag 95886 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 72114 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 11850 term 5 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 5 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 5 leaderCommit: 10 
------------------------------------------------------
flag 21863 term 5 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2795880150689807936 5 10}]
------------------------------------------------------
client write log 2666064832694687671 (index 11) to leader 0
client write log 617635217046325580 (index 12) to leader 0
client write log 3651175665820816459 (index 13) to leader 0
client write log 5273297498028607634 (index 14) to leader 0
client write log 5396006385275434501 (index 15) to leader 0
client write log 5763603714836782554 (index 16) to leader 0
client write log 8621300741079941318 (index 17) to leader 0
flag 3606 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 32694 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 59707 term 5 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 5 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 5 leaderCommit: 10 
------------------------------------------------------
flag 79104 term 5 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 79187 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 41568 term 4 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
flag 14297 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 61603 term 5 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5271169436921355569 (index 10) to leader 2
flag 51926 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 9
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 5 server 0 AppendEntries false 领导者任期过期 args.Term 4
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12423 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 89873 term 5 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 2 not vote for server 0, 日志不够新
term 5 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9384 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 31623 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 6587 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 41691 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33678 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 10212 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 48112 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 5401 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 85271 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 24202 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 64365 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 16202 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32683 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 82878 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 6831 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 14865 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 9400 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 87283 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 82756 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 79899 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 10657 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 14094 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 71524 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 1203 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55865 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 93812 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 85825 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 82353 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 61977 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 90133 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 31722 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 36922 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4496 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 32417 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
flag 42873 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 75363 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5271169436921355569 (index 18) to leader 0
flag 35417 term 5 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
flag 21280 term 5 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 5 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 5 leaderCommit: 17 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
flag 18010 term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 7592 term 5 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
flag 71677 term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 leader 0 nextIndex[2]: 0  matchIndex[2]: 18
term 5 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 5 server 2 InstallSnapshot fail
rf.commitIndex 18 args.LastIncludedIndex 9
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 5 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
flag 16805 term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 86071 term 5 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
flag 27877 term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 64372 term 5 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
flag 24284 term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 76918 term 5 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85028 term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 32332 term 5 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
!!!!!!diconnect server 1
client write log 891403266402809362 (index 19) to leader 0
flag 92421 term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
term 5 leader 0 nextIndex[2]: 0  matchIndex[2]: 18
term 5 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 5 server 2 InstallSnapshot fail
rf.commitIndex 18 args.LastIncludedIndex 9
------------------------------------------------------
term 5 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
flag 3092 term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 5 leaderCommit: 18 
------------------------------------------------------
flag 28464 term 5 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 5 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {2795880150689807936 5 10} {2666064832694687671 5 11} {617635217046325580 5 12} {3651175665820816459 5 13} {5273297498028607634 5 14} {5396006385275434501 5 15} {5763603714836782554 5 16} {8621300741079941318 5 17} {5271169436921355569 5 18} {891403266402809362 5 19}]
------------------------------------------------------
term 5 Server0 start snapshot! index=19
term 5 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 20->19
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
term 5 leader 0 nextIndex[2]: 0  matchIndex[2]: 19
term 5 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
term 5 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 5 rf.commitIndex 19 rf.lastApplied 19
term 5 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
client write log 4752885752099499461 (index 20) to leader 0
client write log 2970799999660822612 (index 21) to leader 0
client write log 1208211052588485753 (index 22) to leader 0
client write log 2347912209848509265 (index 23) to leader 0
client write log 2470872759468463661 (index 24) to leader 0
client write log 6923325038269819 (index 25) to leader 0
client write log 9091185991467644631 (index 26) to leader 0
client write log 5836656147812666616 (index 27) to leader 0
client write log 6223876824180326264 (index 28) to leader 0
client write log 7970407006943657430 (index 29) to leader 0
client write log 3196732392008034800 (index 30) to leader 0
client write log 4045308765711643537 (index 31) to leader 0
term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 5
------------------------------------------------------
flag 93804 term 5 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 5 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 5 leaderCommit: 19 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 5 19} {4752885752099499461 5 20} {2970799999660822612 5 21} {1208211052588485753 5 22} {2347912209848509265 5 23} {2470872759468463661 5 24} {6923325038269819 5 25} {9091185991467644631 5 26} {5836656147812666616 5 27} {6223876824180326264 5 28} {7970407006943657430 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31}]
------------------------------------------------------
term 5 Server0 start snapshot! index=29
term 5 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 5
------------------------------------------------------
flag 93420 term 5 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 5 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31}]
------------------------------------------------------
term 5 Server2 start snapshot! index=29
term 5 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5085496046853577149 (index 32) to leader 0
term 5 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 5 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 5
------------------------------------------------------
flag 745 term 5 leader 0 nextIndex[2]: 32  matchIndex[2]: 31
term 5 leader 0 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 5 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 server 2 vote for server 0
term 7 server 1 vote for server 0
term 7 server 0 get vote from server 2
term 7 server 0 become leader
------------------------------------------------------
term 7 server 0 get outdate rpc reply from server 1
flag 59890 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 0
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 11203 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 0
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 33->32
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 server 2 not vote for server 0, 任期不够新
term 7 server 0 get outdate rpc reply from server 2
term 7 leader 0 nextIndex[1]: 19  matchIndex[1]: 0
term 7 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 5
------------------------------------------------------
flag 14421 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 1 InstallSnapshot success
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 5 rf.commitIndex 29 rf.lastApplied 29
term 7 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 12919 term 7 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 7 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 46838 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 59583 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 11234 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76770 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 65387 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76069 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 85391 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75728 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 98541 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 95706 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 56310 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 7034 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 26009 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 60950 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 67163 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 67086 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 8621 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71271 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 85131 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84346 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 91284 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 8158 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 63603 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83572 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 41214 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 40643 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 57649 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 21786 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 46417 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
flag 97702 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 89675 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32}]
------------------------------------------------------
client write log 5085496046853577149 (index 33) to leader 0
flag 3541 term 7 leader 0 nextIndex[1]: 33  matchIndex[1]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
flag 93121 term 7 leader 0 nextIndex[2]: 33  matchIndex[2]: 32
term 7 leader 0 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 5 leaderCommit: 31 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
term 7 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13097 term 7 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
flag 5052 term 7 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69552 term 7 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
flag 58738 term 7 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
term 7 server 0 not vote for server 1, 任期不够新
term 7 server 1 get outdate rpc reply from server 0
flag 74543 term 7 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
flag 70032 term 7 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
flag 91338 term 7 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
flag 98138 term 7 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
term 7 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1888 term 7 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
flag 47342 term 7 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 7 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4383586774972996281 (index 34) to leader 0
flag 61694 term 7 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
flag 86233 term 7 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 33 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33} {4383586774972996281 7 34}]
------------------------------------------------------
flag 5150 term 7 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
flag 89186 term 7 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 7 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33} {4383586774972996281 7 34}]
------------------------------------------------------
client write log 31045837979961146 (index 35) to leader 0
client write log 1173590162131740313 (index 36) to leader 0
client write log 2736312623232569106 (index 37) to leader 0
client write log 148991840924472465 (index 38) to leader 0
client write log 6365560208017217230 (index 39) to leader 0
client write log 8665027888404831595 (index 40) to leader 0
client write log 5590320017904229977 (index 41) to leader 0
client write log 2267456990351912792 (index 42) to leader 0
client write log 6549356111999584765 (index 43) to leader 0
client write log 4789916599681908176 (index 44) to leader 0
client write log 4966814730167475572 (index 45) to leader 0
client write log 7701346105240416367 (index 46) to leader 0
client write log 419738486517658604 (index 47) to leader 0
client write log 924398909847788456 (index 48) to leader 0
flag 32034 term 7 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
flag 48688 term 7 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 7 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 7 leaderCommit: 34 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 5 29} {3196732392008034800 5 30} {4045308765711643537 5 31} {5085496046853577149 5 32} {5085496046853577149 7 33} {4383586774972996281 7 34} {31045837979961146 7 35} {1173590162131740313 7 36} {2736312623232569106 7 37} {148991840924472465 7 38} {6365560208017217230 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48}]
------------------------------------------------------
term 7 Server0 start snapshot! index=39
term 7 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
term 7 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 7 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 61028 term 7 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 7 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 7 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48}]
------------------------------------------------------
term 7 Server2 start snapshot! index=39
term 7 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4619017187783514407 (index 49) to leader 0
term 7 server 2 not vote for server 1, 日志不够新
term 7 server 0 not vote for server 1, 日志不够新
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get outdate rpc reply from server 1
flag 64520 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 78657 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
term 9 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 34  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 7
------------------------------------------------------
flag 17655 term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 7 rf.commitIndex 39 rf.lastApplied 39
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 44049 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 3165 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 9802 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 83641 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 18436 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 97194 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 10186 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 66096 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 80457 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 73345 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 45635 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 74145 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 48576 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 17795 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 34566 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 30844 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 26744 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 85990 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 15417 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 61498 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 41844 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 14104 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 84367 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 5339 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 5197 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 90049 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 73171 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 6451 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 35587 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 28660 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 84164 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 29425 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
flag 32347 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 74054 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49}]
------------------------------------------------------
client write log 4619017187783514407 (index 50) to leader 0
flag 38800 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
flag 96121 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 7 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 39} {8665027888404831595 7 40} {5590320017904229977 7 41} {2267456990351912792 7 42} {6549356111999584765 7 43} {4789916599681908176 7 44} {4966814730167475572 7 45} {7701346105240416367 7 46} {419738486517658604 7 47} {924398909847788456 7 48} {4619017187783514407 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 1546 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 59926 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 34256 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 77099 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
flag 31754 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 10908 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
flag 92592 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 76999 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
flag 50222 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 56115 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48763 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 92185 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 38505 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 56296 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 24626 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 75101 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 51->50
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 7
------------------------------------------------------
flag 62591 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 7
------------------------------------------------------
flag 37389 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 vote for server 1
term 10 server 1 get vote from server 2
term 10 server 1 become leader
------------------------------------------------------
flag 75520 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 79147 term 10 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 7 49} {4619017187783514407 9 50}]
------------------------------------------------------
client write log 4487040748668144928 (index 51) to leader 1
term 10 server 2 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 2
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 7
------------------------------------------------------
flag 76038 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 32437 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 87325 term 10 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 7 49} {4619017187783514407 9 50} {4487040748668144928 10 51}]
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 7
------------------------------------------------------
flag 45711 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 54706 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 9973 term 10 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 7 49} {4619017187783514407 9 50} {4487040748668144928 10 51}]
------------------------------------------------------
client write log 3954720417433072769 (index 52) to leader 1
client write log 5144816048825688260 (index 53) to leader 1
client write log 2474813405166600248 (index 54) to leader 1
client write log 1259515298327715628 (index 55) to leader 1
client write log 6965368081775750456 (index 56) to leader 1
client write log 2496547817326585261 (index 57) to leader 1
client write log 1563596203738412569 (index 58) to leader 1
client write log 3596755179763235687 (index 59) to leader 1
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 7
------------------------------------------------------
flag 21849 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 57959 term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 87209 term 10 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 10 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 7 49} {4619017187783514407 9 50} {4487040748668144928 10 51} {3954720417433072769 10 52} {5144816048825688260 10 53} {2474813405166600248 10 54} {1259515298327715628 10 55} {6965368081775750456 10 56} {2496547817326585261 10 57} {1563596203738412569 10 58} {3596755179763235687 10 59}]
------------------------------------------------------
term 10 Server1 start snapshot! index=59
term 10 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 7
------------------------------------------------------
flag 12264 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
flag 43253 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 Server2 start snapshot! index=59
term 10 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6487190640480744187 (index 60) to leader 1
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 7
------------------------------------------------------
flag 92673 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
flag 57970 term 10 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
term 10 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 10 rf.commitIndex 59 rf.lastApplied 59
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97365 term 10 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 92958 term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6084 term 10 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 29919 term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
flag 82030 term 10 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 28812 term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72952 term 10 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 60082 term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
flag 75534 term 10 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 3721 term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
flag 45870 term 10 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 67661 term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {6487190640480744187 10 60}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5427595335634876916 (index 61) to leader 1
flag 21138 term 10 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
flag 47335 term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {6487190640480744187 10 60} {5427595335634876916 10 61}]
------------------------------------------------------
flag 20867 term 10 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 88843 term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {6487190640480744187 10 60} {5427595335634876916 10 61}]
------------------------------------------------------
client write log 2564108013302464356 (index 62) to leader 1
client write log 2645216797885103671 (index 63) to leader 1
client write log 1243126748001040388 (index 64) to leader 1
client write log 2616910454027398909 (index 65) to leader 1
client write log 3109484032796225861 (index 66) to leader 1
client write log 109813365607868716 (index 67) to leader 1
client write log 9017491689031750919 (index 68) to leader 1
client write log 4623561729526439767 (index 69) to leader 1
client write log 1805323312568953171 (index 70) to leader 1
client write log 4011534326120827873 (index 71) to leader 1
flag 54929 term 10 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 88148 term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 59} {6487190640480744187 10 60} {5427595335634876916 10 61} {2564108013302464356 10 62} {2645216797885103671 10 63} {1243126748001040388 10 64} {2616910454027398909 10 65} {3109484032796225861 10 66} {109813365607868716 10 67} {9017491689031750919 10 68} {4623561729526439767 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71}]
------------------------------------------------------
term 10 Server1 start snapshot! index=69
term 10 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=71
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16030 term 10 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 10 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71}]
------------------------------------------------------
term 10 Server0 start snapshot! index=69
term 10 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=71
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3984653602330413645 (index 72) to leader 1
term 10 server 1 not vote for server 2, 日志不够新
term 10 server 0 not vote for server 2, 日志不够新
term 12 server 2 vote for server 1
term 12 server 0 vote for server 1
term 12 server 1 get vote from server 2
term 12 server 1 become leader
------------------------------------------------------
term 12 server 1 get outdate rpc reply from server 0
flag 28089 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 38873 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 73->72
------------------------------------------------------
term 12 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 73->72
------------------------------------------------------
flag 97500 term 12 leader 1 nextIndex[0]: 72  matchIndex[0]: 0
term 12 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 61  matchIndex[2]: 0
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
term 12 server 2 InstallSnapshot success
------------------------------------------------------
term 12 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 10 rf.commitIndex 69 rf.lastApplied 69
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2111 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 59515 term 12 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 12 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 11334 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 92447 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 31718 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 35441 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70561 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 64146 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 0 not vote for server 1, 任期不够新
term 12 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32923 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 42047 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 11534 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 20500 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13918 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 6785 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53113 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 71905 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 22061 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 186 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74833 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 94861 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 46235 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 78893 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 80741 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 27318 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 42797 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 93606 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 41210 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 89756 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 99077 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 53887 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 82366 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 991 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81406 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 34278 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
flag 60009 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 63276 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72}]
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3984653602330413645 (index 73) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47484 term 12 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
flag 39495 term 12 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 12 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 10 leaderCommit: 71 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
flag 24408 term 12 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
flag 46875 term 12 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80652 term 12 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
flag 39697 term 12 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63694 term 12 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
flag 17020 term 12 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:73 
term 12 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7395 term 12 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
flag 45450 term 12 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
term 12 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13105 term 12 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
flag 44075 term 12 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
term 12 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3322562976761837539 (index 74) to leader 1
flag 84384 term 12 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
flag 31618 term 12 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 73 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73} {3322562976761837539 12 74}]
------------------------------------------------------
flag 87468 term 12 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 12 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 12 leaderCommit: 74 
------------------------------------------------------
flag 68055 term 12 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 74 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73} {3322562976761837539 12 74}]
------------------------------------------------------
client write log 1037221455765568550 (index 75) to leader 1
client write log 8689012584335601299 (index 76) to leader 1
client write log 1552142008792396195 (index 77) to leader 1
client write log 5842701864763929688 (index 78) to leader 1
client write log 8138574076617641555 (index 79) to leader 1
client write log 1217785167279953397 (index 80) to leader 1
client write log 8379240793292287781 (index 81) to leader 1
client write log 8910773527914204129 (index 82) to leader 1
client write log 3429712377045991784 (index 83) to leader 1
client write log 7681555481545620783 (index 84) to leader 1
client write log 7542563305887509728 (index 85) to leader 1
client write log 2153335048447041133 (index 86) to leader 1
client write log 2529792164440720393 (index 87) to leader 1
client write log 7100121898431399185 (index 88) to leader 1
client write log 8443490617319056307 (index 89) to leader 1
flag 16030 term 12 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 12 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 12 leaderCommit: 74 
------------------------------------------------------
flag 3588 term 12 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 12 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 12 leaderCommit: 74 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 10 69} {1805323312568953171 10 70} {4011534326120827873 10 71} {3984653602330413645 10 72} {3984653602330413645 12 73} {3322562976761837539 12 74} {1037221455765568550 12 75} {8689012584335601299 12 76} {1552142008792396195 12 77} {5842701864763929688 12 78} {8138574076617641555 12 79} {1217785167279953397 12 80} {8379240793292287781 12 81} {8910773527914204129 12 82} {3429712377045991784 12 83} {7681555481545620783 12 84} {7542563305887509728 12 85} {2153335048447041133 12 86} {2529792164440720393 12 87} {7100121898431399185 12 88} {8443490617319056307 12 89}]
------------------------------------------------------
term 12 Server1 start snapshot! index=79
term 12 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=89
-------------------------------------------------------------
term 12 Server1 start snapshot! index=89
term 12 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 52528 term 12 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 12 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 12 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 12 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 12
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 12 89}]
------------------------------------------------------
term 12 Server0 start snapshot! index=79
term 12 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=89
-------------------------------------------------------------
term 12 Server0 start snapshot! index=89
term 12 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8435573237692322759 (index 90) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 74->73
------------------------------------------------------
term 12 server 1 not vote for server 2, 日志不够新
term 12 server 0 not vote for server 2, 日志不够新
term 14 server 2 vote for server 1
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
term 14 server 1 get outdate rpc reply from server 0
flag 34235 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 276 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 91->90
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 91->90
------------------------------------------------------
flag 27658 term 14 leader 1 nextIndex[0]: 90  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 12
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 12 rf.commitIndex 89 rf.lastApplied 89
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 79298 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 19242 term 14 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17938 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 85025 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 37614 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 52548 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 35283 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 89196 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 34115 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 49432 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18172 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 92006 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44029 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 57874 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 91714 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 66172 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 64160 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 24247 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66559 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 41268 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 69198 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 20458 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15517 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 92113 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 85496 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 80427 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 83666 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 92909 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 89632 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 17080 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54593 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 46317 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
flag 53969 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 74839 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 12 89} {8435573237692322759 12 90}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 8435573237692322759 (index 91) to leader 1
flag 90302 term 14 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
flag 13569 term 14 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 12 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
flag 1324 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 43320 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
flag 35512 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 66860 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87468 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 14861 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
flag 39179 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 33501 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
flag 67197 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 98202 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
flag 97786 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 26459 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 46836 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 55534 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 77746 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 21442 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 39832 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 14243 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
flag 63860 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 54957 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91}]
------------------------------------------------------
flag 90218 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 65469 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
client write log 2059186763842274874 (index 92) to leader 2
flag 91507 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 31202 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91} {2059186763842274874 15 92}]
------------------------------------------------------
flag 39430 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 73079 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53531 term 15 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 15 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 76036 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91} {2059186763842274874 15 92}]
------------------------------------------------------
flag 97818 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 32177 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
client write log 5191905968598706337 (index 93) to leader 2
client write log 7968416956438977508 (index 94) to leader 2
client write log 558486427213400068 (index 95) to leader 2
client write log 4250767875234384581 (index 96) to leader 2
client write log 8065100779434811433 (index 97) to leader 2
client write log 1380300656507882575 (index 98) to leader 2
client write log 7836810761748787881 (index 99) to leader 2
client write log 3175431019049055338 (index 100) to leader 2
client write log 7006263192539852861 (index 101) to leader 2
flag 41322 term 15 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 15 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 84618 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 12 89} {8435573237692322759 12 90} {8435573237692322759 14 91} {2059186763842274874 15 92} {5191905968598706337 15 93} {7968416956438977508 15 94} {558486427213400068 15 95} {4250767875234384581 15 96} {8065100779434811433 15 97} {1380300656507882575 15 98} {7836810761748787881 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 Server2 start snapshot! index=99
term 15 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
flag 67206 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 65447 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 14008 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 70389 term 14 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 42692 term 14 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 15 Server0 start snapshot! index=99
term 15 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 1
client write log 188675646670242609 (index 92) to leader 1
flag 70846 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 15 rf.commitIndex 99 rf.lastApplied 99
flag 57836 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 14175 term 15 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 41279 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 4401 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 102->101
------------------------------------------------------
flag 84921 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 101
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 101 args.LastIncludedIndex 99
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 71186 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 84283 term 15 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 63965 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 55894 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 102->101
------------------------------------------------------
flag 58891 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 101
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 101 args.LastIncludedIndex 99
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 59308 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 33573 term 15 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28431 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 70721 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 92329 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 9357 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36167 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 82750 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 96606 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 23329 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42005 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 49613 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 65829 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 3608 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 78082 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 29564 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61502 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 50490 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50418 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 71173 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 45140 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 92764 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 1 not vote for server 2, 日志不够新
term 15 server 2 get outdate rpc reply from server 1
flag 55504 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 35950 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
flag 98063 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 57111 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101}]
------------------------------------------------------
client write log 188675646670242609 (index 102) to leader 2
flag 46526 term 15 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
flag 20369 term 15 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 15 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 15 leaderCommit: 101 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
flag 3878 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 91600 term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47863 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 51942 term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
flag 50330 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 31574 term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
flag 91086 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 30126 term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 103->102
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 66902 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 102
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 102 args.LastIncludedIndex 99
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
flag 68421 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 10284 term 15 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 15 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6043301472482819814 (index 103) to leader 2
flag 40217 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 81221 term 15 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102} {6043301472482819814 15 103}]
------------------------------------------------------
flag 14116 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 103 
------------------------------------------------------
flag 70698 term 15 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 15 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 103 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102} {6043301472482819814 15 103}]
------------------------------------------------------
client write log 7071783768487226574 (index 104) to leader 2
client write log 4583237510344665633 (index 105) to leader 2
client write log 7733605219704176943 (index 106) to leader 2
client write log 149998462960503201 (index 107) to leader 2
client write log 2476698116165194287 (index 108) to leader 2
client write log 4467916432977630307 (index 109) to leader 2
flag 99113 term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 103 
------------------------------------------------------
flag 89497 term 15 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 15 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 103 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 15 99} {3175431019049055338 15 100} {7006263192539852861 15 101} {188675646670242609 15 102} {6043301472482819814 15 103} {7071783768487226574 15 104} {4583237510344665633 15 105} {7733605219704176943 15 106} {149998462960503201 15 107} {2476698116165194287 15 108} {4467916432977630307 15 109}]
------------------------------------------------------
term 15 Server2 start snapshot! index=109
term 15 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 15
------------------------------------------------------
flag 49975 term 15 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 15 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 15 109}]
------------------------------------------------------
term 15 Server1 start snapshot! index=109
term 15 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7019415921370905864 (index 110) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 15
------------------------------------------------------
flag 96196 term 15 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 15 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 0 vote for server 2
term 17 server 2 get outdate rpc reply from server 0
flag 66832 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 65605 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 111->110
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 103  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 15
------------------------------------------------------
flag 36727 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 15 rf.commitIndex 109 rf.lastApplied 109
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 70187 term 17 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 17 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 73418 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 53298 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 40591 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 56555 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 440 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 53086 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 3803 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76419 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 26585 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 76828 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 92195 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 65676 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 26282 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22086 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 99443 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 50508 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 65 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 32766 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 86905 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 89293 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 87501 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 630 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 42359 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15090 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 10547 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 13055 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 38041 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 9022 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 23440 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 74241 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 51806 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
flag 13785 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 43182 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 15 109} {7019415921370905864 15 110}]
------------------------------------------------------
client write log 7019415921370905864 (index 111) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72040 term 17 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
flag 63846 term 17 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 17 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 15 leaderCommit: 109 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22841 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 41806 term 17 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
flag 26641 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 78258 term 17 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32277 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 78881 term 17 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
flag 28103 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 30769 term 17 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
flag 48875 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 8710 term 17 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
flag 38198 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 78516 term 17 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111}]
------------------------------------------------------
term 17 server 1 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 3540914498574387913 (index 112) to leader 2
flag 95306 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
flag 27853 term 17 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 111 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112}]
------------------------------------------------------
flag 29179 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 6721 term 17 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 17 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112}]
------------------------------------------------------
client write log 4835921093542687270 (index 113) to leader 2
client write log 549785063449720134 (index 114) to leader 2
client write log 1454640163333489311 (index 115) to leader 2
client write log 8882914859843963083 (index 116) to leader 2
client write log 8807422428073425189 (index 117) to leader 2
client write log 2177604897226406773 (index 118) to leader 2
flag 82594 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 22646 term 17 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 17 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118}]
------------------------------------------------------
flag 68137 term 17 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 17 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 76504 term 17 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 17 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4392326252923179505 (index 119) to leader 2
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get outdate rpc reply from server 0
flag 78989 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 59568 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 120->119
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 120->119
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24379 term 19 leader 2 nextIndex[0]: 112  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 73904 term 19 leader 2 nextIndex[1]: 119  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 46457 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 33501 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 70201 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 9917 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 5551 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 83495 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 42467 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 88784 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 96348 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 89982 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 48565 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 85657 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 70046 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 79515 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 50238 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 87410 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 31607 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 74943 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 27579 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 15754 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 42852 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 25755 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15627 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 19277 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 92289 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 88440 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 40957 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 92891 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 52894 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 9768 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 14447 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 81769 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 32972 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 85685 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
flag 41047 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 4 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119}]
------------------------------------------------------
client write log 4392326252923179505 (index 120) to leader 2
term 19 server 2 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 2
flag 62276 term 19 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
flag 75497 term 19 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 118 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 15 109} {7019415921370905864 15 110} {7019415921370905864 17 111} {3540914498574387913 17 112} {4835921093542687270 17 113} {549785063449720134 17 114} {1454640163333489311 17 115} {8882914859843963083 17 116} {8807422428073425189 17 117} {2177604897226406773 17 118} {4392326252923179505 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
flag 3365 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 11622 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91795 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 23096 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
flag 68242 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 24654 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:120 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
flag 95701 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 8987 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
flag 90574 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 19199 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 70293 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 99497 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 87702 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 37069 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 38525 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 17574 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 58631 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 24971 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 0 get vote from server 1
term 20 server 0 become leader
------------------------------------------------------
flag 16252 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 86360 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 17 119} {4392326252923179505 19 120}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1963145413745468530 (index 121) to leader 0
flag 12539 term 19 leader 2 nextIndex[0]: 121  matchIndex[0]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 82076 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 40251 term 20 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 42076 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 121->120
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 120
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
flag 39840 term 19 leader 2 nextIndex[1]: 121  matchIndex[1]: 120
term 19 leader 2 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 120 
------------------------------------------------------
flag 19744 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 51239 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121}]
------------------------------------------------------
client write log 4140493068866879422 (index 122) to leader 0
client write log 8818885928859618168 (index 123) to leader 0
client write log 1777929244747847170 (index 124) to leader 0
client write log 4714370020450188062 (index 125) to leader 0
client write log 7016341804898333883 (index 126) to leader 0
client write log 9223330257009482194 (index 127) to leader 0
client write log 6864275475850425739 (index 128) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 120
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 120
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
flag 54047 term 20 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 20 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 96424 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 120
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 120
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
flag 19833 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 95384 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6384808679134818301 (index 121) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 120
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 120
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20540 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 52603 term 20 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 68081 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 11796 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 129->128
------------------------------------------------------
flag 98853 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 128
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 128 args.LastIncludedIndex 119
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 24007 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 43454 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 69751 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 77302 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 17791 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 80007 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 58193 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 17664 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 129->128
------------------------------------------------------
flag 89827 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 128
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 17
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 128 args.LastIncludedIndex 119
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 2 not vote for server 0, 日志不够新
term 20 server 0 get outdate rpc reply from server 2
flag 29205 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 32220 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 17 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91002 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 84299 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 99461 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 57764 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53760 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 5002 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 844 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 10735 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 10518 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 54049 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 30995 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 43684 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 98588 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 63268 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 47292 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 4066 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23855 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 85728 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38238 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 99765 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
flag 65203 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 52674 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128}]
------------------------------------------------------
client write log 6384808679134818301 (index 129) to leader 0
flag 94833 term 20 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 54098 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128} {6384808679134818301 20 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 17 119} {4392326252923179505 19 120} {1963145413745468530 20 121} {4140493068866879422 20 122} {8818885928859618168 20 123} {1777929244747847170 20 124} {4714370020450188062 20 125} {7016341804898333883 20 126} {9223330257009482194 20 127} {6864275475850425739 20 128} {6384808679134818301 20 129}]
------------------------------------------------------
term 20 Server0 start snapshot! index=129
term 20 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 130->129
------------------------------------------------------
flag 66394 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 20 rf.commitIndex 129 rf.lastApplied 129
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 Server1 start snapshot! index=129
term 20 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 83644 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 68134 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
flag 95385 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 8204 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
flag 51666 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 63586 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
flag 97456 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 77861 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 6401655795043501847 (index 130) to leader 0
flag 20798 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 53588 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {6401655795043501847 20 130}]
------------------------------------------------------
flag 45383 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 41360 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 20 129} {6401655795043501847 20 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 131->130
------------------------------------------------------
client write log 223730136021671684 (index 131) to leader 0
client write log 24377615316062438 (index 132) to leader 0
client write log 8818611302655053760 (index 133) to leader 0
client write log 1406086020669496144 (index 134) to leader 0
client write log 5059422321689871740 (index 135) to leader 0
client write log 2322215064440084088 (index 136) to leader 0
client write log 1502200454368795328 (index 137) to leader 0
client write log 4647945971724107949 (index 138) to leader 0
client write log 5060591865062089519 (index 139) to leader 0
client write log 5693960146118046633 (index 140) to leader 0
client write log 373910789263640454 (index 141) to leader 0
client write log 1880269874542240083 (index 142) to leader 0
flag 34418 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 130
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 2 InstallSnapshot fail
rf.commitIndex 130 args.LastIncludedIndex 129
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
flag 83371 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 21989 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 129} {6401655795043501847 20 130} {223730136021671684 20 131} {24377615316062438 20 132} {8818611302655053760 20 133} {1406086020669496144 20 134} {5059422321689871740 20 135} {2322215064440084088 20 136} {1502200454368795328 20 137} {4647945971724107949 20 138} {5060591865062089519 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142}]
------------------------------------------------------
term 20 Server0 start snapshot! index=139
term 20 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=142
-------------------------------------------------------------
term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
flag 73997 term 20 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142}]
------------------------------------------------------
term 20 Server2 start snapshot! index=139
term 20 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5221333451339769005 (index 143) to leader 0
term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
flag 21255 term 20 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 2 vote for server 0
term 22 server 1 vote for server 0
term 22 server 0 get vote from server 2
term 22 server 0 become leader
------------------------------------------------------
term 22 server 0 get outdate rpc reply from server 1
flag 94342 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 10775 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
term 22 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
flag 40605 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 1 InstallSnapshot success
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 20 rf.commitIndex 139 rf.lastApplied 139
flag 39983 term 22 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 22 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 8612 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 78491 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 82222 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 48508 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 70049 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 91801 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 66566 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 20248 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 19300 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 70240 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 1849 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45013 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 30201 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 32420 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 72920 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 69224 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 62610 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 17886 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 59662 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 57161 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 20940 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 63035 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 44256 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 91940 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 35274 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 67038 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 12249 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26551 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 65296 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48439 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 41838 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
flag 78515 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 73720 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143}]
------------------------------------------------------
client write log 5221333451339769005 (index 144) to leader 0
flag 8773 term 22 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 65804 term 22 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 22 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41348 term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 49541 term 22 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
flag 6909 term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 83403 term 22 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89682 term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 19405 term 22 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
flag 11847 term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 92764 term 22 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38941 term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 92372 term 22 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
flag 349 term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 4305 term 22 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1524527558272118938 (index 145) to leader 0
flag 1460 term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 16531 term 22 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144} {1524527558272118938 22 145}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93207 term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 24942 term 22 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 22 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144} {1524527558272118938 22 145}]
------------------------------------------------------
client write log 915770082663432604 (index 146) to leader 0
client write log 224224545711910318 (index 147) to leader 0
client write log 8199781004837087438 (index 148) to leader 0
client write log 2158039640536846689 (index 149) to leader 0
client write log 5361431610638718804 (index 150) to leader 0
client write log 7422266738108475519 (index 151) to leader 0
client write log 7674658002009881513 (index 152) to leader 0
client write log 2013146928904752194 (index 153) to leader 0
client write log 2445773630452724753 (index 154) to leader 0
client write log 4975528688518470727 (index 155) to leader 0
client write log 1359092382235180152 (index 156) to leader 0
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29507 term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 26384 term 22 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 22 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 20 139} {5693960146118046633 20 140} {373910789263640454 20 141} {1880269874542240083 20 142} {5221333451339769005 20 143} {5221333451339769005 22 144} {1524527558272118938 22 145} {915770082663432604 22 146} {224224545711910318 22 147} {8199781004837087438 22 148} {2158039640536846689 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156}]
------------------------------------------------------
term 22 Server0 start snapshot! index=149
term 22 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=156
-------------------------------------------------------------
term 22 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 27272 term 22 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 22 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156}]
------------------------------------------------------
term 22 Server2 start snapshot! index=149
term 22 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=156
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2494200931297566150 (index 157) to leader 0
term 22 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
term 24 server 2 vote for server 0
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
term 24 server 0 get outdate rpc reply from server 1
flag 46465 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 66377 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 158->157
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 158->157
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 74443 term 24 leader 0 nextIndex[2]: 157  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 22 rf.commitIndex 149 rf.lastApplied 149
flag 80297 term 24 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 24 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 38124 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 24578 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 45085 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 54300 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 42030 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 5156 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 47691 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85323 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 98377 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 88028 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 22886 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 8872 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 67228 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 24597 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 48854 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 41729 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 78908 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 20673 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 6952 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 11015 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 65848 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 25356 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 88734 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55064 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 59139 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 40171 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 24719 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
flag 33853 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 38326 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 98342 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 97692 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
flag 73842 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 81367 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73183 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 64420 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157}]
------------------------------------------------------
client write log 2494200931297566150 (index 158) to leader 0
flag 61749 term 24 leader 0 nextIndex[1]: 158  matchIndex[1]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
flag 45581 term 24 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 24 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 22 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
flag 27382 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 38152 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56779 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 83108 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66745 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 10511 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
flag 69252 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 27013 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
flag 19867 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 40592 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
flag 12098 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 17915 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 31337 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 60111 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 159->158
------------------------------------------------------
flag 81139 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 76156 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
flag 33348 term 25 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 22786 term 25 leader 2 nextIndex[1]: 159  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158}]
------------------------------------------------------
flag 62011 term 24 leader 0 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
client write log 4985440612016394674 (index 159) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 159->158
------------------------------------------------------
flag 42300 term 25 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 96030 term 25 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 25 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 22 149} {5361431610638718804 22 150} {7422266738108475519 22 151} {7674658002009881513 22 152} {2013146928904752194 22 153} {2445773630452724753 22 154} {4975528688518470727 22 155} {1359092382235180152 22 156} {2494200931297566150 22 157} {2494200931297566150 24 158} {4985440612016394674 25 159}]
------------------------------------------------------
term 25 Server2 start snapshot! index=159
term 25 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 99714 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 25 Server1 start snapshot! index=159
term 25 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
client write log 1829346551551317635 (index 160) to leader 2
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 49195 term 25 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1829346551551317635 25 160}]
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 7231 term 25 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {1829346551551317635 25 160}]
------------------------------------------------------
!!!!!!connect server 0
client write log 9136530588866410378 (index 161) to leader 2
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 158
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 35570 term 25 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 25 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
term 25 server 2 not vote for server 0, 日志不够新
term 25 server 1 not vote for server 0, 日志不够新
term 27 server 1 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 0 vote for server 2
term 27 server 2 get outdate rpc reply from server 0
flag 14261 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 65391 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 162->161
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
flag 40354 term 27 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 89769 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
flag 56799 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 46825 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96112 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 44246 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
flag 85931 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 45595 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
flag 20788 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 56790 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
term 27 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33040 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 962 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=161
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8576299170966165276 (index 162) to leader 2
flag 46317 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
flag 48257 term 27 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 161 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161} {8576299170966165276 27 162}]
------------------------------------------------------
flag 35950 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
flag 97965 term 27 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161} {8576299170966165276 27 162}]
------------------------------------------------------
client write log 2197236148995133098 (index 163) to leader 2
client write log 2370816268334658927 (index 164) to leader 2
client write log 215373720538760984 (index 165) to leader 2
client write log 7589686330158260767 (index 166) to leader 2
client write log 5388620274865914598 (index 167) to leader 2
client write log 4937967374292756720 (index 168) to leader 2
client write log 4063747803331134917 (index 169) to leader 2
client write log 10024049613655697 (index 170) to leader 2
client write log 7353444884651540569 (index 171) to leader 2
flag 52704 term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 162 
------------------------------------------------------
flag 97910 term 27 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 25 159} {1829346551551317635 25 160} {9136530588866410378 25 161} {8576299170966165276 27 162} {2197236148995133098 27 163} {2370816268334658927 27 164} {215373720538760984 27 165} {7589686330158260767 27 166} {5388620274865914598 27 167} {4937967374292756720 27 168} {4063747803331134917 27 169} {10024049613655697 27 170} {7353444884651540569 27 171}]
------------------------------------------------------
term 27 Server2 start snapshot! index=169
term 27 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=171
-------------------------------------------------------------
term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 5745 term 27 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171}]
------------------------------------------------------
term 27 Server1 start snapshot! index=169
term 27 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=171
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1081466362482555726 (index 172) to leader 2
term 27 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 62822 term 27 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 27 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 27 leaderCommit: 171 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get outdate rpc reply from server 0
flag 79290 term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 4738 term 29 leader 2 nextIndex[1]: 173  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 173->172
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 27
------------------------------------------------------
flag 9788 term 29 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 27 rf.commitIndex 169 rf.lastApplied 169
term 29 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12255 term 29 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 15713 term 29 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
flag 87859 term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 28821 term 29 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
flag 63695 term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 75059 term 29 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
flag 61916 term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 3570 term 29 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
flag 93647 term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 39055 term 29 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
flag 59316 term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 17956 term 29 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8168426139206120526 (index 173) to leader 2
flag 77826 term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
flag 40141 term 29 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 172 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172} {8168426139206120526 29 173}]
------------------------------------------------------
flag 58648 term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 22939 term 29 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 29 leaderCommit: 173 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172} {8168426139206120526 29 173}]
------------------------------------------------------
client write log 5652487683376428559 (index 174) to leader 2
client write log 550021930362974045 (index 175) to leader 2
client write log 1577455164623096413 (index 176) to leader 2
client write log 239379107811048366 (index 177) to leader 2
client write log 4555248478591417632 (index 178) to leader 2
client write log 961498902876695496 (index 179) to leader 2
client write log 628551125553280661 (index 180) to leader 2
client write log 8374869723059103245 (index 181) to leader 2
client write log 2406094535533521138 (index 182) to leader 2
client write log 5069473758736687053 (index 183) to leader 2
client write log 5760459585725021118 (index 184) to leader 2
client write log 3748964111001257235 (index 185) to leader 2
client write log 7690628732026266365 (index 186) to leader 2
flag 76649 term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 29 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 27 leaderCommit: 173 
------------------------------------------------------
flag 48079 term 29 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 29 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 29 leaderCommit: 173 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 27 169} {10024049613655697 27 170} {7353444884651540569 27 171} {1081466362482555726 27 172} {8168426139206120526 29 173} {5652487683376428559 29 174} {550021930362974045 29 175} {1577455164623096413 29 176} {239379107811048366 29 177} {4555248478591417632 29 178} {961498902876695496 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=186
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 3716 term 29 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=186
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1285633464783154329 (index 187) to leader 2
term 29 server 2 not vote for server 0, 日志不够新
term 29 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 0 vote for server 2
term 31 server 2 get outdate rpc reply from server 0
flag 50403 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 10528 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 188->187
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 188->187
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 96806 term 31 leader 2 nextIndex[1]: 187  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 22287 term 31 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 31 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 28280 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:179 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
------------------------------------------------------
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 67779 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 48713 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 67833 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 75837 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 46876 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 91747 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40421 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 56404 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 25541 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 93769 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 26965 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 20166 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 38578 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 66801 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 69344 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 60711 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42645 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 1934 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 57743 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 13547 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 40806 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 94880 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88553 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 83664 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 49658 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 41431 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6004 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 11828 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 52386 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 39038 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 82938 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 24155 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
flag 49959 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 57936 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=186
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187}]
------------------------------------------------------
client write log 1285633464783154329 (index 188) to leader 2
flag 87432 term 31 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 29170 term 31 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 31 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55538 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 37443 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
flag 87672 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 33748 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
flag 5260 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 17350 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88486 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 55777 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76321 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 30872 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
flag 46641 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 87513 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
term 31 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 83894 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 29561 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 27246 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 15094 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81590 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 45306 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 32 server 0 vote for server 1
term 32 server 1 get vote from server 0
term 32 server 1 become leader
------------------------------------------------------
client write log 5676000952629652078 (index 189) to leader 1
flag 39731 term 32 leader 1 nextIndex[0]: 189  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 81788 term 32 leader 1 nextIndex[2]: 189  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 179} {628551125553280661 29 180} {8374869723059103245 29 181} {2406094535533521138 29 182} {5069473758736687053 29 183} {5760459585725021118 29 184} {3748964111001257235 29 185} {7690628732026266365 29 186} {1285633464783154329 29 187} {1285633464783154329 31 188} {5676000952629652078 32 189}]
------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 95430 term 31 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 91843 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 189->188
------------------------------------------------------
flag 41032 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 189  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
client write log 2780364039973604764 (index 190) to leader 1
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 188
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 50993 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 6398 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 189  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {2780364039973604764 32 190}]
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 188
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 73325 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 72532 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 189  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {2780364039973604764 32 190}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1370611534215447797 (index 191) to leader 1
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 188
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 80135 term 31 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 31 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 32 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56513 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 189  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 32 rf.commitIndex 189 rf.lastApplied 189
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
flag 23059 term 32 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 10986 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
flag 35443 term 32 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 28036 term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
flag 2753 term 32 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 98050 term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
flag 66278 term 32 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 80411 term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85585 term 32 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 36517 term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43508 term 32 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 16128 term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46419 term 32 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 27181 term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8849209304513460638 (index 192) to leader 1
flag 74560 term 32 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 41330 term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191} {8849209304513460638 32 192}]
------------------------------------------------------
flag 17809 term 32 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 68360 term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191} {8849209304513460638 32 192}]
------------------------------------------------------
client write log 4439126688735410221 (index 193) to leader 1
client write log 6022620501506971495 (index 194) to leader 1
client write log 2862879617159205875 (index 195) to leader 1
client write log 8290708908362314589 (index 196) to leader 1
client write log 4538360372477052718 (index 197) to leader 1
client write log 8088305498985568766 (index 198) to leader 1
client write log 1587908825784225748 (index 199) to leader 1
client write log 3657959978990038821 (index 200) to leader 1
client write log 5724352241915684403 (index 201) to leader 1
client write log 3593754261186436129 (index 202) to leader 1
client write log 1515125711279053577 (index 203) to leader 1
flag 50469 term 32 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 95960 term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 189} {2780364039973604764 32 190} {1370611534215447797 32 191} {8849209304513460638 32 192} {4439126688735410221 32 193} {6022620501506971495 32 194} {2862879617159205875 32 195} {8290708908362314589 32 196} {4538360372477052718 32 197} {8088305498985568766 32 198} {1587908825784225748 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203}]
------------------------------------------------------
term 32 Server1 start snapshot! index=199
term 32 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=203
-------------------------------------------------------------
flag 2057 term 32 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 32 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203}]
------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=203
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4284695480386738359 (index 204) to leader 1
flag 84141 term 32 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 32 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 192  matchIndex[2]: 191
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 33 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 0 vote for server 1
term 34 server 1 become leader
------------------------------------------------------
term 34 server 1 get outdate rpc reply from server 0
flag 74942 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 92237 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 205->204
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47260 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
flag 70880 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 66693 term 34 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 34 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 94338 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 71379 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 33911 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 50860 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50547 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 10208 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25921 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 70240 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49360 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 43226 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 86199 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 45877 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 90211 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 73200 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 493 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 94654 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16438 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 17887 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41806 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 26548 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 662 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 82725 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61041 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 17131 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 92836 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 11085 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 98179 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 61976 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 64188 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 61170 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
flag 56473 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 62902 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204}]
------------------------------------------------------
client write log 4284695480386738359 (index 205) to leader 1
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82202 term 34 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
flag 8665 term 34 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 34 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 32 leaderCommit: 203 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31713 term 34 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 62497 term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
flag 84663 term 34 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 44042 term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
flag 77606 term 34 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 30808 term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
flag 66707 term 34 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 20381 term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
flag 12284 term 34 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 36387 term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
flag 5323 term 34 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 73131 term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1930671894643245414 (index 206) to leader 1
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59411 term 34 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
flag 573 term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 205 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205} {1930671894643245414 34 206}]
------------------------------------------------------
flag 93380 term 34 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 34 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 70517 term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205} {1930671894643245414 34 206}]
------------------------------------------------------
client write log 6663638126647822350 (index 207) to leader 1
client write log 4376946841689987188 (index 208) to leader 1
client write log 5935600450290818282 (index 209) to leader 1
client write log 4579586048571664703 (index 210) to leader 1
client write log 3567653740113518876 (index 211) to leader 1
client write log 4833161522759794119 (index 212) to leader 1
client write log 332358148166422064 (index 213) to leader 1
client write log 639447406163255790 (index 214) to leader 1
client write log 7053163593448207730 (index 215) to leader 1
client write log 6359419445961105600 (index 216) to leader 1
client write log 7643014811266289720 (index 217) to leader 1
client write log 915514625172746793 (index 218) to leader 1
client write log 6109572102273340626 (index 219) to leader 1
client write log 4637035526338815361 (index 220) to leader 1
client write log 8031825646767484206 (index 221) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44764 term 34 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 34 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
flag 26846 term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 34 leaderCommit: 206 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 32 199} {3657959978990038821 32 200} {5724352241915684403 32 201} {3593754261186436129 32 202} {1515125711279053577 32 203} {4284695480386738359 32 204} {4284695480386738359 34 205} {1930671894643245414 34 206} {6663638126647822350 34 207} {4376946841689987188 34 208} {5935600450290818282 34 209} {4579586048571664703 34 210} {3567653740113518876 34 211} {4833161522759794119 34 212} {332358148166422064 34 213} {639447406163255790 34 214} {7053163593448207730 34 215} {6359419445961105600 34 216} {7643014811266289720 34 217} {915514625172746793 34 218} {6109572102273340626 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221}]
------------------------------------------------------
term 34 Server1 start snapshot! index=209
term 34 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=221
-------------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=221
-------------------------------------------------------------
flag 59059 term 34 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 34 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=221
-------------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=221
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2673648196230802074 (index 222) to leader 1
term 34 server 1 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 1
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 0 vote for server 1
term 36 server 1 get outdate rpc reply from server 0
flag 71044 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 64921 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 223->222
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 223->222
------------------------------------------------------
flag 21367 term 36 leader 1 nextIndex[0]: 222  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 206  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
flag 75282 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 27828 term 36 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
flag 54661 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 74045 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98989 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 5799 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
flag 62849 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 69170 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76156 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 58341 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 0
flag 72990 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 70727 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71512 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 66421 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
flag 26057 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 40916 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 86444 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 94495 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83644 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 89539 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
flag 71033 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 44088 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82331 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 96824 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
flag 21636 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 58696 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
flag 8000 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 99971 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
flag 77024 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 13484 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24740 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 1423 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
flag 42263 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 47825 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222}]
------------------------------------------------------
term 36 server 2 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2673648196230802074 (index 223) to leader 1
flag 61319 term 36 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 73527 term 36 leader 1 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
flag 9206 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 605 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
flag 72716 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 87452 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
flag 3440 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 55468 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
flag 25023 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 42416 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54137 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 97897 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
flag 92262 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 43189 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=224
update matchIndex[0]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 95328 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 92615 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 6458 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 37213 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 70633 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 48354 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 0
term 37 server 2 become leader
------------------------------------------------------
client write log 7711346967141787286 (index 224) to leader 2
flag 76296 term 37 leader 2 nextIndex[0]: 224  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 64743 term 37 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223} {7711346967141787286 37 224}]
------------------------------------------------------
flag 70979 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 97474 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80274 term 37 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 89644 term 37 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 224 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223} {7711346967141787286 37 224}]
------------------------------------------------------
flag 89974 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 98197 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
client write log 8974928093557090825 (index 225) to leader 2
client write log 7110082856215155255 (index 226) to leader 2
client write log 2599853225232927247 (index 227) to leader 2
client write log 9217295509769197850 (index 228) to leader 2
client write log 7272580692272215048 (index 229) to leader 2
client write log 1226167937673319640 (index 230) to leader 2
client write log 6809255635729801731 (index 231) to leader 2
client write log 3563440928651011964 (index 232) to leader 2
client write log 3471063964573147076 (index 233) to leader 2
client write log 6557038482138453598 (index 234) to leader 2
client write log 5914446421341236860 (index 235) to leader 2
client write log 4089608545880671175 (index 236) to leader 2
client write log 2106584112080761134 (index 237) to leader 2
flag 17049 term 37 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 37 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
flag 83859 term 37 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 224 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 219} {4637035526338815361 34 220} {8031825646767484206 34 221} {2673648196230802074 34 222} {2673648196230802074 36 223} {7711346967141787286 37 224} {8974928093557090825 37 225} {7110082856215155255 37 226} {2599853225232927247 37 227} {9217295509769197850 37 228} {7272580692272215048 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 Server2 start snapshot! index=229
term 37 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=237
-------------------------------------------------------------
flag 30123 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 15551 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 86380 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 Server0 start snapshot! index=229
term 37 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=237
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3131050038473853137 (index 224) to leader 1
flag 26097 term 36 leader 1 nextIndex[0]: 224  matchIndex[0]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
flag 46344 term 36 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 36 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 36 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
term 37 server 0 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47558 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 leader 2 nextIndex[1]: 224  matchIndex[1]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 1 InstallSnapshot success
------------------------------------------------------
term 37 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 37 rf.commitIndex 229 rf.lastApplied 229
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 91372 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 60381 term 37 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 72493 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 25843 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 15155 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 48504 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 66509 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 70628 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 55849 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 64357 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24261 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 22957 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33927 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 86483 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 238->237
------------------------------------------------------
flag 84904 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 leader 2 nextIndex[1]: 0  matchIndex[1]: 237
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 1 InstallSnapshot fail
rf.commitIndex 237 args.LastIncludedIndex 229
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 96285 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 84008 term 37 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 55348 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 48288 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 37903 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 10299 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 91874 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 32922 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 13641 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 16135 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27323 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 56582 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51333 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 44846 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 35739 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 73220 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 15094 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 71255 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 54095 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 10892 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
flag 96088 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 73627 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237}]
------------------------------------------------------
client write log 3131050038473853137 (index 238) to leader 2
term 37 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 73210 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
flag 21660 term 37 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11837 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 41334 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
flag 60157 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 56575 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74698 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 11118 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
flag 16263 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 92830 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
flag 54885 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 63094 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
flag 95577 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 38703 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 152945278080581669 (index 239) to leader 2
flag 58334 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 55802 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 229} {1226167937673319640 37 230} {6809255635729801731 37 231} {3563440928651011964 37 232} {3471063964573147076 37 233} {6557038482138453598 37 234} {5914446421341236860 37 235} {4089608545880671175 37 236} {2106584112080761134 37 237} {3131050038473853137 37 238} {152945278080581669 37 239}]
------------------------------------------------------
term 37 Server2 start snapshot! index=239
term 37 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 58596 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
term 37 Server1 start snapshot! index=239
term 37 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
client write log 5355126239485041044 (index 240) to leader 2
client write log 8300665634863710367 (index 241) to leader 2
client write log 9215219861534260185 (index 242) to leader 2
client write log 3401236728481126231 (index 243) to leader 2
client write log 8432643289415774383 (index 244) to leader 2
client write log 2693311203383994317 (index 245) to leader 2
client write log 1523488688430856128 (index 246) to leader 2
client write log 3827920041072111370 (index 247) to leader 2
client write log 7685503677341121740 (index 248) to leader 2
term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 68987 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5355126239485041044 37 240} {8300665634863710367 37 241} {9215219861534260185 37 242} {3401236728481126231 37 243} {8432643289415774383 37 244} {2693311203383994317 37 245} {1523488688430856128 37 246} {3827920041072111370 37 247} {7685503677341121740 37 248}]
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 44450 term 37 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 37 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 248 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 37 239} {5355126239485041044 37 240} {8300665634863710367 37 241} {9215219861534260185 37 242} {3401236728481126231 37 243} {8432643289415774383 37 244} {2693311203383994317 37 245} {1523488688430856128 37 246} {3827920041072111370 37 247} {7685503677341121740 37 248}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8926077396457802648 (index 249) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 95294 term 37 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 37 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 248 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 239} {5355126239485041044 37 240} {8300665634863710367 37 241} {9215219861534260185 37 242} {3401236728481126231 37 243} {8432643289415774383 37 244} {2693311203383994317 37 245} {1523488688430856128 37 246} {3827920041072111370 37 247} {7685503677341121740 37 248} {8926077396457802648 37 249}]
------------------------------------------------------
term 38 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 Server2 start snapshot! index=249
term 38 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 2 get outdate rpc reply from server 0
flag 70326 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
flag 35496 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 250->249
------------------------------------------------------
term 39 Server1 start snapshot! index=249
term 39 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 239  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 74694 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 37 rf.commitIndex 249 rf.lastApplied 249
flag 66120 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
flag 20061 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18089 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
flag 12591 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13497 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
flag 79096 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
flag 78532 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
flag 67396 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
flag 31258 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
flag 97415 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 249}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5475446396487461174 (index 250) to leader 2
flag 37289 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
flag 28389 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {5475446396487461174 39 250}]
------------------------------------------------------
flag 27863 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 17226 term 39 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 37 249} {5475446396487461174 39 250}]
------------------------------------------------------
client write log 6969760313911684666 (index 251) to leader 2
client write log 9180367526939986682 (index 252) to leader 2
client write log 5586390991237414084 (index 253) to leader 2
client write log 8075152630695385881 (index 254) to leader 2
client write log 8816158355897540261 (index 255) to leader 2
client write log 360470075417265108 (index 256) to leader 2
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
flag 32573 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 250 
------------------------------------------------------
flag 75274 term 39 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256}]
------------------------------------------------------
flag 13368 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 256 
------------------------------------------------------
flag 25664 term 39 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 39 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7265721322607027490 (index 257) to leader 2
term 39 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
term 41 server 1 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 0 vote for server 2
term 41 server 2 get outdate rpc reply from server 0
flag 7935 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 79405 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 258->257
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 258->257
------------------------------------------------------
flag 77107 term 41 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 256 
------------------------------------------------------
flag 7731 term 41 leader 2 nextIndex[1]: 257  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 92448 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 249 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21272 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 84341 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 58533 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 81134 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15719 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 71179 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34566 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 17760 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 87 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 34586 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 1 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 1
flag 36259 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 29210 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 63151 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 67917 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 91520 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 45203 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 86974 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 3104 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 44587 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 38832 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64273 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 39902 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 55749 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 83783 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 81427 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 885 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 60558 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 99987 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 92895 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 59085 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
flag 53478 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 22197 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
flag 72533 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 80506 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257}]
------------------------------------------------------
client write log 7265721322607027490 (index 258) to leader 2
flag 85292 term 41 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 18596 term 41 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8929 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 19936 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16684 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 53121 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
flag 16979 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 82940 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
flag 96367 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 49200 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
flag 30299 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 38506 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
flag 76875 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 97313 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 66086 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 78007 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 30005 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 26229 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38335 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 32241 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 vote for server 0
term 42 server 0 get vote from server 1
term 42 server 0 become leader
------------------------------------------------------
flag 34405 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 61567 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258}]
------------------------------------------------------
client write log 1761623131991413318 (index 259) to leader 0
flag 14404 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 93493 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 55097 term 42 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 66992 term 42 leader 0 nextIndex[2]: 259  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 37 249} {5475446396487461174 39 250} {6969760313911684666 39 251} {9180367526939986682 39 252} {5586390991237414084 39 253} {8075152630695385881 39 254} {8816158355897540261 39 255} {360470075417265108 39 256} {7265721322607027490 39 257} {7265721322607027490 41 258} {1761623131991413318 42 259}]
------------------------------------------------------
term 42 Server0 start snapshot! index=259
term 42 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 61756 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 83578 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 259->258
------------------------------------------------------
flag 44903 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 259}]
------------------------------------------------------
term 42 Server1 start snapshot! index=259
term 42 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 6969122767257122431 (index 260) to leader 0
client write log 8633378074193018745 (index 261) to leader 0
client write log 416916518206728263 (index 262) to leader 0
client write log 5807249106203370305 (index 263) to leader 0
client write log 4114080365013398226 (index 264) to leader 0
client write log 1577560208131734970 (index 265) to leader 0
client write log 925259990880761580 (index 266) to leader 0
client write log 3253042017812915333 (index 267) to leader 0
client write log 8630283812976831301 (index 268) to leader 0
client write log 3270057600674111208 (index 269) to leader 0
client write log 8827510779864407822 (index 270) to leader 0
client write log 834359937072907670 (index 271) to leader 0
flag 89879 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 91751 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 36814 term 42 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 259 
------------------------------------------------------
term 42 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 259} {6969122767257122431 42 260} {8633378074193018745 42 261} {416916518206728263 42 262} {5807249106203370305 42 263} {4114080365013398226 42 264} {1577560208131734970 42 265} {925259990880761580 42 266} {3253042017812915333 42 267} {8630283812976831301 42 268} {3270057600674111208 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 Server0 start snapshot! index=269
term 42 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=271
-------------------------------------------------------------
flag 77288 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 99643 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 85783 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 Server1 start snapshot! index=269
term 42 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
!!!!!!connect server 2
client write log 107800941832242705 (index 259) to leader 2
flag 78240 term 41 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 53901 term 41 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 42 server 1 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 42 server 0 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61217 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 42 rf.commitIndex 269 rf.lastApplied 269
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 71241 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 98934 term 42 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 42 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 42415 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 51787 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18912 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 76215 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 89648 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 8703 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97884 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 80850 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 8573 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 54224 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 57501 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 84071 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 97190 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 8254 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 736 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 51519 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 53440 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 75759 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 63706 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 22366 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50963 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 73488 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
flag 4381 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 72175 term 42 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 42 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 95542 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 89974 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38956 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 71642 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 12160 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 70176 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 56474 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 57361 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 80835 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 7918 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
flag 15259 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 98500 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271}]
------------------------------------------------------
client write log 107800941832242705 (index 272) to leader 0
flag 67178 term 42 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 61146 term 42 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
flag 41573 term 42 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 31782 term 42 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
flag 46234 term 42 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 3962 term 42 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
flag 53159 term 42 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 25114 term 42 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35082 term 42 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 35740 term 42 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
flag 15697 term 42 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 53404 term 42 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7105047169452540929 (index 273) to leader 0
flag 1292 term 42 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 84774 term 42 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272} {7105047169452540929 42 273}]
------------------------------------------------------
flag 12091 term 42 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
flag 63827 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272} {7105047169452540929 42 273}]
------------------------------------------------------
client write log 5113965766698858452 (index 274) to leader 0
client write log 28980085694745309 (index 275) to leader 0
client write log 7635888592755706979 (index 276) to leader 0
client write log 5448443359994104835 (index 277) to leader 0
client write log 5724593827729535375 (index 278) to leader 0
client write log 682005475754777722 (index 279) to leader 0
client write log 4768820051324498936 (index 280) to leader 0
client write log 6584286855563157416 (index 281) to leader 0
client write log 7092011181927755234 (index 282) to leader 0
client write log 7607285048252515999 (index 283) to leader 0
client write log 8617143452243423438 (index 284) to leader 0
client write log 1169431341216871083 (index 285) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36875 term 42 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 42 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
flag 26085 term 42 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 42 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 42 269} {8827510779864407822 42 270} {834359937072907670 42 271} {107800941832242705 42 272} {7105047169452540929 42 273} {5113965766698858452 42 274} {28980085694745309 42 275} {7635888592755706979 42 276} {5448443359994104835 42 277} {5724593827729535375 42 278} {682005475754777722 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 Server0 start snapshot! index=279
term 42 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=285
-------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 74710 term 42 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 42 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285}]
------------------------------------------------------
term 42 Server2 start snapshot! index=279
term 42 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=285
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5407895299731849437 (index 286) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 0 not vote for server 1, 日志不够新
term 42 server 2 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get outdate rpc reply from server 1
flag 91093 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 79001 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 287->286
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 287->286
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
flag 30479 term 44 leader 0 nextIndex[2]: 286  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 42 rf.commitIndex 279 rf.lastApplied 279
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62194 term 44 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 44 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 32200 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 58446 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 20658 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 32886 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 3064 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 84519 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 80515 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 69089 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 37136 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98016 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 40108 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 26853 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 29171 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77407 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 6041 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 41883 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 47014 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 27563 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 68472 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 57150 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 59021 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 65038 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 97661 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79913 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 39499 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 22816 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 63286 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 73477 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 27196 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 2 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 2
flag 52863 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 25458 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 76398 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 20993 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
flag 39461 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 55505 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=285
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286}]
------------------------------------------------------
client write log 5407895299731849437 (index 287) to leader 0
flag 27047 term 44 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
flag 41708 term 44 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 44 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 285 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81529 term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
flag 35085 term 44 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45426 term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
flag 38394 term 44 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
flag 9045 term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
flag 53902 term 44 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
flag 98277 term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
flag 88504 term 44 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
flag 46274 term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
flag 87312 term 44 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 14138 term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
flag 13297 term 44 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
client write log 121970160222049630 (index 288) to leader 0
term 44 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287} {121970160222049630 44 288}]
------------------------------------------------------
flag 96784 term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
flag 26342 term 44 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 287 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287} {121970160222049630 44 288}]
------------------------------------------------------
flag 77383 term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 60226 term 44 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287} {121970160222049630 44 288}]
------------------------------------------------------
client write log 3213231262194330065 (index 289) to leader 0
client write log 4750535959185910493 (index 290) to leader 0
client write log 2670815108978858819 (index 291) to leader 0
client write log 3245248124274924656 (index 292) to leader 0
client write log 4471053207302017220 (index 293) to leader 0
client write log 4921022384882515326 (index 294) to leader 0
client write log 7079027593221376714 (index 295) to leader 0
client write log 4297433507880698035 (index 296) to leader 0
client write log 5071129487707521218 (index 297) to leader 0
client write log 8791642653184577504 (index 298) to leader 0
client write log 8933989358934529465 (index 299) to leader 0
client write log 1658826791646504380 (index 300) to leader 0
client write log 5611099568723231672 (index 301) to leader 0
client write log 2556058091285722 (index 302) to leader 0
client write log 1297435789697280921 (index 303) to leader 0
flag 73211 term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 90878 term 44 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 42 279} {4768820051324498936 42 280} {6584286855563157416 42 281} {7092011181927755234 42 282} {7607285048252515999 42 283} {8617143452243423438 42 284} {1169431341216871083 42 285} {5407895299731849437 42 286} {5407895299731849437 44 287} {121970160222049630 44 288} {3213231262194330065 44 289} {4750535959185910493 44 290} {2670815108978858819 44 291} {3245248124274924656 44 292} {4471053207302017220 44 293} {4921022384882515326 44 294} {7079027593221376714 44 295} {4297433507880698035 44 296} {5071129487707521218 44 297} {8791642653184577504 44 298} {8933989358934529465 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303}]
------------------------------------------------------
term 44 Server0 start snapshot! index=289
term 44 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=303
-------------------------------------------------------------
term 44 Server0 start snapshot! index=299
term 44 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=303
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 8206 term 44 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 44 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 44 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303}]
------------------------------------------------------
term 44 Server2 start snapshot! index=289
term 44 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=303
-------------------------------------------------------------
term 44 Server2 start snapshot! index=299
term 44 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=303
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4338572873576973058 (index 304) to leader 0
term 44 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 3585 term 44 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 44 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 44 leaderCommit: 303 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get outdate rpc reply from server 1
flag 95575 term 46 leader 0 nextIndex[1]: 305  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 40599 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 305->304
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 45875 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 44 rf.commitIndex 299 rf.lastApplied 299
flag 70818 term 46 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 46 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 41216 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69771 term 46 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 32421 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35575 term 46 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 61295 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
flag 28212 term 46 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 75786 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
flag 29801 term 46 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 56734 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73139 term 46 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 30699 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 60281 term 46 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 37884 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 29350 term 46 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 29652 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 305->304
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 27364 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 17445 term 46 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 vote for server 1
term 47 server 1 get vote from server 2
term 47 server 1 become leader
------------------------------------------------------
client write log 4625139466635960027 (index 305) to leader 1
flag 47047 term 47 leader 1 nextIndex[0]: 305  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
flag 67046 term 47 leader 1 nextIndex[2]: 305  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 44 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304} {4625139466635960027 47 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 305->304
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 305->304
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 47 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 12416 term 47 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 305 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304} {4625139466635960027 47 305}]
------------------------------------------------------
client write log 6285539698458041638 (index 306) to leader 1
client write log 3396707652652154103 (index 307) to leader 1
client write log 2510599516929409690 (index 308) to leader 1
client write log 2729723877868231886 (index 309) to leader 1
client write log 7803341814630634030 (index 310) to leader 1
client write log 1091003604099268149 (index 311) to leader 1
client write log 532366387170155034 (index 312) to leader 1
client write log 8918888200863632672 (index 313) to leader 1
client write log 3084709882660975276 (index 314) to leader 1
client write log 777939649428146116 (index 315) to leader 1
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 47 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 25899 term 47 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 47 leaderCommit: 305 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 44 299} {1658826791646504380 44 300} {5611099568723231672 44 301} {2556058091285722 44 302} {1297435789697280921 44 303} {4338572873576973058 44 304} {4625139466635960027 47 305} {6285539698458041638 47 306} {3396707652652154103 47 307} {2510599516929409690 47 308} {2729723877868231886 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315}]
------------------------------------------------------
term 47 Server1 start snapshot! index=309
term 47 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 89302 term 47 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 47 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 315 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315}]
------------------------------------------------------
term 47 Server2 start snapshot! index=309
term 47 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5814516462125512236 (index 316) to leader 1
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 304
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
flag 56003 term 47 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 47 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 315 
------------------------------------------------------
flag 86924 term 47 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 47 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 315 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 310->309
------------------------------------------------------
term 47 leader 1 nextIndex[0]: 305  matchIndex[0]: 309
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 75732 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 47 rf.commitIndex 309 rf.lastApplied 309
term 47 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86696 term 47 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 47 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
flag 26079 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
flag 92081 term 47 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
flag 43031 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82242 term 47 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
flag 86426 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13799 term 47 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
flag 83900 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
flag 97799 term 47 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
flag 61929 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
flag 22890 term 47 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
flag 99783 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316}]
------------------------------------------------------
term 47 server 2 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 2
term 47 server 0 not vote for server 1, 日志不够新
term 47 server 1 get outdate rpc reply from server 0
!!!!!!diconnect server 2
client write log 467373206891776387 (index 317) to leader 1
flag 22781 term 47 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
flag 48740 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 316 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316} {467373206891776387 47 317}]
------------------------------------------------------
flag 75582 term 47 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 47 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 47 leaderCommit: 317 
------------------------------------------------------
flag 26624 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 317 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316} {467373206891776387 47 317}]
------------------------------------------------------
client write log 4882991183580664315 (index 318) to leader 1
client write log 4393626715703541339 (index 319) to leader 1
client write log 3596574569242215327 (index 320) to leader 1
client write log 1915204518484196685 (index 321) to leader 1
client write log 5865326053727204578 (index 322) to leader 1
client write log 13870493573897310 (index 323) to leader 1
client write log 6516895446734017165 (index 324) to leader 1
client write log 7834902343224891082 (index 325) to leader 1
client write log 7765376940582300269 (index 326) to leader 1
client write log 3696774524638116456 (index 327) to leader 1
client write log 7021934507693401987 (index 328) to leader 1
flag 20376 term 47 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 47 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 47 leaderCommit: 317 
------------------------------------------------------
flag 42648 term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 47 leaderCommit: 317 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 47 309} {7803341814630634030 47 310} {1091003604099268149 47 311} {532366387170155034 47 312} {8918888200863632672 47 313} {3084709882660975276 47 314} {777939649428146116 47 315} {5814516462125512236 47 316} {467373206891776387 47 317} {4882991183580664315 47 318} {4393626715703541339 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328}]
------------------------------------------------------
term 47 Server1 start snapshot! index=319
term 47 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=328
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 0 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 0
flag 25576 term 47 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 47 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328}]
------------------------------------------------------
term 47 Server0 start snapshot! index=319
term 47 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=328
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3552259659233273057 (index 329) to leader 1
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 0 not vote for server 2, 日志不够新
term 49 server 2 vote for server 1
term 49 server 0 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
term 49 server 1 get outdate rpc reply from server 0
flag 55968 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 37258 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 330->329
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 330->329
------------------------------------------------------
flag 32893 term 49 leader 1 nextIndex[0]: 329  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 47
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 47 rf.commitIndex 319 rf.lastApplied 319
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 8011 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 91475 term 49 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 49 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 70015 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 35653 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6991 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 15032 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 25520 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 16769 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68299 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 43283 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 8827 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 8069 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 11628 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 65125 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 79062 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 32524 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 91844 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 85967 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 21487 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 64997 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 99719 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 56190 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 33613 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 20986 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 91429 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 20086 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 47050 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 82796 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 56694 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 79309 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 76657 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 28365 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5864 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 37423 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
flag 37160 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 11308 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329}]
------------------------------------------------------
client write log 3552259659233273057 (index 330) to leader 1
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64039 term 49 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
flag 76739 term 49 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 49 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 319} {3596574569242215327 47 320} {1915204518484196685 47 321} {5865326053727204578 47 322} {13870493573897310 47 323} {6516895446734017165 47 324} {7834902343224891082 47 325} {7765376940582300269 47 326} {3696774524638116456 47 327} {7021934507693401987 47 328} {3552259659233273057 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
term 49 Server1 start snapshot! index=329
term 49 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
flag 24446 term 49 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
flag 50773 term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
term 49 Server2 start snapshot! index=329
term 49 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
term 49 Server0 start snapshot! index=329
term 49 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
flag 77094 term 49 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
flag 23756 term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
flag 55681 term 49 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
flag 52550 term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86184 term 49 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
flag 85809 term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
flag 43817 term 49 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
flag 43967 term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
flag 11213 term 49 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
flag 61202 term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 47 329} {3552259659233273057 49 330}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7622400803154278429 (index 331) to leader 1
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99720 term 49 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
flag 39375 term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 330 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {3552259659233273057 49 330} {7622400803154278429 49 331}]
------------------------------------------------------
flag 42657 term 49 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 39297 term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {3552259659233273057 49 330} {7622400803154278429 49 331}]
------------------------------------------------------
client write log 9052638634634841020 (index 332) to leader 1
client write log 8245897549285076857 (index 333) to leader 1
client write log 8148989677679953104 (index 334) to leader 1
client write log 4155218234472413864 (index 335) to leader 1
client write log 2401806179012794989 (index 336) to leader 1
client write log 5121941677310822201 (index 337) to leader 1
client write log 544819803572139005 (index 338) to leader 1
client write log 4696141398768094309 (index 339) to leader 1
client write log 59412221886408632 (index 340) to leader 1
client write log 1650424402097241026 (index 341) to leader 1
client write log 1437818997374710976 (index 342) to leader 1
client write log 6156016762491187856 (index 343) to leader 1
client write log 940054504710098920 (index 344) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4788 term 49 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
flag 64832 term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 49 leaderCommit: 331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 47 329} {3552259659233273057 49 330} {7622400803154278429 49 331} {9052638634634841020 49 332} {8245897549285076857 49 333} {8148989677679953104 49 334} {4155218234472413864 49 335} {2401806179012794989 49 336} {5121941677310822201 49 337} {544819803572139005 49 338} {4696141398768094309 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344}]
------------------------------------------------------
term 49 Server1 start snapshot! index=339
term 49 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=344
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77507 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344}]
------------------------------------------------------
term 49 Server0 start snapshot! index=339
term 49 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=344
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5744493753128909850 (index 345) to leader 1
term 49 server 0 not vote for server 2, 日志不够新
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21835 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 0 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 2 vote for server 1
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 1 get outdate rpc reply from server 0
flag 413 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 71268 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 346->345
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 346->345
------------------------------------------------------
flag 7112 term 51 leader 1 nextIndex[0]: 345  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 331  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
rf.lastIncludedIndex 339 rf.lastIncludedTerm 49 rf.commitIndex 339 rf.lastApplied 339
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 33527 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 30133 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67638 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 84026 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 66280 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 64078 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 32709 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 80370 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 58179 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 44746 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72376 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 69761 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 49812 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 34726 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 99454 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 20864 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 26885 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 54831 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 10196 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 85165 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 90325 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 46746 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31150 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 12871 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 76157 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 50824 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 34713 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 40856 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 4629 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 94801 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
flag 9855 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 79775 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345}]
------------------------------------------------------
client write log 5744493753128909850 (index 346) to leader 1
flag 1570 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 95871 term 51 leader 1 nextIndex[2]: 346  matchIndex[2]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
flag 20011 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 23090 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
flag 49558 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 59914 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
flag 18180 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 72428 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93341 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 68256 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
flag 78199 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 87777 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 9310 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 21720 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 49295 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 10241 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 76404 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 11806 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 vote for server 0
term 52 server 0 get vote from server 2
term 52 server 0 become leader
------------------------------------------------------
flag 140 term 52 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 82853 term 52 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346}]
------------------------------------------------------
flag 79456 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 52159 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
client write log 5243858565097237184 (index 347) to leader 0
flag 87552 term 52 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 88163 term 52 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 52 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347}]
------------------------------------------------------
flag 39134 term 51 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 63372 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 347->346
------------------------------------------------------
flag 12239 term 52 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 7402 term 52 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 52 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347}]
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 0  matchIndex[0]: 346
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 68426 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
client write log 1798120378383113182 (index 348) to leader 0
flag 29164 term 52 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 35057 term 52 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 52 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 52 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 0  matchIndex[0]: 346
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 62708 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
flag 16166 term 52 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 348 
------------------------------------------------------
flag 64856 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 0  matchIndex[0]: 346
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 62409 term 51 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 51 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 346 
------------------------------------------------------
!!!!!!connect server 1
client write log 560115863648946037 (index 347) to leader 1
flag 1017 term 52 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 51 leaderCommit: 348 
------------------------------------------------------
flag 61796 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 90749 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 28933 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 47793 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 46550 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 89794 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 47783 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 87985 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 27763 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 24702 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 83728 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 42815 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 34369 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 349->348
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 348
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 37687 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
term 52 server 1 InstallSnapshot fail
rf.commitIndex 348 args.LastIncludedIndex 339
------------------------------------------------------
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60744 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 59783 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 5438 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 11337 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 95389 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 14234 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25166 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 85016 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 47746 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 76651 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8833 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 97258 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 43611 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 33940 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 49233 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 82074 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82034 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 66784 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 55090 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 34679 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
flag 99148 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 52584 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
term 52 server 1 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 1
flag 47823 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 19056 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348}]
------------------------------------------------------
client write log 560115863648946037 (index 349) to leader 0
flag 22277 term 52 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
flag 20534 term 52 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 52 leaderCommit: 348 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348} {560115863648946037 52 349}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 49 339} {59412221886408632 49 340} {1650424402097241026 49 341} {1437818997374710976 49 342} {6156016762491187856 49 343} {940054504710098920 49 344} {5744493753128909850 49 345} {5744493753128909850 51 346} {5243858565097237184 52 347} {1798120378383113182 52 348} {560115863648946037 52 349}]
------------------------------------------------------
term 52 Server0 start snapshot! index=349
term 52 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
flag 61841 term 52 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 5535 term 52 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
term 52 Server1 start snapshot! index=349
term 52 Server2 start snapshot! index=349
term 52 server1 snapshot success
term 52 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3505 term 52 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 68071 term 52 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
flag 77152 term 52 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 18922 term 52 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
flag 66180 term 52 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 81119 term 52 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
flag 54144 term 52 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 92136 term 52 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 350->349
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4727034064710288278 (index 350) to leader 0
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 349
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 52
------------------------------------------------------
flag 84462 term 52 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {4727034064710288278 52 350}]
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 349
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 52
------------------------------------------------------
flag 45960 term 52 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 52 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 52 349} {4727034064710288278 52 350}]
------------------------------------------------------
client write log 3569710823034961255 (index 351) to leader 0
client write log 2092984516380012044 (index 352) to leader 0
client write log 786055737619596197 (index 353) to leader 0
client write log 8006935175401429588 (index 354) to leader 0
client write log 3750800191714897151 (index 355) to leader 0
client write log 3153781427164676484 (index 356) to leader 0
client write log 9004472920066740946 (index 357) to leader 0
client write log 9174169823647317257 (index 358) to leader 0
client write log 720725111584882854 (index 359) to leader 0
client write log 5952621921339865260 (index 360) to leader 0
client write log 7306387300525604807 (index 361) to leader 0
client write log 4269218894070901054 (index 362) to leader 0
client write log 1033157716161312442 (index 363) to leader 0
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 349
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 52
------------------------------------------------------
flag 15985 term 52 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 52 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 52 leaderCommit: 350 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 52 349} {4727034064710288278 52 350} {3569710823034961255 52 351} {2092984516380012044 52 352} {786055737619596197 52 353} {8006935175401429588 52 354} {3750800191714897151 52 355} {3153781427164676484 52 356} {9004472920066740946 52 357} {9174169823647317257 52 358} {720725111584882854 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363}]
------------------------------------------------------
term 52 Server0 start snapshot! index=359
term 52 server0 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=363
-------------------------------------------------------------
term 52 leader 0 nextIndex[1]: 0  matchIndex[1]: 349
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 52
------------------------------------------------------
flag 45179 term 52 leader 0 nextIndex[2]: 364  matchIndex[2]: 363
term 52 leader 0 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363}]
------------------------------------------------------
term 52 Server2 start snapshot! index=359
term 52 server2 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=363
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7096885942082014695 (index 364) to leader 0
term 52 server 2 not vote for server 1, 日志不够新
term 52 server 0 not vote for server 1, 日志不够新
term 54 server 2 vote for server 0
term 54 server 0 get vote from server 2
term 54 server 0 become leader
------------------------------------------------------
term 54 server 1 vote for server 0
term 54 server 0 get outdate rpc reply from server 1
flag 64890 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 62537 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 365->364
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 365->364
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 52
------------------------------------------------------
flag 88988 term 54 leader 0 nextIndex[2]: 364  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 52 rf.commitIndex 359 rf.lastApplied 359
term 54 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42644 term 54 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 54 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 70859 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
flag 41959 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 39621 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44082 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 37434 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
flag 24038 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 30924 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24237 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 99143 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73740 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 33586 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45891 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 26951 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28401 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 54240 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
flag 78776 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 59992 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24855 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 28885 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88962 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 53856 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
flag 86997 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 45259 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11335 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 13729 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36325 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 98081 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
flag 65975 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 22270 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
flag 21572 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 17377 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
flag 80077 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 4083 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
flag 2248 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 63933 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=363
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364}]
------------------------------------------------------
client write log 7096885942082014695 (index 365) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85787 term 54 leader 0 nextIndex[1]: 365  matchIndex[1]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
flag 24042 term 54 leader 0 nextIndex[2]: 365  matchIndex[2]: 364
term 54 leader 0 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 52 leaderCommit: 363 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:363 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
flag 56510 term 54 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
flag 93851 term 54 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
flag 78697 term 54 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
flag 49519 term 54 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
term 54 server 1 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 1
flag 61130 term 54 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
flag 98472 term 54 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
flag 94558 term 54 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
flag 9246 term 54 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
flag 92745 term 54 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
flag 58757 term 54 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
flag 71326 term 54 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
flag 55123 term 54 leader 0 nextIndex[2]: 366  matchIndex[2]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 54 leaderCommit: 365 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=366
update matchIndex[2]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 52 359} {5952621921339865260 52 360} {7306387300525604807 52 361} {4269218894070901054 52 362} {1033157716161312442 52 363} {7096885942082014695 52 364} {7096885942082014695 54 365}]
------------------------------------------------------
  ... Passed --  82.4  3 1866  909892  365
--- PASS: TestSnapshotInstall2D (82.43s)
PASS
