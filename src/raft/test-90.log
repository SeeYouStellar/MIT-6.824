=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
client write log 2982061079635033246 (index 1) to leader 2
flag 20829 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 14914 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
flag 28693 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 33539 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
flag 17095 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 89980 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
flag 5412 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48740 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
flag 14579 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 63780 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
flag 19934 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98022 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
flag 1887 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 15977 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2982061079635033246 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8010743783974368851 (index 2) to leader 2
flag 83869 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 72641 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2982061079635033246 1 1} {8010743783974368851 1 2}]
------------------------------------------------------
flag 23829 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 9656 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2982061079635033246 1 1} {8010743783974368851 1 2}]
------------------------------------------------------
client write log 1961839098163201192 (index 3) to leader 2
client write log 6667641861766848193 (index 4) to leader 2
client write log 8748493416873688825 (index 5) to leader 2
client write log 4090999986191041736 (index 6) to leader 2
client write log 2029649910554973761 (index 7) to leader 2
client write log 5900567249594187947 (index 8) to leader 2
client write log 1185783073595210607 (index 9) to leader 2
client write log 3085357560115114880 (index 10) to leader 2
client write log 9100516702395419759 (index 11) to leader 2
client write log 7982594975141263437 (index 12) to leader 2
client write log 3797367615398045410 (index 13) to leader 2
client write log 2650030176679011695 (index 14) to leader 2
flag 2472 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 73737 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {2982061079635033246 1 1} {8010743783974368851 1 2} {1961839098163201192 1 3} {6667641861766848193 1 4} {8748493416873688825 1 5} {4090999986191041736 1 6} {2029649910554973761 1 7} {5900567249594187947 1 8} {1185783073595210607 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 64834 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5420670117074986803 (index 15) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 73290 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 84997 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 30529 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 21051 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 73462 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 42985 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 52205 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 21407 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 38856 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 28460 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 75936 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 93432 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 74749 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 36612 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 168 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 97152 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 23762 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 81690 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89214 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 58232 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 93050 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 10282 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 16662 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 82128 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 83395 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 68332 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 35822 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 60172 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 17341 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 17743 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 2 not vote for server 0, 任期不够新
term 3 server 0 get outdate rpc reply from server 2
flag 70915 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 3294 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 82039 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 30080 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 23419 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 90796 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
flag 92389 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 63163 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15}]
------------------------------------------------------
client write log 5420670117074986803 (index 16) to leader 2
flag 15512 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 98963 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
flag 47735 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 62409 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
flag 72379 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 39202 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
flag 54366 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 41760 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
flag 94305 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 30002 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
flag 89519 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 59531 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 66721 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 77674 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 29538 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 55859 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 69123 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 88220 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 88790 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 50818 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 43358 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 23517 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16}]
------------------------------------------------------
client write log 6607153466965361866 (index 17) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 17->16
------------------------------------------------------
flag 85136 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 67201 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 55889 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16} {6607153466965361866 4 17}]
------------------------------------------------------
flag 35163 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 35674 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 51002 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16} {6607153466965361866 4 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 17->16
------------------------------------------------------
client write log 6160828230237547848 (index 18) to leader 0
client write log 6823612108593753908 (index 19) to leader 0
client write log 2290492411145902853 (index 20) to leader 0
client write log 6133031194732698988 (index 21) to leader 0
client write log 5997875118216657761 (index 22) to leader 0
client write log 4807150538749582702 (index 23) to leader 0
client write log 118426726085688946 (index 24) to leader 0
flag 13385 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 18195 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {3085357560115114880 1 10} {9100516702395419759 1 11} {7982594975141263437 1 12} {3797367615398045410 1 13} {2650030176679011695 1 14} {5420670117074986803 1 15} {5420670117074986803 3 16} {6607153466965361866 4 17} {6160828230237547848 4 18} {6823612108593753908 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
flag 3521 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 62407 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5514433485232103247 (index 17) to leader 2
flag 25908 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82272 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 93442 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 96160 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 25->24
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 7956 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 53761 term 6 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24699 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 2473 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 48404 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 72728 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 73373 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 77224 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 5190 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 39844 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 8429 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 28132 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 44562 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 51953 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 82473 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 49645 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 54406 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 75898 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 41525 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 89246 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 26027 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 91152 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 69881 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 95802 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50417 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 52690 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 6846 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 46610 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 60339 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 36704 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 82302 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 22665 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
flag 82788 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 23594 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 852 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 22871 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24}]
------------------------------------------------------
client write log 5514433485232103247 (index 25) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67703 term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 41983 term 6 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
flag 79570 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 86412 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
flag 87118 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 28971 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
flag 71914 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 51015 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
flag 15849 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 88161 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
flag 37165 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 70682 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5618741001933353985 (index 26) to leader 0
flag 8993 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 95543 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25} {5618741001933353985 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46088 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 44263 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25} {5618741001933353985 6 26}]
------------------------------------------------------
client write log 2971920647841379318 (index 27) to leader 0
client write log 3243155190366758436 (index 28) to leader 0
client write log 9044111958643393776 (index 29) to leader 0
client write log 583135284751897125 (index 30) to leader 0
client write log 4074112473282969211 (index 31) to leader 0
client write log 7784134600330676951 (index 32) to leader 0
client write log 6566794855283732935 (index 33) to leader 0
client write log 6364306739832640720 (index 34) to leader 0
client write log 1316563731966332149 (index 35) to leader 0
flag 31504 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 69724 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 19} {2290492411145902853 4 20} {6133031194732698988 4 21} {5997875118216657761 4 22} {4807150538749582702 4 23} {118426726085688946 4 24} {5514433485232103247 6 25} {5618741001933353985 6 26} {2971920647841379318 6 27} {3243155190366758436 6 28} {9044111958643393776 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 18730 term 6 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 6 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3769729278373154999 (index 36) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 1
term 8 server 0 become leader
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 0 get outdate rpc reply from server 2
flag 63354 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 70923 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 37->36
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 37->36
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 26  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 25211 term 8 leader 0 nextIndex[2]: 36  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 83891 term 8 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 8 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 45124 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 3126 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 44484 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 26811 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 32805 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 88328 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 68828 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66145 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 70061 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 54464 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 10014 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 80433 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 663 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 84961 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 97804 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 42128 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 22304 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18116 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 33804 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 19876 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 25609 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 20495 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 12074 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 52116 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 74025 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78083 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 65427 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 31596 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 98485 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 11671 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 94744 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54475 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 38055 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
flag 25425 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 88405 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36}]
------------------------------------------------------
client write log 3769729278373154999 (index 37) to leader 0
flag 35696 term 8 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 87575 term 8 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 8 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70113 term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 50466 term 8 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16213 term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 53455 term 8 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
flag 37214 term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 22468 term 8 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
flag 45945 term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 53734 term 8 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75191 term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 90532 term 8 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
flag 17742 term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 43428 term 8 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8434769515780389443 (index 38) to leader 0
flag 38185 term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 42030 term 8 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37} {8434769515780389443 8 38}]
------------------------------------------------------
flag 74034 term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 51656 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37} {8434769515780389443 8 38}]
------------------------------------------------------
client write log 8402555143004399766 (index 39) to leader 0
client write log 208031242180406606 (index 40) to leader 0
client write log 8324561890924646508 (index 41) to leader 0
client write log 4989909264214710315 (index 42) to leader 0
client write log 7821243248579316195 (index 43) to leader 0
client write log 3579281783058360452 (index 44) to leader 0
client write log 7954315506938100940 (index 45) to leader 0
client write log 2506391419309179450 (index 46) to leader 0
client write log 5827293810953581693 (index 47) to leader 0
client write log 2032819821284633791 (index 48) to leader 0
flag 44781 term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 47539 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 29} {583135284751897125 6 30} {4074112473282969211 6 31} {7784134600330676951 6 32} {6566794855283732935 6 33} {6364306739832640720 6 34} {1316563731966332149 6 35} {3769729278373154999 6 36} {3769729278373154999 8 37} {8434769515780389443 8 38} {8402555143004399766 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 42015 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8108051621111281590 (index 49) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 85883 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 vote for server 0
term 10 server 1 vote for server 0
term 10 server 0 get vote from server 2
term 10 server 0 become leader
------------------------------------------------------
term 10 server 0 get outdate rpc reply from server 1
flag 15653 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 16268 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 38  matchIndex[1]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 76796 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
term 10 server 1 InstallSnapshot success
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 8 rf.commitIndex 39 rf.lastApplied 39
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60477 term 10 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 10 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 27559 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 73128 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 64788 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 77237 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 14898 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89437 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 66004 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 30992 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 64737 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 55713 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 37330 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67459 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 56092 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 44130 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 44665 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 82313 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 13561 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 59528 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 54236 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 87974 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 44913 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 62512 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 4839 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 68921 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 93558 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 83988 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 50305 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 68139 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 37448 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
flag 80532 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 86645 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49}]
------------------------------------------------------
client write log 8108051621111281590 (index 50) to leader 0
flag 77592 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 93447 term 10 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 39} {208031242180406606 8 40} {8324561890924646508 8 41} {4989909264214710315 8 42} {7821243248579316195 8 43} {3579281783058360452 8 44} {7954315506938100940 8 45} {2506391419309179450 8 46} {5827293810953581693 8 47} {2032819821284633791 8 48} {8108051621111281590 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 Server0 start snapshot! index=49
term 10 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 3342 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 63500 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 Server2 start snapshot! index=49
term 10 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 10 Server1 start snapshot! index=49
term 10 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 60835 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 3721 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
flag 11956 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 24862 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 server 0 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 0
flag 86509 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 68623 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13465 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 70392 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
flag 65019 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 90157 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 23907 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 74446 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 95980 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 22565 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 93529 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 44177 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
flag 31134 term 11 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 36565 term 11 leader 2 nextIndex[1]: 51  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {8108051621111281590 10 50}]
------------------------------------------------------
flag 28302 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 78380 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
client write log 4844088593444468443 (index 51) to leader 2
flag 75152 term 11 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 97687 term 11 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51}]
------------------------------------------------------
flag 33304 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 65514 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 70263 term 11 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
flag 51899 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51}]
------------------------------------------------------
flag 24192 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 3487 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
client write log 2542398274999870997 (index 52) to leader 2
flag 93411 term 11 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
flag 28032 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52}]
------------------------------------------------------
flag 14088 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 36399 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 74849 term 11 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 52 
------------------------------------------------------
flag 28051 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52}]
------------------------------------------------------
flag 90306 term 10 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 76476 term 10 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 10 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
!!!!!!connect server 0
client write log 5488902973633694028 (index 53) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 51->50
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 45092 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 0 InstallSnapshot fail
rf.commitIndex 50 args.LastIncludedIndex 49
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
flag 73005 term 11 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 83973 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76789 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 11578 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
flag 99229 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 92542 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 44436 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 66583 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85286 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 18650 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 54->53
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 0  matchIndex[0]: 53
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 83598 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
term 11 server 0 InstallSnapshot fail
rf.commitIndex 53 args.LastIncludedIndex 49
------------------------------------------------------
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 31764 term 11 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 95637 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5249031719749933007 (index 54) to leader 2
flag 92786 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 65449 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53} {5249031719749933007 11 54}]
------------------------------------------------------
flag 96287 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 14563 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53} {5249031719749933007 11 54}]
------------------------------------------------------
client write log 452626877310026680 (index 55) to leader 2
client write log 1553835404515895411 (index 56) to leader 2
client write log 8079487860207785391 (index 57) to leader 2
client write log 2192021188761769146 (index 58) to leader 2
client write log 2189828143393500003 (index 59) to leader 2
client write log 4096339685120171872 (index 60) to leader 2
client write log 1821366183674035867 (index 61) to leader 2
client write log 5970155513397256661 (index 62) to leader 2
client write log 7538206411708473384 (index 63) to leader 2
client write log 4481090087378482747 (index 64) to leader 2
flag 64421 term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 92738 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 49} {8108051621111281590 10 50} {4844088593444468443 11 51} {2542398274999870997 11 52} {5488902973633694028 11 53} {5249031719749933007 11 54} {452626877310026680 11 55} {1553835404515895411 11 56} {8079487860207785391 11 57} {2192021188761769146 11 58} {2189828143393500003 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 4915 term 11 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 11 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 0
client write log 94415989994648781 (index 65) to leader 2
term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 27690 term 11 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 11 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 70849 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 24891 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 66->65
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 54  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 82295 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
flag 710 term 13 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 13 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 97629 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
flag 83738 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 37356 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
flag 37314 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 21997 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
term 13 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
flag 73084 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 59969 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17013 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 2578 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81303 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 65005 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
flag 16597 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 47064 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8139738493077208708 (index 66) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59021 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 1824 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65} {8139738493077208708 13 66}]
------------------------------------------------------
flag 40159 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 36944 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65} {8139738493077208708 13 66}]
------------------------------------------------------
client write log 2916896076465208565 (index 67) to leader 2
client write log 2308797396264632651 (index 68) to leader 2
client write log 7662340404813242877 (index 69) to leader 2
client write log 7244666287487065884 (index 70) to leader 2
client write log 3797933338813032062 (index 71) to leader 2
client write log 5248287742723436558 (index 72) to leader 2
client write log 7027649194453140451 (index 73) to leader 2
client write log 8006387091384552714 (index 74) to leader 2
flag 2480 term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 32310 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 59} {4096339685120171872 11 60} {1821366183674035867 11 61} {5970155513397256661 11 62} {7538206411708473384 11 63} {4481090087378482747 11 64} {94415989994648781 11 65} {8139738493077208708 13 66} {2916896076465208565 13 67} {2308797396264632651 13 68} {7662340404813242877 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 58004 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4361826284097692806 (index 75) to leader 2
term 13 server 2 not vote for server 0, 日志不够新
term 13 server 1 not vote for server 0, 日志不够新
term 14 server 2 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 2
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get outdate rpc reply from server 0
flag 70092 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 24497 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 76->75
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 76->75
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 66  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 72786 term 15 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 13 rf.commitIndex 69 rf.lastApplied 69
flag 88957 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 10481 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40952 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 18618 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55684 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 43299 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 1 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 1
flag 77724 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 36411 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43267 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 10762 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
flag 33520 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 50289 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
flag 52449 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 19209 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
flag 38514 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 60100 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
flag 40468 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 45405 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87795 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 27697 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
flag 75716 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 58204 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
flag 89981 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 53225 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
flag 73723 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 66026 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57018 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 36737 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
flag 98041 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 31071 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
flag 25850 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 12290 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37022 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 19426 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50185 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 10143 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75}]
------------------------------------------------------
client write log 4361826284097692806 (index 76) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78876 term 15 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
flag 43003 term 15 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 15 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
update nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9500 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 61288 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
flag 30384 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 29866 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54332 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 99528 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
flag 4994 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 15084 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57454 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 20352 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
flag 16092 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 5460 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 74771 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 98980 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 61822 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 17479 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 23243 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 79124 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16917 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 27563 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 0
term 16 server 1 become leader
------------------------------------------------------
flag 85219 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 47079 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 95140 term 16 leader 1 nextIndex[0]: 77  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 82956 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76}]
------------------------------------------------------
client write log 6973614343081259521 (index 77) to leader 1
flag 88295 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 9981 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 68915 term 16 leader 1 nextIndex[0]: 77  matchIndex[0]: 76
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 95264 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76} {6973614343081259521 16 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10587 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 18868 term 15 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
flag 42724 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 70692 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76} {6973614343081259521 16 77}]
------------------------------------------------------
client write log 2131322868136750459 (index 78) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 77->76
------------------------------------------------------
flag 18863 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 76
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 80581 term 16 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 16 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 16 leaderCommit: 77 
------------------------------------------------------
flag 77074 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76} {6973614343081259521 16 77} {2131322868136750459 16 78}]
------------------------------------------------------
flag 76678 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 76
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 89093 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 15766 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76} {6973614343081259521 16 77} {2131322868136750459 16 78}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7355823071472797550 (index 79) to leader 1
flag 58202 term 15 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 15 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 76 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 76
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18212 term 16 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 16 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 16 leaderCommit: 78 
------------------------------------------------------
flag 99742 term 16 leader 1 nextIndex[2]: 77  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76} {6973614343081259521 16 77} {2131322868136750459 16 78} {7355823071472797550 16 79}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 69} {7244666287487065884 13 70} {3797933338813032062 13 71} {5248287742723436558 13 72} {7027649194453140451 13 73} {8006387091384552714 13 74} {4361826284097692806 13 75} {4361826284097692806 15 76} {6973614343081259521 16 77} {2131322868136750459 16 78} {7355823071472797550 16 79}]
------------------------------------------------------
term 16 Server1 start snapshot! index=79
term 16 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44276 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 78966 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 Server2 start snapshot! index=79
term 16 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 16 Server0 start snapshot! index=79
term 16 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80534 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 20674 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95411 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 74162 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 69850 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 41504 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87784 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 25659 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 5249 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 76938 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5083599353170127503 (index 80) to leader 1
flag 23388 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 72207 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5083599353170127503 16 80}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62666 term 16 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
flag 40810 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5083599353170127503 16 80}]
------------------------------------------------------
client write log 7292848067797023233 (index 81) to leader 1
client write log 2536248046384206977 (index 82) to leader 1
client write log 9115199271449264801 (index 83) to leader 1
client write log 7625706635914377807 (index 84) to leader 1
client write log 4197385289045393239 (index 85) to leader 1
client write log 1169696204357017144 (index 86) to leader 1
client write log 1808431780619864469 (index 87) to leader 1
client write log 1755421814797282723 (index 88) to leader 1
client write log 6951880084755259765 (index 89) to leader 1
client write log 354855889151975978 (index 90) to leader 1
client write log 6616200603467580865 (index 91) to leader 1
flag 10032 term 16 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 16 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
flag 67110 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 80 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 79} {5083599353170127503 16 80} {7292848067797023233 16 81} {2536248046384206977 16 82} {9115199271449264801 16 83} {7625706635914377807 16 84} {4197385289045393239 16 85} {1169696204357017144 16 86} {1808431780619864469 16 87} {1755421814797282723 16 88} {6951880084755259765 16 89} {354855889151975978 16 90} {6616200603467580865 16 91}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
flag 86024 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2373444865864590804 (index 92) to leader 1
flag 46815 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 2164 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 7058 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 93->92
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 15828 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 80  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91349 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 97456 term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 18 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 15779 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 90905 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78255 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 53621 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 95388 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 47058 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 67862 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 46424 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 13664 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 19305 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 54497 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 62992 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 97924 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 68162 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 37515 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 75821 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 47865 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 42451 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
update nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 86058 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 90806 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 54671 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 52302 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 84285 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 91666 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57103 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 9908 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28875 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 56736 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60014 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 41436 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
flag 23110 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 6395 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92}]
------------------------------------------------------
client write log 2373444865864590804 (index 93) to leader 1
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 89725 term 18 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 98773 term 18 leader 1 nextIndex[2]: 93  matchIndex[2]: 92
term 18 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
flag 24653 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 26718 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
flag 76420 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 67729 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5303 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 86784 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
flag 82701 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 96102 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
flag 4964 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 79908 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8155310923288426064 (index 94) to leader 1
flag 92456 term 18 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 43067 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93} {8155310923288426064 18 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18884 term 18 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 57721 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93} {8155310923288426064 18 94}]
------------------------------------------------------
client write log 4171060055897383435 (index 95) to leader 1
client write log 1590494939684997837 (index 96) to leader 1
client write log 2220067388739955102 (index 97) to leader 1
client write log 1007139324697451858 (index 98) to leader 1
client write log 8502966047466308448 (index 99) to leader 1
client write log 6888457834786285553 (index 100) to leader 1
client write log 4993521236033302126 (index 101) to leader 1
client write log 7258165109975250053 (index 102) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93087 term 18 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 18 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 53716 term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 89} {354855889151975978 16 90} {6616200603467580865 16 91} {2373444865864590804 16 92} {2373444865864590804 18 93} {8155310923288426064 18 94} {4171060055897383435 18 95} {1590494939684997837 18 96} {2220067388739955102 18 97} {1007139324697451858 18 98} {8502966047466308448 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=102
-------------------------------------------------------------
flag 25594 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102}]
------------------------------------------------------
term 18 Server0 start snapshot! index=99
term 18 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=102
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6350594381729017927 (index 103) to leader 1
flag 92106 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get outdate rpc reply from server 0
flag 36720 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 48372 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 104->103
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 52166 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 94  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 18 rf.commitIndex 99 rf.lastApplied 99
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 70004 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 84079 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 81625 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 28874 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37805 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 23002 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94214 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 76896 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 22122 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 47976 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 88036 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 78598 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 74637 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 12240 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21886 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 10274 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92859 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 34307 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71251 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 70640 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 14772 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 73732 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 5655 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 7501 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55410 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 39511 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 1 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 1
flag 61016 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 89303 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 82049 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 4959 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78862 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 49490 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
flag 57992 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 52787 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103}]
------------------------------------------------------
client write log 6350594381729017927 (index 104) to leader 1
flag 30853 term 20 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 38313 term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 20 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
flag 6998 term 20 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 93776 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
flag 3695 term 20 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 9346 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68340 term 20 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 62992 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43443 term 20 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 73886 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
flag 55469 term 20 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 96427 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
term 20 server 1 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 1
flag 13752 term 20 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 67291 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 60640 term 20 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 6040 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 32866 term 20 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 52699 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 105->104
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 104
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 83723 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 104
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 32751 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
flag 82188 term 21 leader 0 nextIndex[1]: 105  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 99298 term 21 leader 0 nextIndex[2]: 105  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104}]
------------------------------------------------------
client write log 1195707313880292406 (index 105) to leader 0
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 104
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 95954 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 29008 term 21 leader 0 nextIndex[1]: 105  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 13380 term 21 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 21 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 104
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 25734 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 6231 term 21 leader 0 nextIndex[1]: 105  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 105 
------------------------------------------------------
flag 58211 term 21 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 21 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 21 leaderCommit: 105 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105}]
------------------------------------------------------
client write log 8937156268712872160 (index 106) to leader 0
term 20 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 36556 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 63230 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 11711 term 21 leader 0 nextIndex[1]: 105  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 105 
------------------------------------------------------
flag 60949 term 21 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 21 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 21 leaderCommit: 105 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 14047 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 48672 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
flag 20015 term 21 leader 0 nextIndex[1]: 105  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 106 
------------------------------------------------------
flag 36451 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
!!!!!!connect server 1
client write log 184954529576366175 (index 105) to leader 1
flag 15845 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 44940 term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 20 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 104 
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 21 server 0 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10401 term 21 leader 0 nextIndex[1]: 105  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 20 leaderCommit: 106 
------------------------------------------------------
flag 44607 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 35162 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 57835 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65291 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 25993 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 84700 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 8051 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 30615 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 52975 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 13957 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 18992 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 107->106
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 106
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 27192 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
term 21 server 1 InstallSnapshot fail
rf.commitIndex 106 args.LastIncludedIndex 99
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62061 term 21 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 21 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 106 
------------------------------------------------------
flag 65819 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 86420 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 19157 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 87749 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 14725 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 23869 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 8558 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 107->106
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 106
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 43357 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 106 args.LastIncludedIndex 99
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 46915 term 21 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 21 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 106 
------------------------------------------------------
flag 28341 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 10188 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 70725 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 46153 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 67903 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 99496 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 85060 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 35258 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 20861 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 30703 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 64492 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43087 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 96608 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
flag 88532 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 8881 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106}]
------------------------------------------------------
client write log 184954529576366175 (index 107) to leader 0
flag 96022 term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
flag 26417 term 21 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 21 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 21 leaderCommit: 106 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 108->107
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 107
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 24939 term 21 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 106 args.LastIncludedIndex 99
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 12297 term 21 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 21 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 20384 term 21 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
flag 68254 term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
flag 38308 term 21 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59036 term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
flag 11003 term 21 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19970 term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
flag 41328 term 21 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47189 term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
flag 95328 term 21 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
flag 80429 term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
flag 12005 term 21 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4521136482954008454 (index 108) to leader 0
flag 39487 term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
flag 38644 term 21 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 107 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107} {4521136482954008454 21 108}]
------------------------------------------------------
flag 74337 term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 108 
------------------------------------------------------
flag 52198 term 21 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 21 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 21 leaderCommit: 108 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107} {4521136482954008454 21 108}]
------------------------------------------------------
client write log 8867475657735160377 (index 109) to leader 0
client write log 8798194065018171404 (index 110) to leader 0
client write log 8891620553266297447 (index 111) to leader 0
client write log 8863003113721361963 (index 112) to leader 0
client write log 4224424594913538759 (index 113) to leader 0
client write log 5361767401695172468 (index 114) to leader 0
client write log 3833336038656158537 (index 115) to leader 0
client write log 2353596572288445786 (index 116) to leader 0
client write log 41895577809716055 (index 117) to leader 0
client write log 7111987991579607694 (index 118) to leader 0
client write log 5047742199828864072 (index 119) to leader 0
client write log 2787278874558082474 (index 120) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69866 term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 21 leaderCommit: 108 
------------------------------------------------------
flag 71596 term 21 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 21 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 21 leaderCommit: 108 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 99} {6888457834786285553 18 100} {4993521236033302126 18 101} {7258165109975250053 18 102} {6350594381729017927 18 103} {6350594381729017927 20 104} {1195707313880292406 21 105} {8937156268712872160 21 106} {184954529576366175 21 107} {4521136482954008454 21 108} {8867475657735160377 21 109} {8798194065018171404 21 110} {8891620553266297447 21 111} {8863003113721361963 21 112} {4224424594913538759 21 113} {5361767401695172468 21 114} {3833336038656158537 21 115} {2353596572288445786 21 116} {41895577809716055 21 117} {7111987991579607694 21 118} {5047742199828864072 21 119} {2787278874558082474 21 120}]
------------------------------------------------------
term 21 Server0 start snapshot! index=109
term 21 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=120
-------------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 90509 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120}]
------------------------------------------------------
term 21 Server2 start snapshot! index=109
term 21 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=120
-------------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4252826362961515450 (index 121) to leader 0
term 21 leader 0 nextIndex[1]: 108  matchIndex[1]: 107
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 53731 term 21 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 7301 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 78726 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 122->121
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 32518 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
flag 81298 term 23 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 77365 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
flag 24602 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 17043 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7252 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 65366 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
flag 58341 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 35680 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
flag 92193 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 41872 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4919 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 60720 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42752 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 98467 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
flag 79605 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 60907 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
flag 92303 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 46863 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
term 23 server 1 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 1
flag 89326 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 20317 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85502 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 29157 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31647 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 25754 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37983 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 59473 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
flag 147 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 91395 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
flag 78296 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 68032 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
flag 75264 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 46981 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
flag 55310 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 96787 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=120
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121}]
------------------------------------------------------
client write log 4252826362961515450 (index 122) to leader 0
flag 94223 term 23 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
flag 97544 term 23 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 23 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:120 
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
flag 99663 term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
flag 74456 term 23 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
flag 44774 term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
flag 88780 term 23 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83937 term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
flag 50435 term 23 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32596 term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
flag 78609 term 23 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
flag 21360 term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
flag 83421 term 23 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
update nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47643 term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
flag 24054 term 23 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1652581169693055923 (index 123) to leader 0
flag 18959 term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
flag 93094 term 23 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122} {1652581169693055923 23 123}]
------------------------------------------------------
flag 17296 term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 123 
------------------------------------------------------
flag 67367 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 23 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122} {1652581169693055923 23 123}]
------------------------------------------------------
client write log 5555395024828022911 (index 124) to leader 0
client write log 2318470083860701084 (index 125) to leader 0
client write log 6564222344190823018 (index 126) to leader 0
client write log 8020917888113510899 (index 127) to leader 0
client write log 3220721817195324216 (index 128) to leader 0
client write log 5289534324131374364 (index 129) to leader 0
client write log 1027660718671313634 (index 130) to leader 0
client write log 1353254170632684413 (index 131) to leader 0
flag 36472 term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 23 leaderCommit: 123 
------------------------------------------------------
flag 2174 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 23 leaderCommit: 123 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 119} {2787278874558082474 21 120} {4252826362961515450 21 121} {4252826362961515450 23 122} {1652581169693055923 23 123} {5555395024828022911 23 124} {2318470083860701084 23 125} {6564222344190823018 23 126} {8020917888113510899 23 127} {3220721817195324216 23 128} {5289534324131374364 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=131
-------------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 35954 term 23 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=131
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6860933748588900013 (index 132) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 76282 term 23 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 1
term 25 server 0 become leader
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 2
flag 96590 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 79311 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 133->132
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 123  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 38556 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 23 rf.commitIndex 129 rf.lastApplied 129
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
flag 21274 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 46984 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29871 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 24653 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
flag 15700 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 68916 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
flag 10690 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 2170 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
flag 7922 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 45983 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
flag 741 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 90675 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
flag 42043 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 322 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 75399 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 27718 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 17150 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 74500 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 87208 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 9871 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
flag 33182 term 26 leader 1 nextIndex[0]: 133  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 5375 term 26 leader 1 nextIndex[2]: 133  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132}]
------------------------------------------------------
client write log 90016740724269793 (index 133) to leader 1
flag 84570 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 40314 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 7304 term 26 leader 1 nextIndex[0]: 133  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 55412 term 26 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 26 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132} {90016740724269793 26 133}]
------------------------------------------------------
flag 74590 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 99688 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 67046 term 26 leader 1 nextIndex[0]: 133  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 78719 term 26 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 26 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 26 leaderCommit: 133 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132} {90016740724269793 26 133}]
------------------------------------------------------
client write log 5126043786623508394 (index 134) to leader 1
client write log 7743614451742265987 (index 135) to leader 1
client write log 8756463085232590062 (index 136) to leader 1
client write log 6836032839587811674 (index 137) to leader 1
client write log 1109691171706835350 (index 138) to leader 1
client write log 5107785470584178983 (index 139) to leader 1
client write log 1452086165227252029 (index 140) to leader 1
client write log 4036339551107486578 (index 141) to leader 1
client write log 1447142637686798109 (index 142) to leader 1
client write log 4462798221379300116 (index 143) to leader 1
client write log 5722869878673126905 (index 144) to leader 1
client write log 5870736551633764727 (index 145) to leader 1
client write log 6518293888474618197 (index 146) to leader 1
client write log 5263657153058670902 (index 147) to leader 1
client write log 7225541183782457239 (index 148) to leader 1
flag 80790 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 63524 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85054 term 26 leader 1 nextIndex[0]: 133  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 345 term 26 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 26 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 26 leaderCommit: 133 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 129} {1027660718671313634 23 130} {1353254170632684413 23 131} {6860933748588900013 23 132} {90016740724269793 26 133} {5126043786623508394 26 134} {7743614451742265987 26 135} {8756463085232590062 26 136} {6836032839587811674 26 137} {1109691171706835350 26 138} {5107785470584178983 26 139} {1452086165227252029 26 140} {4036339551107486578 26 141} {1447142637686798109 26 142} {4462798221379300116 26 143} {5722869878673126905 26 144} {5870736551633764727 26 145} {6518293888474618197 26 146} {5263657153058670902 26 147} {7225541183782457239 26 148}]
------------------------------------------------------
term 26 Server1 start snapshot! index=139
term 26 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=148
-------------------------------------------------------------
flag 53011 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 70446 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 26 leader 1 nextIndex[0]: 133  matchIndex[0]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 26
------------------------------------------------------
flag 66265 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {1452086165227252029 26 140} {4036339551107486578 26 141} {1447142637686798109 26 142} {4462798221379300116 26 143} {5722869878673126905 26 144} {5870736551633764727 26 145} {6518293888474618197 26 146} {5263657153058670902 26 147} {7225541183782457239 26 148}]
------------------------------------------------------
term 26 Server2 start snapshot! index=139
term 26 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=148
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2296688680717893772 (index 149) to leader 1
flag 7247 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 57502 term 25 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 26 server 2 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 1 nextIndex[0]: 133  matchIndex[0]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 26
------------------------------------------------------
flag 40590 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 139} {1452086165227252029 26 140} {4036339551107486578 26 141} {1447142637686798109 26 142} {4462798221379300116 26 143} {5722869878673126905 26 144} {5870736551633764727 26 145} {6518293888474618197 26 146} {5263657153058670902 26 147} {7225541183782457239 26 148} {2296688680717893772 26 149}]
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 26 rf.commitIndex 139 rf.lastApplied 139
------------------------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 26 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 19118 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
term 26 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90117 term 26 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 96814 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 41765 term 26 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 60865 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 15504 term 26 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 73487 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 72293 term 26 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 94995 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8981663397633429784 (index 150) to leader 1
flag 57589 term 26 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 55709 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {8981663397633429784 26 150}]
------------------------------------------------------
flag 64579 term 26 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 26 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 26 leaderCommit: 150 
------------------------------------------------------
flag 30889 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 150 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {8981663397633429784 26 150}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 151->150
------------------------------------------------------
client write log 8758615945087123252 (index 151) to leader 1
client write log 1482022167185253307 (index 152) to leader 1
client write log 7083936976447459200 (index 153) to leader 1
client write log 1690599004090851859 (index 154) to leader 1
client write log 1337261478579749186 (index 155) to leader 1
client write log 1214443058600304223 (index 156) to leader 1
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 150
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 54277 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 150 
------------------------------------------------------
term 26 server 0 InstallSnapshot fail
rf.commitIndex 150 args.LastIncludedIndex 149
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33061 term 26 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 150 
------------------------------------------------------
flag 57138 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 150 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 157->156
------------------------------------------------------
term 26 leader 1 nextIndex[0]: 0  matchIndex[0]: 156
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 24796 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 0 InstallSnapshot fail
rf.commitIndex 150 args.LastIncludedIndex 149
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
flag 4198 term 26 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 78226 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6612278553853321779 (index 157) to leader 1
flag 40406 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 80145 term 26 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 27 server 2 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 1 not vote for server 2, 日志不够新
term 26 server 0 not vote for server 2, 日志不够新
term 29 server 2 vote for server 1
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
term 29 server 1 get outdate rpc reply from server 0
flag 96925 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 89562 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 158->157
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
flag 44443 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 37310 term 29 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 0
flag 504 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 77377 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
flag 81165 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 3348 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
flag 66858 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 4295 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
flag 75149 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 65688 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68577 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 43892 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3337 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 43085 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
flag 17048 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 82572 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
flag 44090 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 45927 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98795 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 14636 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25648 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 12178 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
flag 41081 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 10196 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35176 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 30212 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
flag 67240 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 98888 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157}]
------------------------------------------------------
client write log 6612278553853321779 (index 158) to leader 1
flag 16297 term 29 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 57887 term 29 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 29 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
flag 25727 term 29 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
flag 97441 term 29 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
flag 57007 term 29 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
flag 95149 term 29 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55773 term 29 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
flag 52385 term 29 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
flag 244 term 29 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
flag 75259 term 29 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
flag 71774 term 29 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
flag 40986 term 29 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 373784018243891153 (index 159) to leader 1
flag 62984 term 29 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
flag 31547 term 29 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 29 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 149} {8981663397633429784 26 150} {8758615945087123252 26 151} {1482022167185253307 26 152} {7083936976447459200 26 153} {1690599004090851859 26 154} {1337261478579749186 26 155} {1214443058600304223 26 156} {6612278553853321779 26 157} {6612278553853321779 29 158} {373784018243891153 29 159}]
------------------------------------------------------
term 29 Server1 start snapshot! index=159
term 29 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 90088 term 29 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
term 29 Server0 start snapshot! index=159
term 29 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
client write log 8878539877173847335 (index 160) to leader 1
client write log 8239903749720393896 (index 161) to leader 1
client write log 4596159358731485894 (index 162) to leader 1
client write log 2139642656976808366 (index 163) to leader 1
client write log 1351762957540304275 (index 164) to leader 1
client write log 6818624470269218241 (index 165) to leader 1
client write log 1845341919527301849 (index 166) to leader 1
client write log 3282963296252413888 (index 167) to leader 1
client write log 5673499532464584912 (index 168) to leader 1
client write log 2247681944025603184 (index 169) to leader 1
client write log 1254216052759736926 (index 170) to leader 1
client write log 5717798816326294763 (index 171) to leader 1
client write log 5204978995264816648 (index 172) to leader 1
client write log 3993149225301081271 (index 173) to leader 1
client write log 5587768862083394557 (index 174) to leader 1
flag 50863 term 29 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 29 159} {8878539877173847335 29 160} {8239903749720393896 29 161} {4596159358731485894 29 162} {2139642656976808366 29 163} {1351762957540304275 29 164} {6818624470269218241 29 165} {1845341919527301849 29 166} {3282963296252413888 29 167} {5673499532464584912 29 168} {2247681944025603184 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
flag 92344 term 29 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174}]
------------------------------------------------------
term 29 Server0 start snapshot! index=169
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6548717152636885631 (index 175) to leader 1
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 2 vote for server 1
term 31 server 0 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 1 get outdate rpc reply from server 0
flag 90264 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 3249 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 176->175
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 176->175
------------------------------------------------------
flag 14403 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 159  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 29 rf.commitIndex 169 rf.lastApplied 169
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
flag 85870 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 75413 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99117 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 39952 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
flag 65441 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 25497 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
flag 74831 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 28188 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
flag 5020 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 57720 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
flag 39525 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 21645 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
flag 46323 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 36622 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30002 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 75205 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 0 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 97592 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 24667 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 45305 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 59610 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
flag 61810 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 26919 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 1
flag 12511 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 43313 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
flag 7051 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 14319 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86081 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 17213 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
flag 59010 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 52217 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48598 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 62249 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89210 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 31505 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90229 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 62668 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175}]
------------------------------------------------------
client write log 6548717152636885631 (index 176) to leader 1
flag 4768 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
flag 83300 term 31 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
flag 82966 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 10488 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73488 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 42953 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
flag 11640 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 79462 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2590 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 48359 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
flag 90863 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 36549 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
flag 14850 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 27875 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 12289 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 99880 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 25341 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 89739 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 23957 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 20518 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 32 server 0 vote for server 2
term 32 server 2 get vote from server 0
term 32 server 2 become leader
------------------------------------------------------
flag 32382 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 44781 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 12266 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 34947 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176}]
------------------------------------------------------
client write log 7621983294624258986 (index 177) to leader 2
flag 69217 term 32 leader 2 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 93460 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 98961 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 58012 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176} {7621983294624258986 32 177}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11268 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 84628 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 90231 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
flag 35893 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176} {7621983294624258986 32 177}]
------------------------------------------------------
client write log 2998107376100636934 (index 178) to leader 2
client write log 7444002904771424255 (index 179) to leader 2
client write log 1724670257729625227 (index 180) to leader 2
client write log 5451827613330136078 (index 181) to leader 2
client write log 4512267734762771596 (index 182) to leader 2
client write log 1051630157081837413 (index 183) to leader 2
client write log 908067665615614440 (index 184) to leader 2
client write log 3198728612077112488 (index 185) to leader 2
client write log 6381137461618493271 (index 186) to leader 2
client write log 4798936675455240691 (index 187) to leader 2
client write log 911087804490818385 (index 188) to leader 2
client write log 108906367417629472 (index 189) to leader 2
client write log 8090502919398898246 (index 190) to leader 2
client write log 7200469331345883996 (index 191) to leader 2
client write log 4510711886276007028 (index 192) to leader 2
flag 89370 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 45294 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 61451 term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 2043 term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 169} {1254216052759736926 29 170} {5717798816326294763 29 171} {5204978995264816648 29 172} {3993149225301081271 29 173} {5587768862083394557 29 174} {6548717152636885631 29 175} {6548717152636885631 31 176} {7621983294624258986 32 177} {2998107376100636934 32 178} {7444002904771424255 32 179} {1724670257729625227 32 180} {5451827613330136078 32 181} {4512267734762771596 32 182} {1051630157081837413 32 183} {908067665615614440 32 184} {3198728612077112488 32 185} {6381137461618493271 32 186} {4798936675455240691 32 187} {911087804490818385 32 188} {108906367417629472 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 32 Server2 start snapshot! index=179
term 32 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=192
-------------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
flag 29837 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 65659 term 31 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
flag 33730 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 32 Server0 start snapshot! index=179
term 32 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=192
-------------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3607679566516683296 (index 177) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 177->176
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44817 term 31 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 31 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 0  matchIndex[2]: 176
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 51118 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 server 0 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 32 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 32 rf.commitIndex 189 rf.lastApplied 189
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50386 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 54191 term 32 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 2 not vote for server 1, 日志不够新
term 33 server 1 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 1 vote for server 2
term 34 server 2 get vote from server 1
term 34 server 0 vote for server 2
term 34 server 2 become leader
------------------------------------------------------
term 34 server 2 get outdate rpc reply from server 0
flag 37807 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 56066 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 193->192
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
flag 32191 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 50001 term 34 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
flag 7367 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 84039 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76761 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 28204 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
flag 77049 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 30839 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44313 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 40694 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31116 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 62341 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
flag 86634 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 40970 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
flag 88601 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 16224 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76646 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 90472 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
flag 61062 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 38829 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
flag 84387 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 31871 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
flag 85869 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 63821 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92828 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 19641 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
flag 95978 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 8920 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73723 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 83862 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48934 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 51607 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192}]
------------------------------------------------------
client write log 3607679566516683296 (index 193) to leader 2
flag 33827 term 34 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 54393 term 34 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 34 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
flag 94629 term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
flag 90095 term 34 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
flag 53953 term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
flag 85696 term 34 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64819 term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
flag 19344 term 34 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
flag 98210 term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
flag 70685 term 34 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57150 term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
flag 50026 term 34 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
flag 83961 term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
flag 16309 term 34 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8497294669808777445 (index 194) to leader 2
flag 74887 term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
flag 50791 term 34 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193} {8497294669808777445 34 194}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42199 term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 194 
------------------------------------------------------
flag 64330 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 34 leaderCommit: 194 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193} {8497294669808777445 34 194}]
------------------------------------------------------
client write log 6571165109764593488 (index 195) to leader 2
client write log 6871257342338347714 (index 196) to leader 2
client write log 9182481268200838639 (index 197) to leader 2
client write log 5408747916888928664 (index 198) to leader 2
client write log 3494830687495376556 (index 199) to leader 2
client write log 120814957496274475 (index 200) to leader 2
client write log 7872686290319478523 (index 201) to leader 2
client write log 1925859676078428360 (index 202) to leader 2
client write log 4436008856190149086 (index 203) to leader 2
client write log 3504665330198724906 (index 204) to leader 2
client write log 5960067624882115651 (index 205) to leader 2
client write log 3523515188687144525 (index 206) to leader 2
client write log 868566138420004418 (index 207) to leader 2
client write log 3209567790212657318 (index 208) to leader 2
client write log 44990416354566340 (index 209) to leader 2
flag 72617 term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 34 leaderCommit: 194 
------------------------------------------------------
flag 23320 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 34 leaderCommit: 194 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 32 189} {8090502919398898246 32 190} {7200469331345883996 32 191} {4510711886276007028 32 192} {3607679566516683296 34 193} {8497294669808777445 34 194} {6571165109764593488 34 195} {6871257342338347714 34 196} {9182481268200838639 34 197} {5408747916888928664 34 198} {3494830687495376556 34 199} {120814957496274475 34 200} {7872686290319478523 34 201} {1925859676078428360 34 202} {4436008856190149086 34 203} {3504665330198724906 34 204} {5960067624882115651 34 205} {3523515188687144525 34 206} {868566138420004418 34 207} {3209567790212657318 34 208} {44990416354566340 34 209}]
------------------------------------------------------
term 34 Server2 start snapshot! index=199
term 34 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=209
-------------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 23671 term 34 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
term 34 Server1 start snapshot! index=199
term 34 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=209
-------------------------------------------------------------
term 34 Server1 start snapshot! index=209
term 34 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6281136471920785397 (index 210) to leader 2
term 34 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 6784 term 34 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 0 vote for server 2
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 0
flag 58843 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 40809 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 211->210
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 194  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 68241 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
flag 26007 term 36 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 36 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 13002 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54936 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 91970 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
flag 83056 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 51545 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49227 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 97256 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
flag 89824 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 5091 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
flag 92369 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 58366 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
flag 36008 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 53921 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {6281136471920785397 34 210}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3823293239115258955 (index 211) to leader 2
flag 61379 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 21512 term 36 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {6281136471920785397 34 210} {3823293239115258955 36 211}]
------------------------------------------------------
flag 51106 term 36 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 36 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 395 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {6281136471920785397 34 210} {3823293239115258955 36 211}]
------------------------------------------------------
client write log 5179059893194188348 (index 212) to leader 2
client write log 2240156591126912409 (index 213) to leader 2
client write log 3606092526035867004 (index 214) to leader 2
client write log 439885004488767579 (index 215) to leader 2
client write log 3813511427413746357 (index 216) to leader 2
client write log 7772103587516753188 (index 217) to leader 2
client write log 8457322664916713852 (index 218) to leader 2
client write log 4797301745406788123 (index 219) to leader 2
client write log 2593589416871721284 (index 220) to leader 2
client write log 1668176611227563739 (index 221) to leader 2
client write log 403687510782104018 (index 222) to leader 2
client write log 7064628922643716483 (index 223) to leader 2
client write log 3906192974839515882 (index 224) to leader 2
client write log 3984114446236210758 (index 225) to leader 2
client write log 250710719196821925 (index 226) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 211->210
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 210
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 95430 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 36 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 209} {6281136471920785397 34 210} {3823293239115258955 36 211} {5179059893194188348 36 212} {2240156591126912409 36 213} {3606092526035867004 36 214} {439885004488767579 36 215} {3813511427413746357 36 216} {7772103587516753188 36 217} {8457322664916713852 36 218} {4797301745406788123 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=226
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 210
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 55451 term 36 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226}]
------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=226
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1545319411605810309 (index 227) to leader 2
term 36 leader 2 nextIndex[0]: 0  matchIndex[0]: 210
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 34938 term 36 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 36 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 0
term 38 server 2 become leader
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 2 get outdate rpc reply from server 1
flag 69002 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 76972 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 228->227
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 211  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 38803 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
flag 41410 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 4428 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69335 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 24572 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17933 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 62510 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90773 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 15586 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34791 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 74288 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
flag 7617 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 45984 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 48026 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 9169 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 76955 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 63054 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 51754 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 63381 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get vote from server 0
term 39 server 1 become leader
------------------------------------------------------
flag 61915 term 39 leader 1 nextIndex[0]: 228  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 52816 term 39 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227}]
------------------------------------------------------
client write log 3148118794903103488 (index 228) to leader 1
flag 82007 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 41177 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 28379 term 39 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 39 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 34969 term 39 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227} {3148118794903103488 39 228}]
------------------------------------------------------
flag 44676 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 97366 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 89944 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 39 leaderCommit: 228 
------------------------------------------------------
flag 89329 term 39 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227} {3148118794903103488 39 228}]
------------------------------------------------------
client write log 7283971050789293728 (index 229) to leader 1
flag 31247 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 34472 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 27005 term 39 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 39 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 39 leaderCommit: 228 
------------------------------------------------------
flag 73811 term 39 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 219} {2593589416871721284 36 220} {1668176611227563739 36 221} {403687510782104018 36 222} {7064628922643716483 36 223} {3906192974839515882 36 224} {3984114446236210758 36 225} {250710719196821925 36 226} {1545319411605810309 36 227} {3148118794903103488 39 228} {7283971050789293728 39 229}]
------------------------------------------------------
term 39 Server1 start snapshot! index=229
term 39 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 12772 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 75338 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 1
flag 6347 term 39 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 Server0 start snapshot! index=229
term 39 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6023956781482107842 (index 230) to leader 1
flag 38629 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 87506 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61867 term 39 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 39 rf.commitIndex 229 rf.lastApplied 229
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
flag 52875 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 71637 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49804 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 22039 term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
flag 7021 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 79504 term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
flag 32398 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 95869 term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
flag 39330 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 61487 term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42320 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 55643 term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
flag 44304 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 68284 term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {6023956781482107842 39 230}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 831792376769784789 (index 231) to leader 1
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 1 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 1
flag 49156 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 23336 term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6023956781482107842 39 230} {831792376769784789 39 231}]
------------------------------------------------------
flag 20916 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 48142 term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6023956781482107842 39 230} {831792376769784789 39 231}]
------------------------------------------------------
client write log 8230952328852519988 (index 232) to leader 1
client write log 5140505457476107662 (index 233) to leader 1
client write log 470322460335221595 (index 234) to leader 1
client write log 7689777777898406361 (index 235) to leader 1
client write log 7029960505555864722 (index 236) to leader 1
client write log 4806235774219487244 (index 237) to leader 1
client write log 311593055376624512 (index 238) to leader 1
client write log 3413718320463708892 (index 239) to leader 1
client write log 3218220970063832237 (index 240) to leader 1
client write log 32688024696738959 (index 241) to leader 1
client write log 1526563919105658700 (index 242) to leader 1
client write log 5436262824369150874 (index 243) to leader 1
client write log 729371408590309918 (index 244) to leader 1
flag 89651 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 82877 term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 39 229} {6023956781482107842 39 230} {831792376769784789 39 231} {8230952328852519988 39 232} {5140505457476107662 39 233} {470322460335221595 39 234} {7689777777898406361 39 235} {7029960505555864722 39 236} {4806235774219487244 39 237} {311593055376624512 39 238} {3413718320463708892 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244}]
------------------------------------------------------
term 39 Server1 start snapshot! index=239
term 39 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=244
-------------------------------------------------------------
flag 29347 term 39 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 39 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244}]
------------------------------------------------------
term 39 Server0 start snapshot! index=239
term 39 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=244
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2768801819821154577 (index 245) to leader 1
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 0 not vote for server 2, 日志不够新
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get outdate rpc reply from server 0
flag 30333 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 86081 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 246->245
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 246->245
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99034 term 41 leader 1 nextIndex[0]: 245  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 39 rf.commitIndex 239 rf.lastApplied 239
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 59346 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 9588 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 50632 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 83015 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 67575 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 28885 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 99161 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 41319 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63346 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 55160 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52285 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 43753 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53531 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 1192 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 34636 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 63777 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40368 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 70638 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 82624 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 84244 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 47527 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 52593 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40849 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 66720 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 95101 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 57015 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8884 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 70307 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58323 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 53381 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 61828 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 59579 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 1471 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 3866 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245}]
------------------------------------------------------
flag 84956 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 67835 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
client write log 2768801819821154577 (index 246) to leader 1
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62240 term 41 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
flag 46749 term 41 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 41 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38382 term 41 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
flag 57792 term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
flag 47625 term 41 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
flag 43491 term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
term 41 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28903 term 41 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
flag 29553 term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
flag 10288 term 41 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
flag 67244 term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
flag 50887 term 41 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
flag 1333 term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5152297351807460631 (index 247) to leader 1
flag 72664 term 41 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
flag 4163 term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 246 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246} {5152297351807460631 41 247}]
------------------------------------------------------
flag 87156 term 41 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 41 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 41 leaderCommit: 247 
------------------------------------------------------
flag 77861 term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 247 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246} {5152297351807460631 41 247}]
------------------------------------------------------
client write log 5173253242302890491 (index 248) to leader 1
client write log 5676952302264428228 (index 249) to leader 1
client write log 6402574158030819639 (index 250) to leader 1
client write log 7873829211216199754 (index 251) to leader 1
client write log 2536825316441028845 (index 252) to leader 1
client write log 8801294106379243539 (index 253) to leader 1
client write log 2252486971219387315 (index 254) to leader 1
client write log 3066894829365806633 (index 255) to leader 1
client write log 7401203320973512491 (index 256) to leader 1
client write log 3104003777304843802 (index 257) to leader 1
flag 90456 term 41 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 41 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 41 leaderCommit: 247 
------------------------------------------------------
flag 7873 term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 41 leaderCommit: 247 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 239} {3218220970063832237 39 240} {32688024696738959 39 241} {1526563919105658700 39 242} {5436262824369150874 39 243} {729371408590309918 39 244} {2768801819821154577 39 245} {2768801819821154577 41 246} {5152297351807460631 41 247} {5173253242302890491 41 248} {5676952302264428228 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257}]
------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=257
-------------------------------------------------------------
flag 13028 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257}]
------------------------------------------------------
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=257
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7847156678989473801 (index 258) to leader 1
flag 33596 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get outdate rpc reply from server 0
flag 66736 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 10207 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 259->258
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
flag 21281 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 247  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 41 rf.commitIndex 249 rf.lastApplied 249
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
flag 84576 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 33442 term 43 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 43 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
flag 21182 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 95981 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
flag 63261 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 45777 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
flag 10437 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 43989 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
flag 94452 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 98737 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59275 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 91782 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
flag 1315 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 9350 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19179 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 59161 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50148 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 29108 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1696 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 56953 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 83913 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 6682 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 44 server 0 vote for server 2
term 44 server 2 get vote from server 0
term 44 server 2 become leader
------------------------------------------------------
flag 66684 term 44 leader 2 nextIndex[0]: 259  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 19574 term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258}]
------------------------------------------------------
client write log 2733782453328768065 (index 259) to leader 2
flag 27345 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 76534 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41280 term 44 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 44 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 90894 term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 249} {6402574158030819639 41 250} {7873829211216199754 41 251} {2536825316441028845 41 252} {8801294106379243539 41 253} {2252486971219387315 41 254} {3066894829365806633 41 255} {7401203320973512491 41 256} {3104003777304843802 41 257} {7847156678989473801 41 258} {2733782453328768065 44 259}]
------------------------------------------------------
term 44 Server2 start snapshot! index=259
term 44 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 22990 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 10171 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 49440 term 44 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 44 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 44 leaderCommit: 259 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 44 259}]
------------------------------------------------------
term 44 Server0 start snapshot! index=259
term 44 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 6267581986236149837 (index 260) to leader 2
client write log 2729511836838256505 (index 261) to leader 2
client write log 6372929615518999268 (index 262) to leader 2
client write log 5213744750755114479 (index 263) to leader 2
client write log 6570823361426286998 (index 264) to leader 2
client write log 2823609589694848548 (index 265) to leader 2
client write log 410806853329080662 (index 266) to leader 2
flag 9981 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 87411 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 73615 term 44 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 44 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 44 leaderCommit: 259 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 91330 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 11915 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 73255 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6422439412928750328 (index 259) to leader 1
flag 83397 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 38099 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 44 server 2 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 44 server 0 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 2
flag 15510 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 44 rf.commitIndex 259 rf.lastApplied 259
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66539 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 3760 term 44 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 44 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27624 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 24290 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 89463 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 82530 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32179 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 92724 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41439 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 61976 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 39496 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 85864 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11345 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 97949 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 66811 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 63562 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 33177 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 47144 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 267->266
------------------------------------------------------
flag 40578 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 0  matchIndex[1]: 266
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 InstallSnapshot fail
rf.commitIndex 266 args.LastIncludedIndex 259
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91218 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 23403 term 44 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 44 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 14453 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 18640 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87217 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 47287 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 8082 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 14390 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 47208 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 77516 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 1 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 1
flag 3892 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 78273 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 7924 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 9930 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
update nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
flag 24731 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 52123 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10673 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 56335 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266}]
------------------------------------------------------
client write log 6422439412928750328 (index 267) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47443 term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 3588 term 44 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 44 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45737 term 44 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 23278 term 44 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
flag 33099 term 44 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 86146 term 44 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73325 term 44 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 22238 term 44 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
flag 61547 term 44 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 60664 term 44 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
flag 11932 term 44 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 11303 term 44 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 994916941500261261 (index 268) to leader 2
flag 58806 term 44 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
flag 62434 term 44 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 267 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267} {994916941500261261 44 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63980 term 44 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 67767 term 44 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267} {994916941500261261 44 268}]
------------------------------------------------------
client write log 4241898497114947025 (index 269) to leader 2
client write log 4567547284123322584 (index 270) to leader 2
client write log 25105848610755214 (index 271) to leader 2
client write log 7249900478379633017 (index 272) to leader 2
client write log 3353913748770507722 (index 273) to leader 2
client write log 3081267650197553277 (index 274) to leader 2
client write log 2619701395955436970 (index 275) to leader 2
client write log 3336438353137584663 (index 276) to leader 2
client write log 562099835198118233 (index 277) to leader 2
client write log 4250637427277339891 (index 278) to leader 2
client write log 1751667218020462160 (index 279) to leader 2
client write log 3079659264837029120 (index 280) to leader 2
client write log 1499853747975158862 (index 281) to leader 2
client write log 9089952880121223552 (index 282) to leader 2
client write log 1085353937934952826 (index 283) to leader 2
flag 52136 term 44 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
flag 64310 term 44 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 44 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 44 leaderCommit: 268 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 44 259} {6267581986236149837 44 260} {2729511836838256505 44 261} {6372929615518999268 44 262} {5213744750755114479 44 263} {6570823361426286998 44 264} {2823609589694848548 44 265} {410806853329080662 44 266} {6422439412928750328 44 267} {994916941500261261 44 268} {4241898497114947025 44 269} {4567547284123322584 44 270} {25105848610755214 44 271} {7249900478379633017 44 272} {3353913748770507722 44 273} {3081267650197553277 44 274} {2619701395955436970 44 275} {3336438353137584663 44 276} {562099835198118233 44 277} {4250637427277339891 44 278} {1751667218020462160 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283}]
------------------------------------------------------
term 44 Server2 start snapshot! index=269
term 44 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=283
-------------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=283
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 268  matchIndex[0]: 267
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 57657 term 44 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 44 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283}]
------------------------------------------------------
term 44 Server1 start snapshot! index=269
term 44 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=283
-------------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=283
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6440844984825210582 (index 284) to leader 2
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 46 server 1 vote for server 2
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
term 46 server 2 get outdate rpc reply from server 1
flag 21951 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 46522 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 285->284
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 285->284
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 268  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 44
------------------------------------------------------
flag 3600 term 46 leader 2 nextIndex[1]: 284  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 46 leader 2 -> server 0 sendInstallSnapshot success
rf.lastIncludedIndex 279 rf.lastIncludedTerm 44 rf.commitIndex 279 rf.lastApplied 279
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 50775 term 46 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 46 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 83263 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 67867 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 67008 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 76550 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 45247 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 13373 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 95548 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
flag 65127 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 87746 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60524 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 88849 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 29773 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 45292 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69027 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 17843 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 56005 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 43887 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42286 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 84023 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 36213 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 71170 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54084 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 7876 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 83575 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 39420 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 56900 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 4503 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50232 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 6155 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 13469 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 70522 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
flag 93683 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 12503 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6440844984825210582 (index 285) to leader 2
flag 79854 term 46 leader 2 nextIndex[0]: 285  matchIndex[0]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
flag 12634 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 44 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
flag 69508 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 61112 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
flag 22957 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 53096 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
flag 39036 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 57270 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
flag 49515 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 7751 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
flag 21632 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 32072 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
flag 33220 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 15773 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7290360556687859626 (index 286) to leader 2
flag 17128 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 88300 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285} {7290360556687859626 46 286}]
------------------------------------------------------
flag 27858 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 39629 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285} {7290360556687859626 46 286}]
------------------------------------------------------
client write log 4318526188147197834 (index 287) to leader 2
client write log 5875488913975463500 (index 288) to leader 2
client write log 8441515711582607136 (index 289) to leader 2
client write log 4961441861466072644 (index 290) to leader 2
client write log 3115518807360492008 (index 291) to leader 2
client write log 6325371116795924606 (index 292) to leader 2
client write log 4712215462742903144 (index 293) to leader 2
client write log 5505813524200090270 (index 294) to leader 2
client write log 4434003873986517900 (index 295) to leader 2
client write log 1961478315825248155 (index 296) to leader 2
client write log 4596192551260962675 (index 297) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55202 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 56646 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 44 279} {3079659264837029120 44 280} {1499853747975158862 44 281} {9089952880121223552 44 282} {1085353937934952826 44 283} {6440844984825210582 44 284} {6440844984825210582 46 285} {7290360556687859626 46 286} {4318526188147197834 46 287} {5875488913975463500 46 288} {8441515711582607136 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 93288 term 46 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 46 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297}]
------------------------------------------------------
term 46 Server1 start snapshot! index=289
term 46 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7377325298786012457 (index 298) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 0
term 48 server 2 become leader
------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get outdate rpc reply from server 1
flag 34823 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 44696 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 299->298
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 299->298
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 286  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 57652 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
flag 21603 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 49530 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 17002 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 50698 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 66535 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 17272 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37315 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 82884 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 71457 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 6555 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 1807 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 38975 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 16437 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 9122 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13300 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 36016 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 30968 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 14591 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 11768 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 63204 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 35725 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 26547 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 734 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 66755 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 73615 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 91513 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 83112 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 70647 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 73986 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 4318 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 19894 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 72260 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 2032 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 16154 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
flag 44127 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 95855 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298}]
------------------------------------------------------
client write log 7377325298786012457 (index 299) to leader 2
flag 53253 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 92949 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298} {7377325298786012457 48 299}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 46 289} {4961441861466072644 46 290} {3115518807360492008 46 291} {6325371116795924606 46 292} {4712215462742903144 46 293} {5505813524200090270 46 294} {4434003873986517900 46 295} {1961478315825248155 46 296} {4596192551260962675 46 297} {7377325298786012457 46 298} {7377325298786012457 48 299}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 48140 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 97229 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
[{snapshot 48 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 4761 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 62994 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
flag 59091 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 92208 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
[{snapshot 48 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
flag 14933 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 70728 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8374 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 6498 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
flag 2970 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 93109 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34559 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 13587 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 44572 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 40314 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 10108 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 80249 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 94091 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 99154 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 49 server 1 vote for server 0
term 49 server 0 get vote from server 1
term 49 server 0 become leader
------------------------------------------------------
flag 29285 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 21434 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 12345 term 49 leader 0 nextIndex[1]: 300  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 22647 term 49 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
client write log 1729687803811035766 (index 300) to leader 0
flag 12963 term 49 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 6195 term 49 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 79926 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 7915 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {1729687803811035766 49 300}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73501 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 36949 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 24113 term 49 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 49 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 78461 term 49 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {1729687803811035766 49 300}]
------------------------------------------------------
client write log 8393957315133377466 (index 301) to leader 0
client write log 5684641002190483690 (index 302) to leader 0
client write log 5643248509880114803 (index 303) to leader 0
client write log 2475283249220092496 (index 304) to leader 0
client write log 974829689666646714 (index 305) to leader 0
client write log 3617962376782586600 (index 306) to leader 0
client write log 7202203704607712063 (index 307) to leader 0
client write log 8518780579127436245 (index 308) to leader 0
client write log 4512146299343625040 (index 309) to leader 0
client write log 1027179711487706363 (index 310) to leader 0
client write log 4608622308244012534 (index 311) to leader 0
flag 83689 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 6672 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 68117 term 49 leader 0 nextIndex[1]: 301  matchIndex[1]: 300
term 49 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 49 leaderCommit: 300 
------------------------------------------------------
flag 46600 term 49 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 299} {1729687803811035766 49 300} {8393957315133377466 49 301} {5684641002190483690 49 302} {5643248509880114803 49 303} {2475283249220092496 49 304} {974829689666646714 49 305} {3617962376782586600 49 306} {7202203704607712063 49 307} {8518780579127436245 49 308} {4512146299343625040 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 Server0 start snapshot! index=309
term 49 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19500 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 73704 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 96435 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 Server1 start snapshot! index=309
term 49 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4523802286702429684 (index 300) to leader 2
flag 7755 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 94561 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 71279 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 300  matchIndex[2]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
term 49 server 0 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 49 rf.commitIndex 309 rf.lastApplied 309
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 67078 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 48933 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 3420 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 50714 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 76890 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 62751 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 24300 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 80882 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17829 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 47902 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 12976 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 3369 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97314 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 17228 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 39958 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 34861 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 68310 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 33097 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 79362 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 82476 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 312->311
------------------------------------------------------
flag 63552 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 311
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 2 InstallSnapshot fail
rf.commitIndex 311 args.LastIncludedIndex 309
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12821 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 57163 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 日志不够新
term 49 server 0 get outdate rpc reply from server 2
flag 83466 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 71736 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 27760 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 97961 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
flag 85127 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 88297 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93282 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 47579 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92566 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 17297 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44233 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 40392 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311}]
------------------------------------------------------
client write log 4523802286702429684 (index 312) to leader 0
flag 39924 term 49 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
flag 49706 term 49 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 49 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 49 leaderCommit: 311 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
flag 29874 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
flag 15950 term 49 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
flag 64540 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
flag 10153 term 49 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
flag 28144 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
flag 92077 term 49 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
flag 3770 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
flag 23248 term 49 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
flag 53706 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
flag 78121 term 49 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
flag 3544 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
flag 62546 term 49 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3292025297004903337 (index 313) to leader 0
flag 50893 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
flag 73583 term 49 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 312 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312} {3292025297004903337 49 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 314->313
------------------------------------------------------
flag 309 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 313
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 2 InstallSnapshot fail
rf.commitIndex 312 args.LastIncludedIndex 309
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
flag 35867 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 23207 term 49 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312} {3292025297004903337 49 313}]
------------------------------------------------------
client write log 4133826104228847818 (index 314) to leader 0
client write log 5121165192000250305 (index 315) to leader 0
client write log 4159175878771152396 (index 316) to leader 0
client write log 2938381880992487245 (index 317) to leader 0
client write log 8051443055452735429 (index 318) to leader 0
client write log 1201638722892563491 (index 319) to leader 0
client write log 696004357308308409 (index 320) to leader 0
client write log 6348553753480517971 (index 321) to leader 0
client write log 6215809637676624646 (index 322) to leader 0
client write log 6214639708254211811 (index 323) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40837 term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 1802 term 49 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 49 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 309} {1027179711487706363 49 310} {4608622308244012534 49 311} {4523802286702429684 49 312} {3292025297004903337 49 313} {4133826104228847818 49 314} {5121165192000250305 49 315} {4159175878771152396 49 316} {2938381880992487245 49 317} {8051443055452735429 49 318} {1201638722892563491 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323}]
------------------------------------------------------
term 49 Server0 start snapshot! index=319
term 49 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 19976 term 49 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 49 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323}]
------------------------------------------------------
term 49 Server2 start snapshot! index=319
term 49 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7493522856917393754 (index 324) to leader 0
term 49 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 50616 term 49 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 49 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 49 leaderCommit: 323 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
term 50 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 2 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
term 51 server 0 get outdate rpc reply from server 2
flag 37001 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 86071 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 325->324
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 313  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 89824 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 49 rf.commitIndex 319 rf.lastApplied 319
flag 77195 term 51 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 89977 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
term 51 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21211 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 85944 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
flag 24431 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 68507 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
flag 96551 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 26469 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
flag 98684 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 51698 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
flag 4931 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 97102 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7290083899487935360 (index 325) to leader 0
flag 75468 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 92829 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324} {7290083899487935360 51 325}]
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18060 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 90952 term 51 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324} {7290083899487935360 51 325}]
------------------------------------------------------
client write log 1009948247790488664 (index 326) to leader 0
client write log 9093901319079638534 (index 327) to leader 0
client write log 5776828311107105322 (index 328) to leader 0
client write log 4552363369202584741 (index 329) to leader 0
client write log 830774978412878144 (index 330) to leader 0
client write log 3345355501534288200 (index 331) to leader 0
client write log 9033012342706107210 (index 332) to leader 0
client write log 2371185756998267819 (index 333) to leader 0
client write log 5670492869389995064 (index 334) to leader 0
client write log 3731524022122715385 (index 335) to leader 0
flag 69878 term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 325 
------------------------------------------------------
flag 14068 term 51 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 49 319} {696004357308308409 49 320} {6348553753480517971 49 321} {6215809637676624646 49 322} {6214639708254211811 49 323} {7493522856917393754 49 324} {7290083899487935360 51 325} {1009948247790488664 51 326} {9093901319079638534 51 327} {5776828311107105322 51 328} {4552363369202584741 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335}]
------------------------------------------------------
term 51 Server0 start snapshot! index=329
term 51 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=335
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 70461 term 51 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 51 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335}]
------------------------------------------------------
term 51 Server2 start snapshot! index=329
term 51 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=335
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7301276361257857362 (index 336) to leader 0
term 51 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 69154 term 51 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 51 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 52 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 0 get outdate rpc reply from server 1
flag 7384 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 57317 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 337->336
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 802 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
flag 93780 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 52274 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
flag 95964 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 77638 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
flag 89909 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 46850 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
flag 1821 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 80160 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26136 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 59897 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
flag 95823 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 62042 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70048 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 45702 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
flag 73315 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 43914 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
flag 20170 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 98199 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
flag 84441 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 5027 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
flag 6065 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 87304 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74948 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 21481 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
flag 35466 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 77287 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19115 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 91200 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50496 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 4887 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13085 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 20307 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
flag 68941 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 81072 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=337
update matchIndex[2]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=335
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336}]
------------------------------------------------------
client write log 7301276361257857362 (index 337) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28423 term 53 leader 0 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
flag 11710 term 53 leader 0 nextIndex[2]: 337  matchIndex[2]: 336
term 53 leader 0 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 51 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
flag 5187 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 72672 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
flag 90111 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 17271 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38150 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 40480 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69995 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 23577 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48057 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 13075 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
flag 67628 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 24102 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 80034 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 44490 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 55865 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 40428 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 54361 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 12884 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 54 server 1 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
flag 54715 term 54 leader 2 nextIndex[0]: 338  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 3633 term 54 leader 2 nextIndex[1]: 338  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337}]
------------------------------------------------------
flag 31068 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 66326 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
client write log 3163887084036020746 (index 338) to leader 2
flag 16936 term 54 leader 2 nextIndex[0]: 338  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 68995 term 54 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 54 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337} {3163887084036020746 54 338}]
------------------------------------------------------
flag 28948 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 327 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68308 term 54 leader 2 nextIndex[0]: 338  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 10849 term 54 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 54 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 54 leaderCommit: 338 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337} {3163887084036020746 54 338}]
------------------------------------------------------
flag 51788 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 46197 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
client write log 2047779250839267634 (index 339) to leader 2
flag 32201 term 54 leader 2 nextIndex[0]: 338  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 88972 term 54 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 54 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 54 leaderCommit: 338 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 51 329} {830774978412878144 51 330} {3345355501534288200 51 331} {9033012342706107210 51 332} {2371185756998267819 51 333} {5670492869389995064 51 334} {3731524022122715385 51 335} {7301276361257857362 51 336} {7301276361257857362 53 337} {3163887084036020746 54 338} {2047779250839267634 54 339}]
------------------------------------------------------
flag 13957 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 77027 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 54 Server2 start snapshot! index=339
term 54 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 338  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 36813 term 54 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 54 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 54 339}]
------------------------------------------------------
term 54 Server1 start snapshot! index=339
term 54 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
flag 51508 term 53 leader 0 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 28673 term 53 leader 0 nextIndex[2]: 338  matchIndex[2]: 337
term 53 leader 0 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
!!!!!!connect server 0
client write log 3796809497827507882 (index 340) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 338->337
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 28971 term 54 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 54 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
term 54 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 54 rf.commitIndex 339 rf.lastApplied 339
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
flag 82580 term 54 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 54 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
flag 8990 term 54 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
flag 11863 term 54 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
flag 29730 term 54 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
flag 16817 term 54 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
flag 77469 term 54 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70483 term 54 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
flag 71337 term 54 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
flag 10606 term 54 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
flag 29660 term 54 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
flag 66951 term 54 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
flag 66724 term 54 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
flag 1986 term 54 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
flag 84333 term 54 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 54 339} {3796809497827507882 54 340}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 489925189990514346 (index 341) to leader 2
flag 28076 term 54 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
flag 97669 term 54 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 340 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {3796809497827507882 54 340} {489925189990514346 54 341}]
------------------------------------------------------
flag 41274 term 54 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 341 
------------------------------------------------------
flag 85648 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 54 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {3796809497827507882 54 340} {489925189990514346 54 341}]
------------------------------------------------------
client write log 4100514590444905270 (index 342) to leader 2
client write log 7713200578986053126 (index 343) to leader 2
client write log 372815860762137143 (index 344) to leader 2
client write log 6874170483098745809 (index 345) to leader 2
client write log 7559424224091667877 (index 346) to leader 2
client write log 9026622042034397710 (index 347) to leader 2
client write log 7469555819054038358 (index 348) to leader 2
client write log 3300100762488993636 (index 349) to leader 2
client write log 8377699740308857986 (index 350) to leader 2
client write log 5286547901241518678 (index 351) to leader 2
client write log 1090107541929633954 (index 352) to leader 2
client write log 5695267911198698017 (index 353) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53530 term 54 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 54 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 341 
------------------------------------------------------
flag 18154 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 54 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 54 339} {3796809497827507882 54 340} {489925189990514346 54 341} {4100514590444905270 54 342} {7713200578986053126 54 343} {372815860762137143 54 344} {6874170483098745809 54 345} {7559424224091667877 54 346} {9026622042034397710 54 347} {7469555819054038358 54 348} {3300100762488993636 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353}]
------------------------------------------------------
term 54 Server2 start snapshot! index=349
term 54 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=353
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 341->340
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 0  matchIndex[0]: 340
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 54
------------------------------------------------------
flag 44912 term 54 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 54 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353}]
------------------------------------------------------
term 54 Server1 start snapshot! index=349
term 54 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=353
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4418890158172375752 (index 354) to leader 2
term 54 server 2 not vote for server 0, 日志不够新
term 54 server 1 not vote for server 0, 日志不够新
term 56 server 1 vote for server 2
term 56 server 0 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
term 56 server 2 get outdate rpc reply from server 0
flag 65255 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 8594 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 355->354
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 355->354
------------------------------------------------------
term 56 leader 2 nextIndex[0]: 341  matchIndex[0]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 54
------------------------------------------------------
flag 49833 term 56 leader 2 nextIndex[1]: 354  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 54 rf.commitIndex 349 rf.lastApplied 349
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
flag 24616 term 56 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 83655 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 24216 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 71519 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 55167 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 63996 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20722 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 40079 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45011 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 27410 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 87119 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 12849 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 64676 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 86001 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35761 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 73794 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 65182 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 36270 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 1335 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 37562 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 85781 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 43163 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25689 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 73279 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 9631 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 6770 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 55929 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 64311 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19921 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 64026 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35694 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 66967 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
flag 78637 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 36310 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1752 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 28731 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354}]
------------------------------------------------------
client write log 4418890158172375752 (index 355) to leader 2
flag 14010 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 55170 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
term 56 server 2 not vote for server 1, 任期不够新
term 56 server 1 get outdate rpc reply from server 2
flag 54614 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 12563 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
flag 68058 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 84829 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
flag 86377 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 7226 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80040 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 47866 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
flag 60604 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 1488 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
flag 23528 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 19462 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {8377699740308857986 54 350} {5286547901241518678 54 351} {1090107541929633954 54 352} {5695267911198698017 54 353} {4418890158172375752 54 354} {4418890158172375752 56 355}]
------------------------------------------------------
term 56 server 0 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 0
  ... Passed --  78.0  3 1798  762068  355
--- PASS: TestSnapshotInstall2D (77.99s)
PASS
