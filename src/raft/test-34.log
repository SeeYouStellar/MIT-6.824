=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 25860 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 95794 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1664977090975481799 (index 1) to leader 2
flag 55010 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 87843 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
flag 92428 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 35407 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
flag 17535 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 56018 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
flag 7180 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95229 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
flag 48955 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 38859 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
flag 31374 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 70316 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1664977090975481799 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3977130786024755362 (index 2) to leader 2
flag 31921 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30475 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1664977090975481799 1 1} {3977130786024755362 1 2}]
------------------------------------------------------
flag 83468 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 17560 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1664977090975481799 1 1} {3977130786024755362 1 2}]
------------------------------------------------------
client write log 3451062513772384261 (index 3) to leader 2
client write log 3359756775136042838 (index 4) to leader 2
client write log 1236276157459904923 (index 5) to leader 2
client write log 8483412497055616340 (index 6) to leader 2
client write log 1800308750412679894 (index 7) to leader 2
client write log 8266916467536775822 (index 8) to leader 2
client write log 6945363974510811523 (index 9) to leader 2
flag 46881 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 11031 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {1664977090975481799 1 1} {3977130786024755362 1 2} {3451062513772384261 1 3} {3359756775136042838 1 4} {1236276157459904923 1 5} {8483412497055616340 1 6} {1800308750412679894 1 7} {8266916467536775822 1 8} {6945363974510811523 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 97565 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3856291378873584413 (index 10) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 47249 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 21506 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 87551 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 21531 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 35455 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 49418 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 34644 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 47845 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85499 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 45311 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 70774 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 60072 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 72819 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 78787 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 66262 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 49922 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 2484 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 29075 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 89693 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 72405 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 2325 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 21975 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 26198 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 7228 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 11600 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 62086 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 95554 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 12495 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 47822 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 685 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 71279 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 18269 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 89421 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 51903 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 60991 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 58198 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
flag 70660 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 67352 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {3856291378873584413 1 10}]
------------------------------------------------------
client write log 3856291378873584413 (index 11) to leader 2
flag 53013 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 52215 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
flag 71190 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 65826 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
term 3 server 1 not vote for server 0, 任期不够新
term 3 server 0 get outdate rpc reply from server 1
flag 22890 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 65727 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
flag 94583 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 61171 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
flag 31554 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 99561 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
flag 19386 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 15338 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 56304 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 10425 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 47675 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 54789 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 93038 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 62716 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 3288 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 23346 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 13227 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 61878 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11}]
------------------------------------------------------
client write log 6707590486661444716 (index 12) to leader 1
flag 65978 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 8158 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 72572 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 87962 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12}]
------------------------------------------------------
flag 16240 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 80577 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 72416 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 38155 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12}]
------------------------------------------------------
client write log 4207166233447520127 (index 13) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 3144 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 18342 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 66073 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 30771 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 35163 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 46535 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7034068132259196036 (index 14) to leader 1
flag 45907 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88221 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 42102 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90880 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 62625 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
flag 72391 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 18457 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23926 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 79732 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
flag 26881 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 67953 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
flag 78734 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 95999 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1290507185247337611 (index 15) to leader 1
flag 11252 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 14851 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14} {1290507185247337611 4 15}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54162 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 76742 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14} {1290507185247337611 4 15}]
------------------------------------------------------
client write log 1627244533315062719 (index 16) to leader 1
client write log 1424364509958536378 (index 17) to leader 1
client write log 8368536057721091943 (index 18) to leader 1
client write log 8843238336304073033 (index 19) to leader 1
client write log 6181093322611510305 (index 20) to leader 1
client write log 4360361061605420079 (index 21) to leader 1
client write log 6408256851814285714 (index 22) to leader 1
client write log 3335972195300220030 (index 23) to leader 1
client write log 1339475096672362131 (index 24) to leader 1
flag 49712 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 39740 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {3856291378873584413 1 10} {3856291378873584413 3 11} {6707590486661444716 4 12} {4207166233447520127 4 13} {7034068132259196036 4 14} {1290507185247337611 4 15} {1627244533315062719 4 16} {1424364509958536378 4 17} {8368536057721091943 4 18} {8843238336304073033 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
flag 61970 term 4 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6953700642717037426 (index 25) to leader 1
flag 70957 term 4 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 1312 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 94199 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 26->25
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
flag 6265 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 15  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91073 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 35892 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24834 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 77267 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
flag 32003 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 84839 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
flag 92027 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 41321 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9689 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 83457 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
flag 30546 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 27669 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
flag 30926 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 60864 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 47080 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 79512 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84547 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 37955 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
flag 17306 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 15090 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64200 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 96009 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
flag 99135 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 2952 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45735 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 56027 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71756 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 52285 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
flag 83884 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 98013 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25026 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 57564 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6953700642717037426 (index 26) to leader 1
flag 64749 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 81763 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
flag 32939 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 93695 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4720 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 73287 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
flag 30273 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 85063 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
flag 67879 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 64425 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
flag 25734 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 51007 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1283559386945653551 (index 27) to leader 1
flag 92664 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 73720 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26} {1283559386945653551 6 27}]
------------------------------------------------------
flag 27796 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 76353 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26} {1283559386945653551 6 27}]
------------------------------------------------------
client write log 4971461348306110186 (index 28) to leader 1
client write log 5780018631813820251 (index 29) to leader 1
client write log 4554271287940120895 (index 30) to leader 1
client write log 7947838318792848829 (index 31) to leader 1
client write log 4280790370009735930 (index 32) to leader 1
client write log 2977815462026709969 (index 33) to leader 1
client write log 5586821648985953202 (index 34) to leader 1
client write log 513891787261666079 (index 35) to leader 1
client write log 1273091784440730096 (index 36) to leader 1
client write log 3278069097817731706 (index 37) to leader 1
client write log 7249106434371015613 (index 38) to leader 1
flag 51087 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 81036 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {6181093322611510305 4 20} {4360361061605420079 4 21} {6408256851814285714 4 22} {3335972195300220030 4 23} {1339475096672362131 4 24} {6953700642717037426 4 25} {6953700642717037426 6 26} {1283559386945653551 6 27} {4971461348306110186 6 28} {5780018631813820251 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
flag 93941 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5269394861989704382 (index 39) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 14693 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 36356 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
flag 45659 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 27  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76007 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 38821 term 8 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 8 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 53559 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 76198 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 12574 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 72111 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 54034 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 21798 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 67306 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 99189 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 98715 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 65625 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 44157 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 75839 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 91016 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 24305 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 51673 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 86310 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 9763 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 15201 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63193 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 38215 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 68384 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 28962 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13492 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 76461 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1268 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 65449 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14624 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 2403 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92408 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 26325 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 67519 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 53208 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
flag 14162 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 76529 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39}]
------------------------------------------------------
client write log 5269394861989704382 (index 40) to leader 1
flag 84921 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 46306 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {4554271287940120895 6 30} {7947838318792848829 6 31} {4280790370009735930 6 32} {2977815462026709969 6 33} {5586821648985953202 6 34} {513891787261666079 6 35} {1273091784440730096 6 36} {3278069097817731706 6 37} {7249106434371015613 6 38} {5269394861989704382 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 97175 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 30634 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 47362 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 30959 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14390 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 43607 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 9223 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 45020 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33547 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 87551 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 34284 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 46765 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 40868 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 78927 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2011 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 66098 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 71728 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 59338 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 50211 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 10323 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {5269394861989704382 8 40}]
------------------------------------------------------
client write log 567109897151827920 (index 41) to leader 0
flag 82252 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 90304 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 93152 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 23274 term 9 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46651 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 98240 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 94327 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 37686 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41}]
------------------------------------------------------
client write log 4646060280401372070 (index 42) to leader 0
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 41->40
------------------------------------------------------
flag 65978 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 40
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 32986 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 15240 term 9 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 9 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
flag 63102 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 40
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 41->40
------------------------------------------------------
flag 25630 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 79654 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2341479000308416911 (index 41) to leader 1
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 40
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 40
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30604 term 9 leader 0 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 74758 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 86910 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 5989 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 10995 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 13936 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9535 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 20307 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 53420 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 46354 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 43167 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 10885 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19211 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 204 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 7916 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 38359 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 31760 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 89915 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 92115 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 59465 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 1
flag 4760 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 46968 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 24414 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 5291 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 4803 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 79684 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56637 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 87126 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 85111 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 38505 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12407 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 73247 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 15758 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 77795 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52693 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 26247 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45400 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 65875 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
flag 44799 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 30180 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42}]
------------------------------------------------------
client write log 2341479000308416911 (index 43) to leader 0
flag 35997 term 9 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 88707 term 9 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
flag 47696 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 75300 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 44->43
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 43
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 49050 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 43 args.LastIncludedIndex 39
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 40->39
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 39
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 63321 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 43 args.LastIncludedIndex 39
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
flag 61962 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 73188 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
flag 43279 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 15503 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
flag 53022 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 97031 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2408642501348488047 (index 44) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15711 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 52764 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43} {2408642501348488047 9 44}]
------------------------------------------------------
flag 99309 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 33721 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43} {2408642501348488047 9 44}]
------------------------------------------------------
client write log 6210587135878974932 (index 45) to leader 0
client write log 7951458724962143580 (index 46) to leader 0
client write log 5982738931057258975 (index 47) to leader 0
client write log 3203316486397527122 (index 48) to leader 0
client write log 7795787809831983906 (index 49) to leader 0
client write log 4670481662276546981 (index 50) to leader 0
client write log 8383321266816134867 (index 51) to leader 0
client write log 952618890608977464 (index 52) to leader 0
client write log 5416277914087220208 (index 53) to leader 0
flag 80232 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 29027 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 39} {5269394861989704382 8 40} {567109897151827920 9 41} {4646060280401372070 9 42} {2341479000308416911 9 43} {2408642501348488047 9 44} {6210587135878974932 9 45} {7951458724962143580 9 46} {5982738931057258975 9 47} {3203316486397527122 9 48} {7795787809831983906 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 15156 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=53
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3547529250305569811 (index 54) to leader 0
term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 16465 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
flag 78648 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 58926 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 55->54
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 57446 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
flag 600 term 11 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 11 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 57009 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 3655 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 74325 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 67099 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 56971 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21302 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 82801 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71500 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 42040 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45958 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 38953 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 33014 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 10637 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 53637 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 6459 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 75074 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 6250 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84742 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 51216 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70688 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 46705 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 85763 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 25578 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 26001 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 88482 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 83305 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 2654 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 6899 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 8482 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
flag 95710 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 19155 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38598 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 51652 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54}]
------------------------------------------------------
client write log 3547529250305569811 (index 55) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21446 term 11 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 25901 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
flag 56519 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 13007 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
flag 91214 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 9904 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
flag 88887 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 48399 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
flag 32629 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 53850 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1986 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 83716 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41515 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 94336 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5484307525222193340 (index 56) to leader 0
flag 18285 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 26997 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55} {5484307525222193340 11 56}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87764 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 27436 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55} {5484307525222193340 11 56}]
------------------------------------------------------
client write log 214331473480447542 (index 57) to leader 0
client write log 7777884701565649512 (index 58) to leader 0
client write log 9183460946894555260 (index 59) to leader 0
client write log 8018714738927661928 (index 60) to leader 0
client write log 8504927871734142622 (index 61) to leader 0
client write log 7632486213682821194 (index 62) to leader 0
client write log 8951816147807525677 (index 63) to leader 0
client write log 1644150027010969626 (index 64) to leader 0
client write log 2365761315535917251 (index 65) to leader 0
client write log 3979502160488310457 (index 66) to leader 0
client write log 7497761269880032267 (index 67) to leader 0
client write log 3854282081198849120 (index 68) to leader 0
client write log 5521624480758861838 (index 69) to leader 0
client write log 5512507849625941001 (index 70) to leader 0
flag 49022 term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 74707 term 11 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 11 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 49} {4670481662276546981 9 50} {8383321266816134867 9 51} {952618890608977464 9 52} {5416277914087220208 9 53} {3547529250305569811 9 54} {3547529250305569811 11 55} {5484307525222193340 11 56} {214331473480447542 11 57} {7777884701565649512 11 58} {9183460946894555260 11 59} {8018714738927661928 11 60} {8504927871734142622 11 61} {7632486213682821194 11 62} {8951816147807525677 11 63} {1644150027010969626 11 64} {2365761315535917251 11 65} {3979502160488310457 11 66} {7497761269880032267 11 67} {3854282081198849120 11 68} {5521624480758861838 11 69} {5512507849625941001 11 70}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=70
-------------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 56->55
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 0  matchIndex[1]: 55
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 46279 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=70
-------------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7007183779272998548 (index 71) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 1 vote for server 0
term 13 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19585 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 64923 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 72->71
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 72->71
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 99139 term 13 leader 0 nextIndex[2]: 71  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
flag 59623 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 27736 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 21409 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 39580 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 98086 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 43791 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 58952 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 98592 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 56055 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 31972 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 48969 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 40864 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 10554 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 3761 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 15312 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 74200 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 32536 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 96364 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 49880 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 20870 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 82309 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 19130 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 57122 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 30532 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78278 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 82936 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 79228 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 8342 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
update nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 15504 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 73526 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 32433 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 12956 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
flag 74417 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 31079 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81812 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 6013 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71}]
------------------------------------------------------
client write log 7007183779272998548 (index 72) to leader 0
flag 42154 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 39501 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
flag 39303 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 48186 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
flag 24049 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 45568 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
flag 31387 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 67789 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 53258 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 11397 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
flag 30810 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 89627 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 81073 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 71220 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 57784 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 72142 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 51312 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 71580 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
flag 53303 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 10714 term 14 leader 1 nextIndex[2]: 73  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72}]
------------------------------------------------------
client write log 3447120208764767545 (index 73) to leader 1
flag 12850 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 71722 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 46875 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 25476 term 14 leader 1 nextIndex[2]: 73  matchIndex[2]: 72
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72} {3447120208764767545 14 73}]
------------------------------------------------------
flag 58520 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 38656 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 37014 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 21740 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72} {3447120208764767545 14 73}]
------------------------------------------------------
client write log 8217021977380129398 (index 74) to leader 1
client write log 139902861662933755 (index 75) to leader 1
client write log 8181354062054381646 (index 76) to leader 1
client write log 4455240197876070866 (index 77) to leader 1
client write log 2191735935098941612 (index 78) to leader 1
client write log 5698666035106998968 (index 79) to leader 1
client write log 4273342073283065430 (index 80) to leader 1
flag 56857 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 97568 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 24596 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 19270 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 69} {5512507849625941001 11 70} {7007183779272998548 11 71} {7007183779272998548 13 72} {3447120208764767545 14 73} {8217021977380129398 14 74} {139902861662933755 14 75} {8181354062054381646 14 76} {4455240197876070866 14 77} {2191735935098941612 14 78} {5698666035106998968 14 79} {4273342073283065430 14 80}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
flag 43114 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 64450 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 2 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 34373 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {4273342073283065430 14 80}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3219880395078003923 (index 81) to leader 1
flag 47834 term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 97207 term 13 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 13 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 59015 term 14 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 14 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 8810 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 48383 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
flag 67624 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 83473 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
flag 13898 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 1623 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 82->81
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 81
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 55617 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 81 args.LastIncludedIndex 79
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 40390 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 1304 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
flag 16237 term 14 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 91627 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8326129924243509672 (index 82) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 82->81
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 81
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 75496 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 81 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 78881 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
flag 29819 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81} {8326129924243509672 14 82}]
------------------------------------------------------
flag 50953 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 67551 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81} {8326129924243509672 14 82}]
------------------------------------------------------
client write log 3923121479166598770 (index 83) to leader 1
client write log 6120559468094775335 (index 84) to leader 1
client write log 4324297567605475631 (index 85) to leader 1
client write log 2961047469522794155 (index 86) to leader 1
client write log 7989815828433725477 (index 87) to leader 1
client write log 4017409387090491867 (index 88) to leader 1
client write log 40429146828854807 (index 89) to leader 1
client write log 5616340632183705194 (index 90) to leader 1
client write log 7010597053231864204 (index 91) to leader 1
client write log 6994291885841641697 (index 92) to leader 1
client write log 6104780613025710130 (index 93) to leader 1
client write log 7400699085925559663 (index 94) to leader 1
client write log 8472583249054639292 (index 95) to leader 1
client write log 5543756077028429908 (index 96) to leader 1
flag 18333 term 14 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 5062 term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 14 79} {4273342073283065430 14 80} {3219880395078003923 14 81} {8326129924243509672 14 82} {3923121479166598770 14 83} {6120559468094775335 14 84} {4324297567605475631 14 85} {2961047469522794155 14 86} {7989815828433725477 14 87} {4017409387090491867 14 88} {40429146828854807 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
flag 48377 term 14 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 14 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2288616961609436506 (index 97) to leader 1
flag 39746 term 14 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 14 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 1251 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 61733 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 98->97
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
flag 43289 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11919 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 35507 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
flag 24611 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 90342 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
flag 19643 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 93615 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19896 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 7420 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26672 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 59272 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
update nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 78778 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 14298 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
flag 96648 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 34357 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
flag 91317 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 65285 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21880 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 58266 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
flag 33882 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 64378 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
flag 58033 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 954 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21498 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 89792 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49656 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 26043 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55876 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 8096 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
flag 84317 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 94975 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
flag 99815 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 35192 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85270 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 24616 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97}]
------------------------------------------------------
client write log 2288616961609436506 (index 98) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89681 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 35033 term 16 leader 1 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
flag 60522 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 41570 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
flag 70209 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 61929 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98585 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 42819 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26539 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 27668 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
flag 29893 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 74374 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
flag 95252 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 77669 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 241380916709818957 (index 99) to leader 1
flag 46061 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 31534 term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {5616340632183705194 14 90} {7010597053231864204 14 91} {6994291885841641697 14 92} {6104780613025710130 14 93} {7400699085925559663 14 94} {8472583249054639292 14 95} {5543756077028429908 14 96} {2288616961609436506 14 97} {2288616961609436506 16 98} {241380916709818957 16 99}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 32950 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
client write log 5977353828735229100 (index 100) to leader 1
client write log 6397672777156122154 (index 101) to leader 1
client write log 943164886441081096 (index 102) to leader 1
client write log 8437244987158504937 (index 103) to leader 1
client write log 5951347391846887113 (index 104) to leader 1
client write log 8071250389081538480 (index 105) to leader 1
flag 75064 term 16 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105}]
------------------------------------------------------
flag 24360 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6561487779569612846 (index 106) to leader 1
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 70726 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 23502 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 107->106
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 107->106
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8168 term 18 leader 1 nextIndex[0]: 106  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
flag 74718 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 19069 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
flag 94919 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 50668 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
update nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
flag 77109 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 40641 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44910 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 12752 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89817 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 48437 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2390 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 93047 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88510 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 58129 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
flag 14322 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 37424 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91352 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 42261 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
flag 68836 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 35830 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10447 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 10075 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66168 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 11868 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
flag 52339 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 17745 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
flag 75883 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 97599 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
flag 62550 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 24950 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33824 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 91120 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
flag 78739 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 85709 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11323 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 71958 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106}]
------------------------------------------------------
client write log 6561487779569612846 (index 107) to leader 1
flag 93058 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 12472 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
flag 48932 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 30065 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
flag 12767 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 77096 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
flag 82100 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 55352 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57410 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 46535 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
flag 40173 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 99585 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
flag 29940 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 76437 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 38752 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 24998 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 99378 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 93654 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 96913 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 40519 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
flag 17654 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 8685 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107}]
------------------------------------------------------
client write log 2726932725847598540 (index 108) to leader 0
flag 6186 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 63455 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 98725 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 33430 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107} {2726932725847598540 19 108}]
------------------------------------------------------
flag 53839 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 45116 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 26051 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 72889 term 19 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107} {2726932725847598540 19 108}]
------------------------------------------------------
client write log 1122458516926075418 (index 109) to leader 0
flag 26680 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 79778 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 72459 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 11138 term 19 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {5977353828735229100 16 100} {6397672777156122154 16 101} {943164886441081096 16 102} {8437244987158504937 16 103} {5951347391846887113 16 104} {8071250389081538480 16 105} {6561487779569612846 16 106} {6561487779569612846 18 107} {2726932725847598540 19 108} {1122458516926075418 19 109}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 35758 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 41452 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 39221 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 40010 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 84206 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
!!!!!!connect server 1
client write log 4583904729765734509 (index 108) to leader 1
term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 397 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
flag 50239 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 20754 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 110->109
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 109
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 92946 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 109 args.LastIncludedIndex 109
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 71706 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 94467 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44249 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 50702 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10163 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 64896 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 60528 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 97168 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93795 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 86899 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 22443 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 72416 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7302 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 36664 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 62189 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 48856 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 52052 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 90879 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 37968 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 65452 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 65753 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 45363 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 91939 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 28330 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 18319 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 23570 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65778 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 21463 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 55585 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 77835 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 68134 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 11264 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 96463 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 30512 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 110->109
------------------------------------------------------
client write log 4583904729765734509 (index 110) to leader 0
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 109
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 82114 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 109 args.LastIncludedIndex 109
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5864 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 43267 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98790 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 39235 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61197 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 50368 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1102 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 28509 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
flag 68024 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 4779 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87317 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 50409 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
flag 11925 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 89684 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {4583904729765734509 19 110}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5949939789848314239 (index 111) to leader 0
flag 20466 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 91283 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {4583904729765734509 19 110} {5949939789848314239 19 111}]
------------------------------------------------------
flag 66252 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 14331 term 19 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {4583904729765734509 19 110} {5949939789848314239 19 111}]
------------------------------------------------------
client write log 6934999483788915711 (index 112) to leader 0
client write log 7333391233437386859 (index 113) to leader 0
client write log 5369651524575752707 (index 114) to leader 0
client write log 6394183540842786854 (index 115) to leader 0
client write log 243252785790307827 (index 116) to leader 0
client write log 3148497144234920346 (index 117) to leader 0
client write log 3118966095219657479 (index 118) to leader 0
client write log 6136474037489070255 (index 119) to leader 0
client write log 2413778833782664741 (index 120) to leader 0
client write log 2171933450335941150 (index 121) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34973 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 80994 term 19 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 109} {4583904729765734509 19 110} {5949939789848314239 19 111} {6934999483788915711 19 112} {7333391233437386859 19 113} {5369651524575752707 19 114} {6394183540842786854 19 115} {243252785790307827 19 116} {3148497144234920346 19 117} {3118966095219657479 19 118} {6136474037489070255 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=121
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 69548 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=121
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8836484220942256837 (index 122) to leader 0
term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 54904 term 19 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 1
term 21 server 0 become leader
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 2
flag 70293 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 71175 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 123->122
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 16890 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
flag 5669 term 21 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 62424 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16877 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 30713 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 16285 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 59519 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 93937 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 9091 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 87083 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 18869 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 1 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 1
flag 9549 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 75337 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 6540 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 69383 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 10246 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 70256 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 68567 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 81377 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 35806 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 41910 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 7521 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 92815 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 8135 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 45485 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 32975 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 65650 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 0
flag 26894 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 68596 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 43496 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 35242 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72963 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 44634 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
flag 76347 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 52282 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122}]
------------------------------------------------------
client write log 8836484220942256837 (index 123) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71141 term 21 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
flag 94165 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
flag 7607 term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 36925 term 21 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
flag 70636 term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 57543 term 21 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71680 term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 3428 term 21 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
flag 51047 term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 17765 term 21 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34861 term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 21273 term 21 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6625745776510806384 (index 124) to leader 0
flag 84161 term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
flag 78946 term 21 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 123 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123} {6625745776510806384 21 124}]
------------------------------------------------------
flag 40542 term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 89768 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123} {6625745776510806384 21 124}]
------------------------------------------------------
client write log 9120861214463775409 (index 125) to leader 0
client write log 1274903150640425813 (index 126) to leader 0
client write log 7911968556181493233 (index 127) to leader 0
client write log 6791610984102735022 (index 128) to leader 0
client write log 8027739858825211203 (index 129) to leader 0
client write log 8806518524109848346 (index 130) to leader 0
client write log 8961760284562458558 (index 131) to leader 0
client write log 114100360362600757 (index 132) to leader 0
client write log 3243210887996748815 (index 133) to leader 0
client write log 7646914364583253226 (index 134) to leader 0
client write log 331538098668744361 (index 135) to leader 0
client write log 7134581507367250167 (index 136) to leader 0
client write log 2165240996384800194 (index 137) to leader 0
client write log 5657021235943569119 (index 138) to leader 0
client write log 2194473865366359778 (index 139) to leader 0
flag 18549 term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 35160 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 19 119} {2413778833782664741 19 120} {2171933450335941150 19 121} {8836484220942256837 19 122} {8836484220942256837 21 123} {6625745776510806384 21 124} {9120861214463775409 21 125} {1274903150640425813 21 126} {7911968556181493233 21 127} {6791610984102735022 21 128} {8027739858825211203 21 129} {8806518524109848346 21 130} {8961760284562458558 21 131} {114100360362600757 21 132} {3243210887996748815 21 133} {7646914364583253226 21 134} {331538098668744361 21 135} {7134581507367250167 21 136} {2165240996384800194 21 137} {5657021235943569119 21 138} {2194473865366359778 21 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=139
-------------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 5667 term 21 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 139}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=139
-------------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6914323401523540860 (index 140) to leader 0
term 21 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 59225 term 21 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 40381 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 29734 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 141->140
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 11481 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 20640 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 73392 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 62242 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 61898 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 53955 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 42998 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4310 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 79779 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
flag 17440 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 30244 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 90460 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 716 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 93016 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 81221 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 73963 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 59068 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 85649 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 52783 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 34963 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 3955 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97098 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 54220 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62427 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 55821 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 46902 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 59473 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 90014 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 69530 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 30345 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 11243 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 56500 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 94345 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
flag 43761 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 56863 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 21 139} {6914323401523540860 21 140}]
------------------------------------------------------
client write log 6914323401523540860 (index 141) to leader 0
flag 13275 term 23 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
flag 42230 term 23 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 23 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 139 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
flag 6245 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 73802 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
flag 94627 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 72760 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
flag 27891 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 5902 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
flag 88337 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 41579 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 305 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 55013 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
flag 49206 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 5709 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 65612 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 50431 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 81020 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 55545 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 94284 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 27904 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 83389 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 84950 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
client write log 7849845331230453465 (index 142) to leader 2
flag 5075 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 31961 term 24 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142}]
------------------------------------------------------
flag 43152 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 4207 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 768 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 28107 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142}]
------------------------------------------------------
client write log 2999253474447849240 (index 143) to leader 2
flag 58605 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 89331 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 12748 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 88447 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 142->141
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 141
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 45399 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
flag 13650 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 28608 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7207699673695051933 (index 144) to leader 2
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 141
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 81704 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86608 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 39519 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
flag 62844 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 20951 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
flag 75728 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 34748 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 145->144
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 0  matchIndex[0]: 144
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 55748 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
term 24 server 0 InstallSnapshot fail
rf.commitIndex 144 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16728 term 24 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 60653 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
flag 9287 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 97677 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
flag 90031 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 76160 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 13992817437430724 (index 145) to leader 2
flag 73354 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 67329 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144} {13992817437430724 24 145}]
------------------------------------------------------
flag 53785 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 37621 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144} {13992817437430724 24 145}]
------------------------------------------------------
client write log 9029074331185713769 (index 146) to leader 2
client write log 6936311127529438082 (index 147) to leader 2
client write log 7613074496877292705 (index 148) to leader 2
client write log 5385935389874715881 (index 149) to leader 2
client write log 5236359361055559392 (index 150) to leader 2
client write log 4980188697804611113 (index 151) to leader 2
client write log 1125587613796646045 (index 152) to leader 2
client write log 7105613744347217060 (index 153) to leader 2
client write log 3066913496782148425 (index 154) to leader 2
client write log 6616183076961801763 (index 155) to leader 2
client write log 7025767347778969897 (index 156) to leader 2
client write log 3522673766643228107 (index 157) to leader 2
client write log 2167961584088252288 (index 158) to leader 2
flag 19067 term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 61121 term 24 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 139} {6914323401523540860 21 140} {6914323401523540860 23 141} {7849845331230453465 24 142} {2999253474447849240 24 143} {7207699673695051933 24 144} {13992817437430724 24 145} {9029074331185713769 24 146} {6936311127529438082 24 147} {7613074496877292705 24 148} {5385935389874715881 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 12251 term 24 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 24 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7775388308116873854 (index 159) to leader 2
term 24 server 2 not vote for server 0, 日志不够新
term 24 server 1 not vote for server 0, 日志不够新
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 0 vote for server 2
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
flag 94947 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 90846 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 160->159
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 145  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 79828 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
flag 27919 term 26 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 33745 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41938 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 14226 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 84883 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 69661 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 6678 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 96808 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44015 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 68919 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 74867 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 6233 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 60602 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 79145 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 47244 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 32051 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99949 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 96773 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 49220 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 44572 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57158 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 2687 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95664 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 74387 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 54638 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 17668 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 86581 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 96231 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 23614 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 59089 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
flag 73328 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 29593 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 0
flag 76089 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 68062 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159}]
------------------------------------------------------
client write log 7775388308116873854 (index 160) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82021 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 62556 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 149} {5236359361055559392 24 150} {4980188697804611113 24 151} {1125587613796646045 24 152} {7105613744347217060 24 153} {3066913496782148425 24 154} {6616183076961801763 24 155} {7025767347778969897 24 156} {3522673766643228107 24 157} {2167961584088252288 24 158} {7775388308116873854 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
flag 8800 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 86449 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
term 26 Server1 start snapshot! index=159
term 26 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
flag 88463 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 94162 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
flag 18310 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 73364 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
flag 62397 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 25939 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
flag 45013 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 58681 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
flag 70359 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 1635 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {7775388308116873854 26 160}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8979625924110339566 (index 161) to leader 2
flag 46989 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 84009 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7775388308116873854 26 160} {8979625924110339566 26 161}]
------------------------------------------------------
flag 38824 term 26 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
flag 98918 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 24 159} {7775388308116873854 26 160} {8979625924110339566 26 161}]
------------------------------------------------------
client write log 2588364399147260024 (index 162) to leader 2
client write log 6239107834800299507 (index 163) to leader 2
client write log 5531423741195756244 (index 164) to leader 2
client write log 5346646532629374544 (index 165) to leader 2
client write log 1103981787958216568 (index 166) to leader 2
client write log 5374311944229960687 (index 167) to leader 2
client write log 6306479436141691164 (index 168) to leader 2
client write log 941145472489166656 (index 169) to leader 2
client write log 6854826467924493301 (index 170) to leader 2
client write log 2007612645478309227 (index 171) to leader 2
client write log 92544318470295412 (index 172) to leader 2
client write log 8661984626035731820 (index 173) to leader 2
client write log 1113827332525899818 (index 174) to leader 2
client write log 8473266212689890389 (index 175) to leader 2
client write log 1919826026400303790 (index 176) to leader 2
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 161->160
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 160
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 21467 term 26 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 26 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 26 leaderCommit: 161 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 24 159} {7775388308116873854 26 160} {8979625924110339566 26 161} {2588364399147260024 26 162} {6239107834800299507 26 163} {5531423741195756244 26 164} {5346646532629374544 26 165} {1103981787958216568 26 166} {5374311944229960687 26 167} {6306479436141691164 26 168} {941145472489166656 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=176
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 160
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 1930 term 26 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 26 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=176
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3368281061202914607 (index 177) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 160
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 90081 term 26 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 26 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 26 leaderCommit: 176 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 32458 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 1734 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 178->177
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 36818 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
flag 60377 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 31311 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
flag 49565 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 92832 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
flag 13650 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 20942 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29020 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 32100 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
flag 87158 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 61225 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
flag 76591 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 35096 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1539 term 28 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 62474 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 178->177
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 81247 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 23031 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 8099 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 0
term 29 server 1 become leader
------------------------------------------------------
flag 95243 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 81799 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177}]
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 65341 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
client write log 6277702951933827054 (index 178) to leader 1
flag 9578 term 29 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
flag 87703 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177} {6277702951933827054 29 178}]
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 84201 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40533 term 29 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 29 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
flag 51139 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177} {6277702951933827054 29 178}]
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 10015 term 28 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 28 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 177 
------------------------------------------------------
client write log 7578283216577125510 (index 179) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 178->177
------------------------------------------------------
flag 28264 term 29 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 29 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
flag 30281 term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 26 169} {6854826467924493301 26 170} {2007612645478309227 26 171} {92544318470295412 26 172} {8661984626035731820 26 173} {1113827332525899818 26 174} {8473266212689890389 26 175} {1919826026400303790 26 176} {3368281061202914607 26 177} {6277702951933827054 29 178} {7578283216577125510 29 179}]
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55802 term 29 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 179}]
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 177
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7166540691614733550 (index 180) to leader 1
flag 94530 term 29 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 179 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 178  matchIndex[2]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
flag 3785 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 80361 term 29 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99019 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 94015 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
flag 53701 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 70941 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78503 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 16773 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
flag 32825 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 63697 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21499 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 2156 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
flag 2685 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 27410 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 29 179} {7166540691614733550 29 180}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 6562322471366816493 (index 181) to leader 1
flag 52173 term 29 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
flag 49917 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 180 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {7166540691614733550 29 180} {6562322471366816493 29 181}]
------------------------------------------------------
flag 83886 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 67846 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 29 179} {7166540691614733550 29 180} {6562322471366816493 29 181}]
------------------------------------------------------
client write log 5854759600088242761 (index 182) to leader 1
client write log 1311867683961660032 (index 183) to leader 1
client write log 4397124221778610015 (index 184) to leader 1
client write log 5904115909056457527 (index 185) to leader 1
client write log 3136872904191868530 (index 186) to leader 1
client write log 1423942060582986480 (index 187) to leader 1
client write log 9202131355443875099 (index 188) to leader 1
client write log 5332718813084514535 (index 189) to leader 1
client write log 4613634980158492358 (index 190) to leader 1
client write log 8400315867014100575 (index 191) to leader 1
client write log 8772086328534905323 (index 192) to leader 1
flag 95604 term 29 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 29 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
flag 89283 term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 29 leaderCommit: 181 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 179} {7166540691614733550 29 180} {6562322471366816493 29 181} {5854759600088242761 29 182} {1311867683961660032 29 183} {4397124221778610015 29 184} {5904115909056457527 29 185} {3136872904191868530 29 186} {1423942060582986480 29 187} {9202131355443875099 29 188} {5332718813084514535 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
flag 27924 term 29 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 29 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 181  matchIndex[2]: 180
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1911821165048150497 (index 193) to leader 1
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 2 vote for server 1
term 31 server 0 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 1 get outdate rpc reply from server 0
flag 30757 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 95777 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 194->193
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 194->193
------------------------------------------------------
flag 88236 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 181  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
flag 7441 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 87497 term 31 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 31 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 48889 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 7093 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 46420 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 89264 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 76688 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 41919 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28745 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 28300 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 44167 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 19624 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 90683 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 29040 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 362 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 50496 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37077 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 65869 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 52772 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 53896 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 61113 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 31257 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
flag 70601 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 71864 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68373 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 59848 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 68387 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 13874 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 82965 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 30287 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56638 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 62933 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
flag 24992 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 29926 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1911821165048150497 (index 194) to leader 1
flag 32817 term 31 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
flag 98475 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
flag 21943 term 31 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 6410 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 34599 term 31 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 93318 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
flag 43823 term 31 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 95339 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
flag 93105 term 31 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 8300 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:194 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
flag 41501 term 31 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 31411 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 4822372042447611606 (index 195) to leader 1
flag 9051 term 31 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 97057 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194} {4822372042447611606 31 195}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37327 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 25010 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194} {4822372042447611606 31 195}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2262735589029773798 (index 196) to leader 1
client write log 5967845358315677897 (index 197) to leader 1
client write log 4332057445487540095 (index 198) to leader 1
client write log 8600912619007128413 (index 199) to leader 1
client write log 7335535536873451650 (index 200) to leader 1
client write log 2352922995079406618 (index 201) to leader 1
client write log 324256687723112408 (index 202) to leader 1
client write log 837897355041357092 (index 203) to leader 1
client write log 2521520801062068816 (index 204) to leader 1
client write log 5488943016124259763 (index 205) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49758 term 31 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 31 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 30032 term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 189} {4613634980158492358 29 190} {8400315867014100575 29 191} {8772086328534905323 29 192} {1911821165048150497 29 193} {1911821165048150497 31 194} {4822372042447611606 31 195} {2262735589029773798 31 196} {5967845358315677897 31 197} {4332057445487540095 31 198} {8600912619007128413 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205}]
------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=205
-------------------------------------------------------------
flag 28589 term 31 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 31 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=205
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1241463252819638908 (index 206) to leader 1
term 31 server 1 not vote for server 2, 日志不够新
term 31 server 0 not vote for server 2, 日志不够新
term 32 server 2 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 2
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get outdate rpc reply from server 0
flag 27796 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 14250 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 207->206
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 207->206
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10748 term 33 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 195  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
flag 62415 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 62935 term 33 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
flag 40477 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 33157 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
flag 90353 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 96417 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6323 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 87311 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94434 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 86372 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66583 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 43817 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9690 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 99129 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92693 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 3638 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
flag 80096 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 93428 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74714 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 25180 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
flag 81347 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 23656 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
flag 98343 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 79247 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
flag 64181 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 46291 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
flag 98604 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 31670 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90246 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 24501 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11302 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 26066 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
flag 33001 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 59 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206}]
------------------------------------------------------
client write log 1241463252819638908 (index 207) to leader 1
flag 39435 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 20036 term 33 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46652 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 14007 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
flag 71332 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 14612 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
flag 59404 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 42086 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
flag 67284 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 89251 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86692 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 35364 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24430 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 80491 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 63710 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 91132 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97545 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 43557 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 38165 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 69351 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
flag 23317 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 27081 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
client write log 9158227502342593281 (index 208) to leader 0
flag 81088 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 17903 term 34 leader 0 nextIndex[2]: 208  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207} {9158227502342593281 34 208}]
------------------------------------------------------
flag 71330 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 2050 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 45031 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 80369 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207} {9158227502342593281 34 208}]
------------------------------------------------------
client write log 3257711035875206069 (index 209) to leader 0
flag 16597 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 82151 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 34362 term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
flag 50415 term 34 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 34 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 34 leaderCommit: 208 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 31 199} {7335535536873451650 31 200} {2352922995079406618 31 201} {324256687723112408 31 202} {837897355041357092 31 203} {2521520801062068816 31 204} {5488943016124259763 31 205} {1241463252819638908 31 206} {1241463252819638908 33 207} {9158227502342593281 34 208} {3257711035875206069 34 209}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 1316 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 56306 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 48556 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1791931093753116424 (index 208) to leader 1
flag 17228 term 33 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
flag 13208 term 33 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 33 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 207 
------------------------------------------------------
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 33
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 81750 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 58586 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 99605 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 80746 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 43491 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 34510 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 25469 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 67636 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 18331 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73068 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 88859 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 95899 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 25079 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 4888 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 3006 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80080 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 81382 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 17739 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 61940 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 2396 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 97562 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 17227 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 81944 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1800 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 15229 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 98994 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 49373 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 53905 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 33671 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 86808 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 19675 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 57839 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 66829 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 49631 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 7356 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 41469 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 79290 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
flag 43454 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 17992 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 34 209}]
------------------------------------------------------
client write log 1791931093753116424 (index 210) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10409 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
flag 49018 term 34 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 209 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 211->210
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 210
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 88365 term 34 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 209 args.LastIncludedIndex 209
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 70956 term 34 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 34 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 45240 term 34 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
flag 54703 term 34 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 43730 term 34 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52747 term 34 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 75498 term 34 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
flag 22294 term 34 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 85806 term 34 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1634 term 34 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 7716 term 34 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {1791931093753116424 34 210}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8088815215834436880 (index 211) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71073 term 34 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
flag 47148 term 34 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {1791931093753116424 34 210} {8088815215834436880 34 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18333 term 34 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 16282 term 34 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 34 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {1791931093753116424 34 210} {8088815215834436880 34 211}]
------------------------------------------------------
client write log 958173977147490104 (index 212) to leader 0
client write log 5310079067766283012 (index 213) to leader 0
client write log 4878141920749643888 (index 214) to leader 0
client write log 3149084318086573128 (index 215) to leader 0
client write log 1681652747075234819 (index 216) to leader 0
client write log 7550075391605929074 (index 217) to leader 0
client write log 6237136470225618331 (index 218) to leader 0
client write log 6543530520355203500 (index 219) to leader 0
client write log 8148364408327061837 (index 220) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40798 term 34 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 35241 term 34 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 34 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 209} {1791931093753116424 34 210} {8088815215834436880 34 211} {958173977147490104 34 212} {5310079067766283012 34 213} {4878141920749643888 34 214} {3149084318086573128 34 215} {1681652747075234819 34 216} {7550075391605929074 34 217} {6237136470225618331 34 218} {6543530520355203500 34 219} {8148364408327061837 34 220}]
------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 45562 term 34 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 34 219} {8148364408327061837 34 220}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=220
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1339837646246175463 (index 221) to leader 0
term 34 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 96454 term 34 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 34 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 34 leaderCommit: 220 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
flag 56843 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 90937 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 222->221
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 211  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 3375 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
flag 48595 term 36 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 36 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 81643 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
flag 3908 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 94603 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
flag 22028 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 68811 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
flag 61498 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 47153 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
flag 30142 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 1000 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
flag 91114 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 66028 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
flag 70901 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 542 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3157890159568144403 (index 222) to leader 0
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48597 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
flag 66760 term 36 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 221 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221} {3157890159568144403 36 222}]
------------------------------------------------------
flag 81454 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 43967 term 36 leader 0 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221} {3157890159568144403 36 222}]
------------------------------------------------------
client write log 7871142424989867288 (index 223) to leader 0
client write log 2759211045003987375 (index 224) to leader 0
client write log 4649214397056754042 (index 225) to leader 0
client write log 3160588044010146413 (index 226) to leader 0
client write log 250604746425216892 (index 227) to leader 0
client write log 8724335082131882587 (index 228) to leader 0
client write log 8882865657552484549 (index 229) to leader 0
client write log 7658627473839037635 (index 230) to leader 0
client write log 2754068408391814834 (index 231) to leader 0
client write log 6929203796834995551 (index 232) to leader 0
client write log 7382168909617784995 (index 233) to leader 0
flag 56746 term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 34 leaderCommit: 222 
------------------------------------------------------
flag 49218 term 36 leader 0 nextIndex[2]: 223  matchIndex[2]: 222
term 36 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 36 leaderCommit: 222 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 219} {8148364408327061837 34 220} {1339837646246175463 34 221} {3157890159568144403 36 222} {7871142424989867288 36 223} {2759211045003987375 36 224} {4649214397056754042 36 225} {3160588044010146413 36 226} {250604746425216892 36 227} {8724335082131882587 36 228} {8882865657552484549 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233}]
------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 10578 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233}]
------------------------------------------------------
term 36 Server2 start snapshot! index=229
term 36 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 6351965910081606481 (index 234) to leader 0
term 36 server 2 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 222  matchIndex[1]: 221
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 93719 term 36 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 37 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 222->221
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 1 vote for server 0
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 65890 term 38 leader 0 nextIndex[1]: 235  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 17958 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 235->234
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 222  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 26470 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 36 rf.commitIndex 229 rf.lastApplied 229
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 30262 term 38 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 44111 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
flag 95051 term 38 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 36842 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
flag 91745 term 38 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 61682 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
flag 46396 term 38 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 15480 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
flag 11501 term 38 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 96489 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84412 term 38 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 7401 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78753 term 38 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 50911 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 98184 term 38 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 5697 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 19983 term 38 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 63685 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 235->234
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 234
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 71958 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 234
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 7423 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
term 39 server 2 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
flag 20043 term 39 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 67583 term 39 leader 1 nextIndex[2]: 235  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234}]
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 234
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 80167 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
client write log 2483120197063366479 (index 235) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 259 term 39 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 78810 term 39 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 39 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234} {2483120197063366479 39 235}]
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 234
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 76581 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 69608 term 39 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 84511 term 39 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 39 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234} {2483120197063366479 39 235}]
------------------------------------------------------
client write log 4058139596736755197 (index 236) to leader 1
client write log 809593278322415511 (index 237) to leader 1
client write log 1001226913071902148 (index 238) to leader 1
client write log 6524891350885813583 (index 239) to leader 1
client write log 5126489735898167954 (index 240) to leader 1
client write log 5878589695080088988 (index 241) to leader 1
client write log 2718783298743868633 (index 242) to leader 1
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 234
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 90474 term 38 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 38 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 235->234
------------------------------------------------------
flag 33245 term 39 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 79597 term 39 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 39 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 39 leaderCommit: 235 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 229} {7658627473839037635 36 230} {2754068408391814834 36 231} {6929203796834995551 36 232} {7382168909617784995 36 233} {6351965910081606481 36 234} {2483120197063366479 39 235} {4058139596736755197 39 236} {809593278322415511 39 237} {1001226913071902148 39 238} {6524891350885813583 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242}]
------------------------------------------------------
term 39 Server1 start snapshot! index=239
term 39 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=242
-------------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 234
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 234
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
flag 67772 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242}]
------------------------------------------------------
term 39 Server2 start snapshot! index=239
term 39 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=242
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2632534816441271618 (index 243) to leader 1
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 234
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 0 nextIndex[2]: 0  matchIndex[2]: 234
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 1 nextIndex[0]: 235  matchIndex[0]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
flag 74652 term 39 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 39 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 39 leaderCommit: 242 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 39 rf.commitIndex 239 rf.lastApplied 239
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 日志不够新
term 39 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
term 39 server 1 not vote for server 0, 日志不够新
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
term 41 server 2 vote for server 1
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 1 get outdate rpc reply from server 0
flag 23335 term 41 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 66065 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 244->243
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40927 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 6140 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25593 term 41 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 19079 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
flag 56466 term 41 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 9279 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22935 term 41 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 82825 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61595 term 41 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 346 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
flag 11482 term 41 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 93511 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4678194261752122958 (index 244) to leader 1
flag 79929 term 41 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
flag 24311 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 243 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243} {4678194261752122958 41 244}]
------------------------------------------------------
flag 29664 term 41 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 41 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 41 leaderCommit: 244 
------------------------------------------------------
flag 9654 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243} {4678194261752122958 41 244}]
------------------------------------------------------
client write log 7969923762995054028 (index 245) to leader 1
client write log 3721433852621350835 (index 246) to leader 1
client write log 3375049245258426962 (index 247) to leader 1
client write log 3725879784708603718 (index 248) to leader 1
client write log 473682483009344455 (index 249) to leader 1
client write log 3916327866602190923 (index 250) to leader 1
client write log 1604158501256429909 (index 251) to leader 1
client write log 3619161765565787616 (index 252) to leader 1
client write log 6050296733634475307 (index 253) to leader 1
client write log 3635248911094557885 (index 254) to leader 1
client write log 1453376315986535567 (index 255) to leader 1
client write log 443582791581662194 (index 256) to leader 1
client write log 5337339937583252860 (index 257) to leader 1
client write log 8663440086279768238 (index 258) to leader 1
flag 42610 term 41 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 41 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 41 leaderCommit: 244 
------------------------------------------------------
flag 96515 term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 39 leaderCommit: 244 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 39 239} {5126489735898167954 39 240} {5878589695080088988 39 241} {2718783298743868633 39 242} {2632534816441271618 39 243} {4678194261752122958 41 244} {7969923762995054028 41 245} {3721433852621350835 41 246} {3375049245258426962 41 247} {3725879784708603718 41 248} {473682483009344455 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258}]
------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=258
-------------------------------------------------------------
flag 70546 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 244->243
------------------------------------------------------
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=258
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5531160493019112433 (index 259) to leader 1
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90682 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 243
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 10081 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 42636 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 260->259
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 0
flag 62560 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 244  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 41 rf.commitIndex 249 rf.lastApplied 249
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 88138 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 73926 term 43 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 43 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 25565 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 41624 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 55418 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 94479 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96509 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 45904 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 86332 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 95421 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 56865 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 85404 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 96335 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 7539 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 4347 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 79497 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 66468 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 82218 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86410 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 1184 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 98281 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 2148 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71802 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 55436 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 56457 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 35022 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 38187 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 26351 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37227 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 59253 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
flag 73580 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 57936 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 45528 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 59291 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259}]
------------------------------------------------------
client write log 5531160493019112433 (index 260) to leader 1
flag 797 term 43 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 89 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 249} {3916327866602190923 41 250} {1604158501256429909 41 251} {3619161765565787616 41 252} {6050296733634475307 41 253} {3635248911094557885 41 254} {1453376315986535567 41 255} {443582791581662194 41 256} {5337339937583252860 41 257} {8663440086279768238 41 258} {5531160493019112433 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
term 43 Server1 start snapshot! index=259
term 43 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
flag 49862 term 43 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 25301 term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
term 43 Server2 start snapshot! index=259
term 43 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 43 Server0 start snapshot! index=259
term 43 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96216 term 43 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 67917 term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
flag 33704 term 43 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 9610 term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 30602 term 43 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 76996 term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
flag 12832 term 43 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 97705 term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5531160493019112433 43 260}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8165746225346990778 (index 261) to leader 1
flag 63772 term 43 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
flag 73876 term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {5531160493019112433 43 260} {8165746225346990778 43 261}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24748 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 42211 term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {5531160493019112433 43 260} {8165746225346990778 43 261}]
------------------------------------------------------
client write log 9171294570241120559 (index 262) to leader 1
client write log 5917719021482912787 (index 263) to leader 1
client write log 5676960087261716090 (index 264) to leader 1
client write log 1072798412779186545 (index 265) to leader 1
client write log 9054902395172103816 (index 266) to leader 1
client write log 8388151337621840393 (index 267) to leader 1
client write log 7302622506244953954 (index 268) to leader 1
client write log 2248415601351336985 (index 269) to leader 1
client write log 637994001411158549 (index 270) to leader 1
flag 30903 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
flag 86682 term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 43 leaderCommit: 261 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 259} {5531160493019112433 43 260} {8165746225346990778 43 261} {9171294570241120559 43 262} {5917719021482912787 43 263} {5676960087261716090 43 264} {1072798412779186545 43 265} {9054902395172103816 43 266} {8388151337621840393 43 267} {7302622506244953954 43 268} {2248415601351336985 43 269} {637994001411158549 43 270}]
------------------------------------------------------
term 43 Server1 start snapshot! index=269
term 43 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31169 term 43 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3253718690726357090 (index 271) to leader 1
flag 36437 term 43 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 16750 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 52583 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 272->271
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 28769 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
Server2 get CondInstallSnapshot!
leader 1 sendAppendEntries -> server 0 truerf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
update nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24816 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 1173 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 11970 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 21772 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12135 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 25478 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 49509 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 42401 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 65946 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 84687 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 13981 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 47653 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15585 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 66510 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 73258 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 26127 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 1 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 1
flag 30438 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 29518 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98585 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 35420 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30329 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 68453 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 43146 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 15001 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 51149 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 18188 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 74240 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 46389 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 8604 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 21249 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50996 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 32332 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
flag 20594 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 24600 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271}]
------------------------------------------------------
client write log 3253718690726357090 (index 272) to leader 1
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73876 term 45 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 88292 term 45 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
flag 59956 term 45 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 69494 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
flag 29125 term 45 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 38614 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
flag 85587 term 45 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 51389 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 74803 term 45 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 18174 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70068 term 45 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 9468 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
flag 24079 term 45 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 39773 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 71486 term 45 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 85022 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 273->272
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 272
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 23839 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 272
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 87956 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 272
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 90090 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
flag 82673 term 46 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 52109 term 46 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272}]
------------------------------------------------------
client write log 3793998847167426884 (index 273) to leader 0
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 272
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 94250 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 90920 term 46 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 90962 term 46 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 46 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273}]
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 272
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 40007 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 40374 term 46 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
flag 46313 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273}]
------------------------------------------------------
client write log 3987434574339147997 (index 274) to leader 0
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 272
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 13772 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 32872 term 46 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
flag 66982 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 272
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 79043 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
flag 17298 term 46 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 76816 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2871790203141893325 (index 273) to leader 1
flag 38597 term 45 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
flag 46829 term 45 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 45 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83327 term 46 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 65521 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 74005 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 17579 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 14913 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 76846 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84062 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 37424 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 275->274
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 274
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 44234 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 274 args.LastIncludedIndex 269
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 72240 term 46 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 74056 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 71248 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 10772 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 77730 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 29767 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 275->274
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 274
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 53009 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 274 args.LastIncludedIndex 269
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 269
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 12038 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 274 args.LastIncludedIndex 269
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 66756 term 46 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 11852 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69355 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 49735 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 52492 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 5456 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40214 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 60344 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 12940 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 14956 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
flag 60543 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 28065 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 21024 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 83055 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 99582 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 64871 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 1925 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 73799 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
flag 20122 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 22434 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274}]
------------------------------------------------------
client write log 2871790203141893325 (index 275) to leader 0
flag 77407 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 28720 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
flag 18557 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 28656 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
flag 17162 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 96798 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
flag 41645 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 36603 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
term 46 server 1 not vote for server 0, 日志不够新
term 46 server 0 get outdate rpc reply from server 1
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 43953 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 275 args.LastIncludedIndex 269
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 31903 term 46 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 68336 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
flag 13550 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 83386 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2669806917414184405 (index 276) to leader 0
flag 5965 term 46 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 3831 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275} {2669806917414184405 46 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 98103 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275} {2669806917414184405 46 276}]
------------------------------------------------------
client write log 8255341829149751206 (index 277) to leader 0
client write log 6720233153295921126 (index 278) to leader 0
client write log 945714390420221535 (index 279) to leader 0
client write log 2787700643594385751 (index 280) to leader 0
client write log 8209105495159503284 (index 281) to leader 0
client write log 6382981539274091101 (index 282) to leader 0
client write log 3496520444273935042 (index 283) to leader 0
client write log 6954127999066165173 (index 284) to leader 0
client write log 1885156730725904495 (index 285) to leader 0
client write log 7816071144974182887 (index 286) to leader 0
client write log 2520894345709748399 (index 287) to leader 0
client write log 3796939604074918265 (index 288) to leader 0
client write log 4635032593025987556 (index 289) to leader 0
client write log 1244507437366533920 (index 290) to leader 0
client write log 337743210683326606 (index 291) to leader 0
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 81692 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 269} {637994001411158549 43 270} {3253718690726357090 43 271} {3253718690726357090 45 272} {3793998847167426884 46 273} {3987434574339147997 46 274} {2871790203141893325 46 275} {2669806917414184405 46 276} {8255341829149751206 46 277} {6720233153295921126 46 278} {945714390420221535 46 279} {2787700643594385751 46 280} {8209105495159503284 46 281} {6382981539274091101 46 282} {3496520444273935042 46 283} {6954127999066165173 46 284} {1885156730725904495 46 285} {7816071144974182887 46 286} {2520894345709748399 46 287} {3796939604074918265 46 288} {4635032593025987556 46 289} {1244507437366533920 46 290} {337743210683326606 46 291}]
------------------------------------------------------
term 46 Server0 start snapshot! index=279
term 46 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=291
-------------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 63297 term 46 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 46 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291}]
------------------------------------------------------
term 46 Server2 start snapshot! index=279
term 46 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=291
-------------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8669714852578957513 (index 292) to leader 0
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 46293 term 46 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 46 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 1
flag 27886 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 50348 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 293->292
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 276  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 43190 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
flag 50794 term 48 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 60700 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69457 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 93636 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
flag 87072 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 76550 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66895 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 61397 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59475 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 46042 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
flag 79516 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 30801 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6935775737124372419 (index 293) to leader 0
flag 2 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 30493 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292} {6935775737124372419 48 293}]
------------------------------------------------------
flag 95158 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 31137 term 48 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 48 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292} {6935775737124372419 48 293}]
------------------------------------------------------
client write log 9066954929290518205 (index 294) to leader 0
client write log 1394304508554302454 (index 295) to leader 0
client write log 1761575021266998701 (index 296) to leader 0
client write log 4957190329949399848 (index 297) to leader 0
client write log 952194886946496383 (index 298) to leader 0
client write log 3559359659359092125 (index 299) to leader 0
client write log 2636261578247794761 (index 300) to leader 0
client write log 6645503760780346400 (index 301) to leader 0
client write log 395381365110727800 (index 302) to leader 0
client write log 545328459482704547 (index 303) to leader 0
client write log 7559527223015151151 (index 304) to leader 0
client write log 8068480327965293837 (index 305) to leader 0
client write log 8361712075288993769 (index 306) to leader 0
client write log 3409364270635986789 (index 307) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49169 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 64205 term 48 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 48 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 289} {1244507437366533920 46 290} {337743210683326606 46 291} {8669714852578957513 46 292} {6935775737124372419 48 293} {9066954929290518205 48 294} {1394304508554302454 48 295} {1761575021266998701 48 296} {4957190329949399848 48 297} {952194886946496383 48 298} {3559359659359092125 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307}]
------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 41686 term 48 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 48 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=307
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5421228457561741064 (index 308) to leader 0
term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 65695 term 48 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 48 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 not vote for server 1, 日志不够新
term 50 server 2 vote for server 0
term 50 server 1 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
term 50 server 0 get outdate rpc reply from server 1
flag 53349 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 19613 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 309->308
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 293  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 88570 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18492 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 85812 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
flag 94674 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 77146 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29868 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 29478 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
flag 36234 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 74169 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67545 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 16956 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
flag 85081 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 5277 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 18547 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 3592 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 70505 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 70179 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60483 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 42142 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
flag 66159 term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 34056 term 51 leader 1 nextIndex[2]: 309  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308}]
------------------------------------------------------
client write log 5271010004074382722 (index 309) to leader 1
flag 59256 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 70821 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 86679 term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
flag 77215 term 51 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 51 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 299} {2636261578247794761 48 300} {6645503760780346400 48 301} {395381365110727800 48 302} {545328459482704547 48 303} {7559527223015151151 48 304} {8068480327965293837 48 305} {8361712075288993769 48 306} {3409364270635986789 48 307} {5421228457561741064 48 308} {5271010004074382722 51 309}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
flag 34879 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 8010 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
term 51 Server2 start snapshot! index=309
term 51 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 7641069796241993224 (index 310) to leader 1
client write log 4309599115308600643 (index 311) to leader 1
client write log 277846870091586723 (index 312) to leader 1
client write log 649420866210039509 (index 313) to leader 1
client write log 6138924754734393803 (index 314) to leader 1
client write log 8268996748553265249 (index 315) to leader 1
client write log 854501885046672231 (index 316) to leader 1
client write log 2798130884521766479 (index 317) to leader 1
client write log 2998665930625275711 (index 318) to leader 1
flag 5539 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 34777 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {7641069796241993224 51 310} {4309599115308600643 51 311} {277846870091586723 51 312} {649420866210039509 51 313} {6138924754734393803 51 314} {8268996748553265249 51 315} {854501885046672231 51 316} {2798130884521766479 51 317} {2998665930625275711 51 318}]
------------------------------------------------------
flag 4740 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 308 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 1061 term 51 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 51 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 51 309} {7641069796241993224 51 310} {4309599115308600643 51 311} {277846870091586723 51 312} {649420866210039509 51 313} {6138924754734393803 51 314} {8268996748553265249 51 315} {854501885046672231 51 316} {2798130884521766479 51 317} {2998665930625275711 51 318}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3006008687106880139 (index 319) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 309->308
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 26540 term 51 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 51 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 51 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 309} {7641069796241993224 51 310} {4309599115308600643 51 311} {277846870091586723 51 312} {649420866210039509 51 313} {6138924754734393803 51 314} {8268996748553265249 51 315} {854501885046672231 51 316} {2798130884521766479 51 317} {2998665930625275711 51 318} {3006008687106880139 51 319}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
term 51 Server1 start snapshot! index=319
term 51 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get outdate rpc reply from server 0
flag 41124 term 53 leader 1 nextIndex[0]: 320  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
flag 44009 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 320->319
------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 59818 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
[{snapshot 51 319}]
------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25765 term 53 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
flag 9987 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
flag 79383 term 53 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
flag 39468 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1968 term 53 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
flag 89072 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
flag 9436 term 53 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
flag 15578 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 51 319}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7984232404423130559 (index 320) to leader 1
flag 20037 term 53 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
flag 9907 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 319 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 51 319} {7984232404423130559 53 320}]
------------------------------------------------------
flag 86520 term 53 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 53 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 42081 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 320 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 51 319} {7984232404423130559 53 320}]
------------------------------------------------------
client write log 4425518910047473989 (index 321) to leader 1
client write log 8297869349867071315 (index 322) to leader 1
client write log 8012181343952962674 (index 323) to leader 1
client write log 3037092892024786464 (index 324) to leader 1
client write log 6935768398504279923 (index 325) to leader 1
client write log 3727707214943358690 (index 326) to leader 1
client write log 8996246798218962342 (index 327) to leader 1
client write log 124941265245671692 (index 328) to leader 1
client write log 7203337834901785029 (index 329) to leader 1
client write log 6401477932839806578 (index 330) to leader 1
client write log 8431497280609495082 (index 331) to leader 1
client write log 962804635188648203 (index 332) to leader 1
flag 54787 term 53 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 53 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 21319 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 320 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 319} {7984232404423130559 53 320} {4425518910047473989 53 321} {8297869349867071315 53 322} {8012181343952962674 53 323} {3037092892024786464 53 324} {6935768398504279923 53 325} {3727707214943358690 53 326} {8996246798218962342 53 327} {124941265245671692 53 328} {7203337834901785029 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332}]
------------------------------------------------------
term 53 Server1 start snapshot! index=329
term 53 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=332
-------------------------------------------------------------
flag 98732 term 53 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 53 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332}]
------------------------------------------------------
term 53 Server0 start snapshot! index=329
term 53 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=332
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8614553657359209191 (index 333) to leader 1
term 53 server 1 not vote for server 2, 日志不够新
term 53 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 2 vote for server 1
term 55 server 1 get vote from server 2
term 55 server 0 vote for server 1
term 55 server 1 become leader
------------------------------------------------------
term 55 server 1 get outdate rpc reply from server 0
flag 75718 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 44441 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 334->333
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 334->333
------------------------------------------------------
flag 61495 term 55 leader 1 nextIndex[0]: 333  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 320  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 53 rf.commitIndex 329 rf.lastApplied 329
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9045 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 69730 term 55 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 55 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22614 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 12204 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78120 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 70735 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
flag 68922 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 1124 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92651 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 55472 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95353 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 59644 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
flag 33444 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 9370 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93172 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 46579 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
flag 83249 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 29602 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
flag 92482 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 37561 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98594 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 5145 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
flag 54819 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 68986 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20109 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 90780 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
flag 47324 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 53974 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84287 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 72314 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73754 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 83582 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
flag 22313 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 33317 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
flag 92303 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 11459 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333}]
------------------------------------------------------
client write log 8614553657359209191 (index 334) to leader 1
flag 94506 term 55 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 60428 term 55 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
flag 30064 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 9281 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
flag 19975 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 48662 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15243 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 3076 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
term 55 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
flag 97950 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 25626 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
flag 26427 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 99299 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55414 term 55 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 63844 term 55 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {6401477932839806578 53 330} {8431497280609495082 53 331} {962804635188648203 53 332} {8614553657359209191 53 333} {8614553657359209191 55 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  77.1  3 1775  864747  334
--- PASS: TestSnapshotInstall2D (77.06s)
PASS
